<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Build with Naz : Box and Pin exploration in Rust | developerlife.com</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Build with Naz : Box and Pin exploration in Rust" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This tutorial is a deep dive into Rust Pin and Box types, along with concepts of ownership and borrowing. We will also cover a lot of background information on the concepts of operating system process, memory allocation and access, stack, and heap. The examples we create are designed to demonstrate the different semantics around the use of boxes and pinned boxes in Rust." />
<meta property="og:description" content="This tutorial is a deep dive into Rust Pin and Box types, along with concepts of ownership and borrowing. We will also cover a lot of background information on the concepts of operating system process, memory allocation and access, stack, and heap. The examples we create are designed to demonstrate the different semantics around the use of boxes and pinned boxes in Rust." />
<link rel="canonical" href="http://developerlife.com/2024/07/16/pin-box-dynamic-duo/" />
<meta property="og:url" content="http://developerlife.com/2024/07/16/pin-box-dynamic-duo/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-07-16T10:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Build with Naz : Box and Pin exploration in Rust" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2024-07-16T10:00:00-05:00","datePublished":"2024-07-16T10:00:00-05:00","description":"This tutorial is a deep dive into Rust Pin and Box types, along with concepts of ownership and borrowing. We will also cover a lot of background information on the concepts of operating system process, memory allocation and access, stack, and heap. The examples we create are designed to demonstrate the different semantics around the use of boxes and pinned boxes in Rust.","headline":"Build with Naz : Box and Pin exploration in Rust","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2024/07/16/pin-box-dynamic-duo/"},"url":"http://developerlife.com/2024/07/16/pin-box-dynamic-duo/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add fontawesome (only for bio.html page) -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
<!-- https://us14.admin.mailchimp.com/account/connected-sites/site-detail/ -->

<script id="mcjs">
  !(function (c, h, i, m, p) {
    ;(m = c.createElement(h)),
      (p = c.getElementsByTagName(h)[0]),
      (m.async = 1),
      (m.src = i),
      p.parentNode.insertBefore(m, p)
  })(
    document,
    "script",
    "https://chimpstatic.com/mcjs-connected/js/users/c2470ddfa863eb8ace707651b/2bb3bcad193ef862398700457.js"
  )
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Build with Naz : Box and Pin exploration in Rust&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Build with Naz : Box and Pin exploration in Rust</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Build with Naz : Box and Pin exploration in Rust</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Jul 16, 2024

            <!--Author-->
            ∙ <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is fontawesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, empowerment, lifelong learning,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            😃.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a href="/subscribe.html" target="_blank"
    ><kbd>Subscribe for updates</kbd></a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p></div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <!-- If a page has a hero-image defined in it, then show it here -->


        <p><img class="post-hero-image" src="/assets/box-and-pin.svg" /></p>

<!-- TOC -->

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#why-do-we-need-both-box-and-pin">Why do we need both Box and Pin?</a></li>
  <li><a href="#formatting-pointers">Formatting pointers</a></li>
  <li><a href="#what-is-a-smart-pointer">What is a smart pointer?</a></li>
  <li><a href="#youtube-video-for-this-article">YouTube video for this article</a></li>
  <li><a href="#examples-rust-box-smart-pointer-and-pin">Examples Rust Box smart pointer, and Pin</a>
    <ul>
      <li><a href="#example-1-getting-the-address-of-variables-on-the-stack-and-heap">Example 1: Getting the address of variables on the stack and heap</a></li>
      <li><a href="#example-2-what-does-box-move-do">Example 2: What does Box move do?</a></li>
      <li><a href="#example-3-how-do-we-swap-the-contents-of-two-boxes">Example 3: How do we swap the contents of two boxes?</a></li>
      <li><a href="#example-4-what-does-pining-a-box-do">Example 4: What does pining a box do?</a></li>
    </ul>
  </li>
  <li><a href="#build-with-naz-video-series-on-developerlifecom-youtube-channel">Build with Naz video series on developerlife.com YouTube channel</a></li>
</ul>

<!-- /TOC -->
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction">#</a>
        
        
      </h2>
    
<p><a id="markdown-introduction" name="introduction"></a></p>

<p>This tutorial is a deep dive into Rust <code class="language-plaintext highlighter-rouge">Pin</code> and <code class="language-plaintext highlighter-rouge">Box</code> types, along with concepts of
ownership and borrowing. We will also cover a lot of background information on the
concepts of operating system process, memory allocation and access, stack, and heap. The
examples we create are designed to demonstrate  the different semantics around the use of
boxes and pinned boxes in Rust.</p>
      <h2 id="why-do-we-need-both-box-and-pin">
        
        
          Why do we need both Box and Pin? <a href="#why-do-we-need-both-box-and-pin">#</a>
        
        
      </h2>
    
<p><a id="markdown-why-do-we-need-both-box-and-pin%3F" name="why-do-we-need-both-box-and-pin%3F"></a></p>

<p>It is common to use <code class="language-plaintext highlighter-rouge">Pin</code> for <code class="language-plaintext highlighter-rouge">tokio::select!</code> macro branches in <a href="https://developerlife.com/2024/05/19/effective-async-rust/">Rust async
code</a>. And <code class="language-plaintext highlighter-rouge">Box</code> is used
commonly for <a href="https://developerlife.com/2024/04/28/rust-polymorphism-dyn-impl-trait-objects-for-testing-and-extensibiity/">trait
pointers</a>.</p>

<p>This article, video, and repo illustrate the concepts (moving a box, swapping box
contents, and pinning a box) by example. Lots of pretty formatted output is generated so
that you can run tests and see what’s happening (and make sense of it).</p>
      <h2 id="formatting-pointers">
        
        
          Formatting pointers <a href="#formatting-pointers">#</a>
        
        
      </h2>
    
<p><a id="markdown-formatting-pointers" name="formatting-pointers"></a></p>

<p>To format pointers in Rust, we can use the formatting trait
<a href="https://doc.rust-lang.org/std/fmt/#formatting-traits"><code class="language-plaintext highlighter-rouge">{:p}</code></a>. You can format a
pointer by using two approaches:</p>
<ol>
  <li>Get the address of the pointer using [<code class="language-plaintext highlighter-rouge">std::ptr::addr_of!</code>] and then format it
using <code class="language-plaintext highlighter-rouge">{:p}</code>. Eg: <code class="language-plaintext highlighter-rouge">let x = 1; println!("{:p}", std::ptr::addr_of!(x));</code></li>
  <li>Get a reference to the pointer using <code class="language-plaintext highlighter-rouge">&amp;</code> and then format it using <code class="language-plaintext highlighter-rouge">{:p}</code>. Eg: <code class="language-plaintext highlighter-rouge">let
x = 1; println!("{:p}", &amp;x);</code></li>
</ol>
      <h2 id="what-is-a-smart-pointer">
        
        
          What is a smart pointer? <a href="#what-is-a-smart-pointer">#</a>
        
        
      </h2>
    
<p><a id="markdown-what-is-a-smart-pointer%3F" name="what-is-a-smart-pointer%3F"></a></p>

<p>Smart pointers in Rust are data structures that act like pointers but also have additional
metadata and capabilities. They provide a level of abstraction over raw pointers, offering
features like ownership management, reference counting, and more. Smart pointers often
manage ownership of the data they point to, ensuring proper deallocation when no longer
needed.</p>

<blockquote>
  <p>For a great visualization of memory allocation, stack and heap please read this
<a href="https://courses.grainger.illinois.edu/cs225/fa2022/resources/stack-heap/">article</a>.</p>
</blockquote>
      <h2 id="youtube-video-for-this-article">
        
        
          YouTube video for this article <a href="#youtube-video-for-this-article">#</a>
        
        
      </h2>
    
<p><a id="markdown-youtube-video-for-this-article" name="youtube-video-for-this-article"></a></p>

<p>This blog post has examples from this live coding video. If you like
to learn via video, please watch the companion video on the <a href="https://www.youtube.com/@developerlifecom">developerlife.com YouTube
channel</a>.</p>

<!-- video on tokio-async-cancel-safety -->
<iframe src="https://www.youtube.com/embed/SZtZkM2Ujhs?si=6wtfI_Q8ORpKUU_G" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>

<p><br /></p>
      <h2 id="examples-rust-box-smart-pointer-and-pin">
        
        
          Examples Rust Box smart pointer, and Pin <a href="#examples-rust-box-smart-pointer-and-pin">#</a>
        
        
      </h2>
    
<p><a id="markdown-examples-rust-box-smart-pointer%2C-and-pin" name="examples-rust-box-smart-pointer%2C-and-pin"></a></p>

<p>Let’s create some examples to illustrate how <code class="language-plaintext highlighter-rouge">Box</code> and <code class="language-plaintext highlighter-rouge">Pin</code> and pointers to stack
allocations and heap allocations work in Rust. You can run <code class="language-plaintext highlighter-rouge">cargo new --lib box-and-pin</code>
to create a new library crate.</p>

<blockquote>
  <p>💡 You can get the code from the
<a href="https://github.com/nazmulidris/rust-scratch/blob/main/box-and-pin/"><code class="language-plaintext highlighter-rouge">rust-scratch</code></a> repo.</p>
</blockquote>

<p>Then add the following to the <code class="language-plaintext highlighter-rouge">Cargo.toml</code> file that’s generated. These pull in all the
dependencies that we need for these examples.</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[package]</span>
<span class="py">name</span> <span class="p">=</span> <span class="s">"box-and-pin"</span>
<span class="py">version</span> <span class="p">=</span> <span class="s">"0.1.0"</span>
<span class="py">edition</span> <span class="p">=</span> <span class="s">"2021"</span>

<span class="nn">[dependencies]</span>
<span class="py">crossterm</span> <span class="o">=</span> <span class="p">{</span> <span class="py">version</span> <span class="p">=</span> <span class="s">"0.27.0"</span><span class="p">,</span> <span class="py">features</span> <span class="p">=</span> <span class="p">[</span><span class="s">"event-stream"</span><span class="p">]</span> <span class="p">}</span>
<span class="py">serial_test</span> <span class="p">=</span> <span class="s">"3.1.1"</span>
</code></pre></div></div>

<p>Here are the dependencies we are using:</p>
<ol>
  <li>The <code class="language-plaintext highlighter-rouge">serial_test</code> dep allows us to run Rust tests serially, so that we can examine the
output of each test, without it being clobbered by other test output running in
parallel.</li>
  <li>The <code class="language-plaintext highlighter-rouge">crossterm</code> dep allows us to generate colorful <code class="language-plaintext highlighter-rouge">println!</code> output in the terminal
which will help us visualize what is going on with the pointers and memory allocations.</li>
</ol>

<p>We are going to add all the examples below as tests to the <code class="language-plaintext highlighter-rouge">lib.rs</code> file in this crate.</p>
      <h3 id="example-1-getting-the-address-of-variables-on-the-stack-and-heap">
        
        
          Example 1: Getting the address of variables on the stack and heap <a href="#example-1-getting-the-address-of-variables-on-the-stack-and-heap">#</a>
        
        
      </h3>
    
<p><a id="markdown-example-1%3A-getting-the-address-of-variables-on-the-stack-and-heap" name="example-1%3A-getting-the-address-of-variables-on-the-stack-and-heap"></a></p>

<p>Let’s add the following imports and macros to the top of the <code class="language-plaintext highlighter-rouge">lib.rs</code> file. These will
help us print output from the tests, so that we can track where a pointer is located in
memory and what the size of the thing it points to is. There are two macros, one for a
reference or pointer, and another one for pinned pointers. And we have an assertion
function that can return true if all 3 arguments are equal.</p>

<div class="language-rs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nn">crossterm</span><span class="p">::</span><span class="nn">style</span><span class="p">::</span><span class="n">Stylize</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">serial_test</span><span class="p">::</span><span class="n">serial</span><span class="p">;</span>

<span class="cd">/// Given a pointer `$p`, it prints:</span>
<span class="cd">/// 1. it's address,</span>
<span class="cd">/// 2. and size of the thing it points to (in bytes).</span>
<span class="nd">macro_rules!</span> <span class="n">print_ptr_addr_size</span> <span class="p">{</span>
    <span class="p">(</span><span class="nv">$p</span><span class="p">:</span> <span class="n">expr</span><span class="p">)</span> <span class="k">=&gt;</span> <span class="p">{</span>
        <span class="nd">format!</span><span class="p">(</span><span class="s">"{:p}┆{}b"</span><span class="p">,</span> <span class="nv">$p</span><span class="p">,</span> <span class="nn">std</span><span class="p">::</span><span class="nn">mem</span><span class="p">::</span><span class="nf">size_of_val</span><span class="p">(</span><span class="nv">$p</span><span class="p">))</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="cd">/// Given a pinned pointer `$p`, it prints:</span>
<span class="cd">/// 1. it's address,</span>
<span class="cd">/// 2. and size of the thing it points to (in bytes).</span>
<span class="nd">macro_rules!</span> <span class="n">print_pin_addr_size</span> <span class="p">{</span>
    <span class="p">(</span><span class="nv">$p</span><span class="p">:</span> <span class="n">expr</span><span class="p">)</span> <span class="k">=&gt;</span> <span class="p">{</span>
        <span class="nd">format!</span><span class="p">(</span><span class="s">"{:p}┆{}b"</span><span class="p">,</span> <span class="nv">$p</span><span class="p">,</span> <span class="nn">std</span><span class="p">::</span><span class="nn">mem</span><span class="p">::</span><span class="nf">size_of_val</span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="o">*</span><span class="nv">$p</span><span class="p">)))</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="n">assert_three_equal</span><span class="o">&lt;</span><span class="n">T</span><span class="p">:</span> <span class="nb">PartialEq</span> <span class="o">+</span> <span class="nn">std</span><span class="p">::</span><span class="nn">fmt</span><span class="p">::</span><span class="n">Debug</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">T</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">T</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="s">"a and b are not equal"</span><span class="p">);</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="s">"a and c are not equal"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>So, before we start with the examples, let’s add a test that demonstrates how to get the
address of a variable on the stack and heap. Add the following code to your <code class="language-plaintext highlighter-rouge">lib.rs</code> file.</p>

<div class="language-rs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">#[test]</span>
<span class="nd">#[serial]</span>
<span class="k">fn</span> <span class="nf">print_ptr_addr_size</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Using `std::ptr::addr_of!` to get the memory address of a variable.</span>
    <span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">100u8</span><span class="p">;</span>
    <span class="k">let</span> <span class="n">x_addr</span> <span class="o">=</span> <span class="nn">std</span><span class="p">::</span><span class="nn">ptr</span><span class="p">::</span><span class="nd">addr_of!</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"x: {}, x_addr  : {}"</span><span class="p">,</span>
        <span class="n">x</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="nd">format!</span><span class="p">(</span><span class="s">"{:?}"</span><span class="p">,</span> <span class="n">x_addr</span><span class="p">)</span><span class="nf">.red</span><span class="p">()</span><span class="nf">.italic</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="c1">// Using `format!` to get the memory address of a variable.</span>
    <span class="k">let</span> <span class="n">x_addr_2</span> <span class="o">=</span> <span class="nd">format!</span><span class="p">(</span><span class="s">"{:p}"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"x: {}, x_addr_2: {}"</span><span class="p">,</span>
        <span class="n">x</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="n">x_addr_2</span><span class="nf">.red</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="c1">// Get size of `x` in bytes.</span>
    <span class="k">let</span> <span class="n">x_size</span> <span class="o">=</span> <span class="nn">std</span><span class="p">::</span><span class="nn">mem</span><span class="p">::</span><span class="nf">size_of_val</span><span class="p">(</span><span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"x: {}, x_size  : {}b"</span><span class="p">,</span>
        <span class="n">x</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="n">x_size</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="c1">// Using `print_ptr_addr_size!` to get the memory address of a variable.</span>
    <span class="k">let</span> <span class="n">x_addr_3</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"x: {}, x_addr_3: {}"</span><span class="p">,</span>
        <span class="n">x</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="n">x_addr_3</span><span class="nf">.red</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Here’s the output of the test above, after you run <code class="language-plaintext highlighter-rouge">cargo watch -x "test --lib -- --show-output print"</code>.</p>

<pre class="pre-manual-highlight">
---- print_ptr_addr_size stdout ----
x: <span style="color:#81A1C1"><u style="text-decoration-style:solid">100</u></span>, x_addr  : <span style="color:#BF616A"><i>0x7e17cd9feb97</i></span>
x: <span style="color:#81A1C1"><u style="text-decoration-style:solid">100</u></span>, x_addr_2: <span style="background-color:#3B4252"><span style="color:#BF616A"><i>0x7e17cd9feb97</i></span></span>
x: <span style="color:#81A1C1"><u style="text-decoration-style:solid">100</u></span>, x_size  : <span style="background-color:#3B4252"><span style="color:#B48EAD"><i>1</i></span></span>b
x: <span style="color:#81A1C1"><u style="text-decoration-style:solid">100</u></span>, x_addr_3: <span style="background-color:#3B4252"><span style="color:#BF616A"><i>0x7e17cd9feb97┆1b</i></span></span>
</pre>

<p>Let’s walk through the output above:</p>
<ol>
  <li>We have a variable <code class="language-plaintext highlighter-rouge">x</code> that is a <code class="language-plaintext highlighter-rouge">u8</code> with a value of <code class="language-plaintext highlighter-rouge">100</code>. This is a stack
allocation. It occupies 1 byte of memory (its size).</li>
  <li>We get the address of <code class="language-plaintext highlighter-rouge">x</code> using <code class="language-plaintext highlighter-rouge">std::ptr::addr_of!(x)</code> and <code class="language-plaintext highlighter-rouge">format!("{:p}", &amp;x)</code>.</li>
  <li>We get the size of <code class="language-plaintext highlighter-rouge">x</code> in bytes using <code class="language-plaintext highlighter-rouge">std::mem::size_of_val(&amp;x)</code>. The size is 1 byte.</li>
  <li>We get the address of <code class="language-plaintext highlighter-rouge">x</code> and the size of <code class="language-plaintext highlighter-rouge">x</code> using the <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro.</li>
</ol>
      <h3 id="example-2-what-does-box-move-do">
        
        
          Example 2: What does Box move do? <a href="#example-2-what-does-box-move-do">#</a>
        
        
      </h3>
    
<p><a id="markdown-example-2%3A-what-does-box-move-do%3F" name="example-2%3A-what-does-box-move-do%3F"></a></p>

<p>Add the following snippet to the <code class="language-plaintext highlighter-rouge">lib.rs</code> file next. This
<a href="https://courses.grainger.illinois.edu/cs225/fa2022/resources/stack-heap/">link</a> provids
lots of great diagrams on how stack and heap memory works in an operating system.</p>

<div class="language-rs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cd">/// &lt;https://courses.grainger.illinois.edu/cs225/fa2022/resources/stack-heap/&gt;</span>
<span class="nd">#[test]</span>
<span class="nd">#[serial]</span>
<span class="k">fn</span> <span class="nf">move_a_box</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">b_1</span> <span class="o">=</span> <span class="nn">Box</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="mi">255u8</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">b_1_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_1</span><span class="nf">.as_ref</span><span class="p">());</span> <span class="c1">// Pointee (heap)</span>
    <span class="k">let</span> <span class="n">b_1_ptr_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_1</span><span class="p">);</span> <span class="c1">// Pointer (stack)</span>

    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"1. {}: {}, {} (pointee, heap): {}, {} (ptr, stack): {}"</span><span class="p">,</span>
        <span class="s">"b_1"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_1</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="s">"b_1_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_1_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
        <span class="s">"b_1_ptr_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_1_ptr_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="k">let</span> <span class="n">b_2</span> <span class="o">=</span> <span class="n">b_1</span><span class="p">;</span>
    <span class="c1">// println!("{b_1:p}"); // ⛔ error: use of moved value: `b_1`</span>
    <span class="k">let</span> <span class="n">b_2_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_2</span><span class="nf">.as_ref</span><span class="p">());</span> <span class="c1">// Pointee (heap)</span>
    <span class="k">let</span> <span class="n">b_2_ptr_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_2</span><span class="p">);</span> <span class="c1">// Pointer (stack)</span>

    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"2. {}: {}, {} (pointee, heap): {}, {} (ptr, stack): {}"</span><span class="p">,</span>
        <span class="s">"b_2"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_2</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="s">"b_2_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_2_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
        <span class="s">"b_2_ptr_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_2_ptr_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="c1">// The heap memory allocation does not change (does not move). Pointee does not move.</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="n">b_1_addr</span><span class="p">,</span> <span class="n">b_2_addr</span><span class="p">);</span>

    <span class="c1">// The stack memory allocation does change (does move). Boxes aka pointers have move.</span>
    <span class="nd">assert_ne!</span><span class="p">(</span><span class="n">b_1_ptr_addr</span><span class="p">,</span> <span class="n">b_2_ptr_addr</span><span class="p">);</span>

    <span class="c1">// When b_2 is dropped, the heap allocation is deallocated. This is why Box is a smart pointer.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Let’s walk through the output above:</p>
<ol>
  <li>We have a <code class="language-plaintext highlighter-rouge">Box</code> <code class="language-plaintext highlighter-rouge">b_1</code> that points to a heap allocation of a <code class="language-plaintext highlighter-rouge">u8</code> with a value of <code class="language-plaintext highlighter-rouge">255</code>.
<code class="language-plaintext highlighter-rouge">b_1</code> is a variable on the stack that points to a heap allocation. We get the address
of the pointee and the pointer using the <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with
<code class="language-plaintext highlighter-rouge">b_1.as_ref()</code>. And we get the address of the pointer by passing <code class="language-plaintext highlighter-rouge">&amp;b_1</code> to
<code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code>.</li>
  <li>We move <code class="language-plaintext highlighter-rouge">b_1</code> into <code class="language-plaintext highlighter-rouge">b_2</code>. The heap memory allocation does not change (does not move).
The pointee does not move. But the stack memory allocation does change (does move).
Boxes aka pointers have moved. The <code class="language-plaintext highlighter-rouge">b_1</code> variable gets dropped. We can get the address
of the pointee using <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">b_2.as_ref()</code>. We can get the
address of the pointer using <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">&amp;b_2</code>.</li>
  <li>In the assertions, we check that the heap memory allocation does <strong>not</strong> change (does
not move). And we check that the stack memory allocation <strong>does</strong> change (does move).</li>
</ol>
      <h3 id="example-3-how-do-we-swap-the-contents-of-two-boxes">
        
        
          Example 3: How do we swap the contents of two boxes? <a href="#example-3-how-do-we-swap-the-contents-of-two-boxes">#</a>
        
        
      </h3>
    
<p><a id="markdown-example-3%3A-how-do-we-swap-the-contents-of-two-boxes%3F" name="example-3%3A-how-do-we-swap-the-contents-of-two-boxes%3F"></a></p>

<p>Add the following snippet to the <code class="language-plaintext highlighter-rouge">lib.rs</code> file next.</p>

<div class="language-rs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">#[test]</span>
<span class="nd">#[serial]</span>
<span class="k">fn</span> <span class="nf">swap_box_contents</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="k">mut</span> <span class="n">b_1</span> <span class="o">=</span> <span class="nn">Box</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="mi">100u8</span><span class="p">);</span>
    <span class="k">let</span> <span class="k">mut</span> <span class="n">b_2</span> <span class="o">=</span> <span class="nn">Box</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="mi">200u8</span><span class="p">);</span>

    <span class="k">let</span> <span class="n">og_b_1_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_1</span><span class="nf">.as_ref</span><span class="p">());</span>
    <span class="k">let</span> <span class="n">og_b_2_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_2</span><span class="nf">.as_ref</span><span class="p">());</span>

    <span class="nd">assert_eq!</span><span class="p">(</span><span class="o">*</span><span class="n">b_1</span><span class="p">,</span> <span class="mi">100u8</span><span class="p">);</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="o">*</span><span class="n">b_2</span><span class="p">,</span> <span class="mi">200u8</span><span class="p">);</span>

    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"1. {}: {}, {} (pointee, heap): {}, {} (ptr, stack): {}"</span><span class="p">,</span>
        <span class="s">"b_1"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_1</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="s">"b_1_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">og_b_1_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.red</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
        <span class="s">"b_1_ptr_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_1</span><span class="p">)</span>
            <span class="nf">.clone</span><span class="p">()</span>
            <span class="nf">.magenta</span><span class="p">()</span>
            <span class="nf">.italic</span><span class="p">()</span>
            <span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"2. {}: {}, {} (pointee, heap): {}, {} (ptr, stack): {}"</span><span class="p">,</span>
        <span class="s">"b_2"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_2</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="s">"b_2_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">og_b_2_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
        <span class="s">"b_2_ptr_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_2</span><span class="p">)</span>
            <span class="nf">.clone</span><span class="p">()</span>
            <span class="nf">.cyan</span><span class="p">()</span>
            <span class="nf">.italic</span><span class="p">()</span>
            <span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>

    <span class="nn">std</span><span class="p">::</span><span class="nn">mem</span><span class="p">::</span><span class="nf">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span> <span class="n">b_1</span><span class="p">,</span> <span class="o">&amp;</span><span class="k">mut</span> <span class="n">b_2</span><span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span><span class="s">"{}"</span><span class="p">,</span> <span class="s">"Swapped b_1 and b_2"</span><span class="nf">.cyan</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">());</span>

    <span class="k">let</span> <span class="n">new_b_1_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_1</span><span class="nf">.as_ref</span><span class="p">());</span>
    <span class="k">let</span> <span class="n">new_b_2_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_2</span><span class="nf">.as_ref</span><span class="p">());</span>

    <span class="nd">assert_eq!</span><span class="p">(</span><span class="o">*</span><span class="n">b_1</span><span class="p">,</span> <span class="mi">200u8</span><span class="p">);</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="o">*</span><span class="n">b_2</span><span class="p">,</span> <span class="mi">100u8</span><span class="p">);</span>

    <span class="nd">assert_eq!</span><span class="p">(</span><span class="n">og_b_1_addr</span><span class="p">,</span> <span class="n">new_b_2_addr</span><span class="p">);</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="n">og_b_2_addr</span><span class="p">,</span> <span class="n">new_b_1_addr</span><span class="p">);</span>

    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"3. {}: {}, {} (pointee, heap): {}, {} (ptr, stack): {}"</span><span class="p">,</span>
        <span class="s">"b_1"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_1</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="s">"b_1_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">new_b_1_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.magenta</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
        <span class="s">"b_1_ptr_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_1</span><span class="p">)</span>
            <span class="nf">.clone</span><span class="p">()</span>
            <span class="nf">.magenta</span><span class="p">()</span>
            <span class="nf">.italic</span><span class="p">()</span>
            <span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>
    <span class="nd">println!</span><span class="p">(</span>
        <span class="s">"4. {}: {}, {} (pointee, heap): {}, {} (ptr, stack): {}"</span><span class="p">,</span>
        <span class="s">"b_2"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">b_2</span><span class="nf">.to_string</span><span class="p">()</span><span class="nf">.blue</span><span class="p">()</span><span class="nf">.underlined</span><span class="p">(),</span>
        <span class="s">"b_2_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="n">new_b_2_addr</span><span class="nf">.clone</span><span class="p">()</span><span class="nf">.red</span><span class="p">()</span><span class="nf">.italic</span><span class="p">()</span><span class="nf">.on_black</span><span class="p">(),</span>
        <span class="s">"b_2_ptr_addr"</span><span class="nf">.green</span><span class="p">(),</span>
        <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_2</span><span class="p">)</span>
            <span class="nf">.clone</span><span class="p">()</span>
            <span class="nf">.cyan</span><span class="p">()</span>
            <span class="nf">.italic</span><span class="p">()</span>
            <span class="nf">.on_black</span><span class="p">(),</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Here’s the output of the test above, after you run <code class="language-plaintext highlighter-rouge">cargo watch -x "test --lib -- --show-output swap"</code>.</p>

<pre class="pre-manual-highlight">
---- swap_box_contents stdout ----
1. <span style="color:#A3BE8C">b_1</span>: <span style="color:#81A1C1"><u style="text-decoration-style:solid">100</u></span>, <span style="color:#A3BE8C">b_1_addr</span> (pointee, heap): <span style="background-color:#3B4252"><span style="color:#BF616A"><i>0x722b38000d10┆1b</i></span></span>, <span style="color:#A3BE8C">b_1_ptr_addr</span> (ptr, stack): <span style="background-color:#3B4252"><span style="color:#B48EAD"><i>0x722b3cbfdad0┆8b</i></span></span>
2. <span style="color:#A3BE8C">b_2</span>: <span style="color:#81A1C1"><u style="text-decoration-style:solid">200</u></span>, <span style="color:#A3BE8C">b_2_addr</span> (pointee, heap): <span style="background-color:#3B4252"><span style="color:#B48EAD"><i>0x722b38001f30┆1b</i></span></span>, <span style="color:#A3BE8C">b_2_ptr_addr</span> (ptr, stack): <span style="background-color:#3B4252"><span style="color:#8FBCBB"><i>0x722b3cbfdad8┆8b</i></span></span>
<span style="color:#8FBCBB"><u style="text-decoration-style:solid">Swapped b_1 and b_2</u></span>
3. <span style="color:#A3BE8C">b_1</span>: <span style="color:#81A1C1"><u style="text-decoration-style:solid">200</u></span>, <span style="color:#A3BE8C">b_1_addr</span> (pointee, heap): <span style="background-color:#3B4252"><span style="color:#B48EAD"><i>0x722b38001f30┆1b</i></span></span>, <span style="color:#A3BE8C">b_1_ptr_addr</span> (ptr, stack): <span style="background-color:#3B4252"><span style="color:#B48EAD"><i>0x722b3cbfdad0┆8b</i></span></span>
4. <span style="color:#A3BE8C">b_2</span>: <span style="color:#81A1C1"><u style="text-decoration-style:solid">100</u></span>, <span style="color:#A3BE8C">b_2_addr</span> (pointee, heap): <span style="background-color:#3B4252"><span style="color:#BF616A"><i>0x722b38000d10┆1b</i></span></span>, <span style="color:#A3BE8C">b_2_ptr_addr</span> (ptr, stack): <span style="background-color:#3B4252"><span style="color:#8FBCBB"><i>0x722b3cbfdad8┆8b</i></span></span>
</pre>

<p>Let’s walk through the output above:</p>
<ol>
  <li>We have two <code class="language-plaintext highlighter-rouge">Box</code>es <code class="language-plaintext highlighter-rouge">b_1</code> and <code class="language-plaintext highlighter-rouge">b_2</code> that point to heap allocations of <code class="language-plaintext highlighter-rouge">u8</code> with values
<code class="language-plaintext highlighter-rouge">100</code> and <code class="language-plaintext highlighter-rouge">200</code> respectively. We get the address of the pointees using
the <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">b_1.as_ref()</code> and <code class="language-plaintext highlighter-rouge">b_2.as_ref()</code>. We get the
address of the pointers using the <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">&amp;b_1</code> and <code class="language-plaintext highlighter-rouge">&amp;b_2</code>.</li>
  <li>We swap the contents of <code class="language-plaintext highlighter-rouge">b_1</code> and <code class="language-plaintext highlighter-rouge">b_2</code> using <code class="language-plaintext highlighter-rouge">std::mem::swap(&amp;mut b_1, &amp;mut b_2)</code>.
The values of <code class="language-plaintext highlighter-rouge">b_1</code> and <code class="language-plaintext highlighter-rouge">b_2</code> are now <code class="language-plaintext highlighter-rouge">200</code> and <code class="language-plaintext highlighter-rouge">100</code> respectively.</li>
  <li>We get the new addresses of the pointees using the <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with
<code class="language-plaintext highlighter-rouge">b_1.as_ref()</code> and <code class="language-plaintext highlighter-rouge">b_2.as_ref()</code>. We get the new addresses of the pointers using the
<code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">&amp;b_1</code> and <code class="language-plaintext highlighter-rouge">&amp;b_2</code>.</li>
  <li>In the assertions, we check that the values of <code class="language-plaintext highlighter-rouge">b_1</code> and <code class="language-plaintext highlighter-rouge">b_2</code> are <code class="language-plaintext highlighter-rouge">200</code> and <code class="language-plaintext highlighter-rouge">100</code>
respectively. We check that the addresses of the pointees <strong>have</strong> swapped. And we check
that the addresses of the pointers have <strong>not</strong> swapped.</li>
</ol>
      <h3 id="example-4-what-does-pining-a-box-do">
        
        
          Example 4: What does pining a box do? <a href="#example-4-what-does-pining-a-box-do">#</a>
        
        
      </h3>
    
<p><a id="markdown-example-4%3A-what-does-pining-a-box-do%3F" name="example-4%3A-what-does-pining-a-box-do%3F"></a></p>

<p>Add the following code to your <code class="language-plaintext highlighter-rouge">lib.rs</code> file.</p>

<div class="language-rs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fn</span> <span class="nf">box_and_pin_dynamic_duo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">b_1</span> <span class="o">=</span> <span class="nn">Box</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="mi">100u8</span><span class="p">);</span>
    <span class="c1">// Pointee.</span>
    <span class="k">let</span> <span class="n">b_1_addr</span> <span class="o">=</span> <span class="nd">print_ptr_addr_size!</span><span class="p">(</span><span class="n">b_1</span><span class="nf">.as_ref</span><span class="p">());</span>

    <span class="k">let</span> <span class="n">p_b_1</span> <span class="o">=</span> <span class="nn">std</span><span class="p">::</span><span class="nn">boxed</span><span class="p">::</span><span class="nn">Box</span><span class="p">::</span><span class="o">&lt;</span><span class="nb">u8</span><span class="o">&gt;</span><span class="p">::</span><span class="nf">into_pin</span><span class="p">(</span><span class="n">b_1</span><span class="p">);</span>
    <span class="c1">// Pinned.</span>
    <span class="k">let</span> <span class="n">p_b_1_addr</span> <span class="o">=</span> <span class="nd">print_pin_addr_size!</span><span class="p">(</span><span class="n">p_b_1</span><span class="p">);</span>

    <span class="k">let</span> <span class="n">b_2</span> <span class="o">=</span> <span class="n">p_b_1</span><span class="p">;</span>
    <span class="c1">// println!("{}", p_b_1); // ⛔ error: use of moved value: `p_b_1`</span>

    <span class="c1">// Pin does not move.</span>
    <span class="k">let</span> <span class="n">b_2_addr</span> <span class="o">=</span> <span class="nd">print_pin_addr_size!</span><span class="p">(</span><span class="n">b_2</span><span class="p">);</span>

    <span class="c1">// Pointee has not moved!</span>
    <span class="nd">assert_eq!</span><span class="p">(</span><span class="n">b_1_addr</span><span class="p">,</span> <span class="n">b_2_addr</span><span class="p">);</span>

    <span class="c1">// Pointer has not moved!</span>
    <span class="nf">assert_three_equal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b_1_addr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">p_b_1_addr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b_2_addr</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When you run the command <code class="language-plaintext highlighter-rouge">cargo watch -x "test --lib -- --show-output dynamic"</code> it doesn’t
really produce any output.</p>

<p>Let’s walk through the code above:</p>
<ol>
  <li>We have a <code class="language-plaintext highlighter-rouge">Box</code> <code class="language-plaintext highlighter-rouge">b_1</code> that points to a heap allocation of a <code class="language-plaintext highlighter-rouge">u8</code> with a value of <code class="language-plaintext highlighter-rouge">100</code>.
We get the address of the pointee using the <code class="language-plaintext highlighter-rouge">print_ptr_addr_size!</code> macro with
<code class="language-plaintext highlighter-rouge">b_1.as_ref()</code>.</li>
  <li>We pin <code class="language-plaintext highlighter-rouge">b_1</code> into <code class="language-plaintext highlighter-rouge">p_b_1</code> using <code class="language-plaintext highlighter-rouge">std::boxed::Box::&lt;u8&gt;::into_pin(b_1)</code>. The pointee
does not move. We get the address of the pinned pointer using the
<code class="language-plaintext highlighter-rouge">print_pin_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">p_b_1</code>.</li>
  <li>We move <code class="language-plaintext highlighter-rouge">p_b_1</code> into <code class="language-plaintext highlighter-rouge">b_2</code>. The pin does not move. We get the address of the pinned
pointer using the <code class="language-plaintext highlighter-rouge">print_pin_addr_size!</code> macro with <code class="language-plaintext highlighter-rouge">b_2</code>.</li>
  <li>In the assertions, we check that the pointee has <strong>not</strong> moved. And we check that the
pointer has <strong>not</strong> moved.</li>
</ol>
      <h2 id="build-with-naz-video-series-on-developerlifecom-youtube-channel">
        
        
          Build with Naz video series on developerlife.com YouTube channel <a href="#build-with-naz-video-series-on-developerlifecom-youtube-channel">#</a>
        
        
      </h2>
    
<p><a id="markdown-build-with-naz-video-series-on-developerlife.com-youtube-channel" name="build-with-naz-video-series-on-developerlife.com-youtube-channel"></a></p>

<blockquote>
  <p>If you have comments and feedback on this content, or would like to request new content
(articles &amp; videos) on developerlife.com, please join our <a href="https://discord.gg/8M2ePAevaMi">discord
server</a>.</p>
</blockquote>

<p>You can watch a video series on building this crate with Naz on the
<a href="https://www.youtube.com/@developerlifecom">developerlife.com YouTube channel</a>.</p>

<ul>
  <li><a href="https://www.youtube.com/@developerlifecom">YT channel</a></li>
  <li>Playlists
    <ul>
      <li><a href="https://www.youtube.com/playlist?list=PLofhE49PEwmza94sS7UmJnN9gSCHTVTfz">Build with Naz, fundamental effective Rust</a></li>
      <li><a href="https://www.youtube.com/playlist?list=PLofhE49PEwmwO69E7eiQ-ewnMME8ydgQ5">Build with Naz, effective async Rust and tokio</a></li>
      <li><a href="https://www.youtube.com/watch?v=3vQJguti02I&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE">Build with Naz, async readline and spinner for CLI in Rust</a></li>
      <li><a href="https://www.youtube.com/watch?v=Xt495QLrFFk&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8">Build with Naz, testing in Rust</a></li>
    </ul>
  </li>
</ul>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/CLI">
                #cli</a>
        </span>
    
    <span class="category">
            <a href="/category/Rust">
                #rust</a>
        </span>
    
    <span class="category">
            <a href="/category/Server">
                #server</a>
        </span>
    
    <span class="category">
            <a href="/category/TUI">
                #tui</a>
        </span>
    
</div>

        
<blockquote>

  👀 Watch Rust 🦀 live coding videos on our <a
  href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br/>
  <br/>

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <br/>
  <br/>

  📦 Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
  (they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
  project):
  <ul>
    <li>🐱<code>giti</code>: run interactive git commands with confidence in your terminal</li>
    <li>🦜<code>edi</code>: edit Markdown with style in your terminal</li>
  </ul>

  <p>
  <kbd>giti in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
  </video>
  </p>

  <p>
  <kbd>edi in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
  </video>
  </p>

  </blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/07/10/rust-async-cancellation-safety-tokio/">
                        Build with Naz : Rust async in practice tokio::select!, actor pattern &amp; cancel safety
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/06/28/md-parser-rust-from-r3bl-tui/">
                        Build with Naz : Markdown parser in Rust and nom from r3bl_tui
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/06/10/rust-miette-error-handling/">
                        Build with Naz : Rust error handling with miette
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/05/28/typestate-pattern-rust/">
                        Build with Naz : Rust typestate pattern
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/05/25/tokio-uring-exploration-rust/">
                        Build with Naz : Linux io_uring and tokio-uring exploration with Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/05/19/effective-async-rust/">
                        Build with Naz : Rust async, non-blocking, concurrent, parallel, event loops, graceful shutdown
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/05/15/tokio-tracing-otel-rust/">
                        Build with Naz : tokio tracing &amp; OTel and how to use it in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/04/28/rust-polymorphism-dyn-impl-trait-objects-for-testing-and-extensibiity/">
                        Build with Naz : Rust Polymorphism, dyn, impl, using existing traits, trait objects for testing and extensibility
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/04/21/build-async-interactive-cli-apps-in-rust/">
                        Build with Naz : Build interactive and non blocking CLI apps with ease in Rust using r3bl_terminal_async
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/01/13/write-simple-netcat-in-rust/">
                        Write a simple netcat client and server in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/01/13/write-simple-chat-server-in-rust/">
                        Write a simple TCP chat server in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2023/09/22/overcome-your-fear-of-merge-conflicts/">
                        How to overcome your fear of git merge conflicts
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2023/09/17/tuify-clap/">
                        tuify your clap CLI apps and make them more interactive
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2023/08/28/justfile/">
                        Use just to manage project specific commands
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2023/02/20/guide-to-nom-parsing/">
                        Build with Naz : Comprehensive guide to nom parsing
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/08/04/rust-dsl-part-1/">
                        Create a simple DSL for CSS like syntax for TUIs
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/12/rust-redux/">
                        Write a Redux library in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/12/rust-tokio/">
                        Write code using async/await in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/02/rust-grep-cli-app/">
                        Build a grep CLI app in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/02/24/rust-non-binary-tree/">
                        Build a non-binary tree that is thread safe using Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/11/25/ink-v3-advanced-ui-components/">
                        Reference handbook for using Ink v3.2.0 components (w/ React, Node.js and TypeScript)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/11/05/ink-v3-advanced/">
                        Advanced guide to Ink v3.2.0 (w/ React, Node.js and TypeScript)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/11/04/introduction-to-ink-v3/">
                        Introduction to Ink v3.2.0 (w/ React, Node.js and TypeScript)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2024/07/08/ubuntu24/">
                        Build with Naz : Ubuntu 24.04 setup and config for dev productivity
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/30/rust-proc-macro/">
                        Guide to Rust procedural macros
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/07/02/nodejs-typescript-handbook/">
                        Node.js (v16.3.0) Handbook using TypeScript (v4.3.4)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/12/02/project-loom-experiment/">
                        Experimenting w/ Fibers in Project Loom preview
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2011/04/13/creating-asynchronous-servlets-with-tomcat-7-servlet-3-0-api/">
                        Creating asynchronous servlets with Tomcat 7 (Servlet 3.0 API)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2009/03/06/using-json-for-mobile-object-exchange/">
                        Using JSON for mobile object exchange
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/04/21/geocoding-tutorial-accessing-google-static-maps-from-java/">
                        Geocoding tutorial - Accessing Google Static Maps from Java
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/11/27/what-is-xml-an-introduction/">
                        What is XML? An introduction
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2000/09/20/advanced-threads/">
                        Advanced Threads
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/1998/12/01/xml-and-java-tutorial-part-1/">
                        XML and Java Tutorial, Part 1
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2024/07/16/pin-box-dynamic-duo/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- effective async rust & playlist -->
    <iframe
    src="https://www.youtube.com/embed/qvIt8MF-pCM?si=S40pbhnvVDAohj-6"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen>
    </iframe>
    <h2 class="star-us-github-heading">
      Subscribe to our
      <a href="https://www.youtube.com/@developerlifecom">YT Channel</a
      ><span class="heading-emoji"> 🦀</span>
    </h2>

    <hr />

    <h2 class="star-us-github-heading">
      Use our crates & apps<span class="heading-emoji"> 📦</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://chromewebstore.google.com/detail/r3bl-shortlink/ffhfkgcfbjoadmhdmdcmigopbfkddial?hl=en-US&gl=US" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <!-- <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li> -->
    </ul>

    <hr />

    <h2 class="star-us-github-heading">
      Join our <a href="https://discord.gg/PhuF4qFpcA">Discord</a>
      <span class="heading-emoji"> 💬</span>
    </h2>

  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. © Nazmul Idris 2022. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics related to Java, XML,
    and web and desktop technologies. Today it covers Rust, TUI, CLI, Kotlin, TypeScript, Node.js, React, Android,
    JDK, Web, Cloud technologies, User Experience Engineering (UXE) and design topics. © Nazmul
    Idris 2022. All rights reserved.
  </p>
  <div class="footer-container">
    <!-- element 1 -->
    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Subscribe for updates</a
      >
    </kbd>

    <!-- element 2 -->
    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com" target="_blank">Sponsored by R3BL</a>
    </kbd>
  </div>
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
