<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Getting started with MediaPlayer on Android | developerlife.com</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Getting started with MediaPlayer on Android" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This article is an introduction on how to use Android MediaPlayer in your apps to playback audio 🎵" />
<meta property="og:description" content="This article is an introduction on how to use Android MediaPlayer in your apps to playback audio 🎵" />
<link rel="canonical" href="http://developerlife.com/2017/07/29/getting-started-with-mediaplayer-on-android/" />
<meta property="og:url" content="http://developerlife.com/2017/07/29/getting-started-with-mediaplayer-on-android/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-07-29T18:59:24-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Getting started with MediaPlayer on Android" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2017-07-29T18:59:24-05:00","datePublished":"2017-07-29T18:59:24-05:00","description":"This article is an introduction on how to use Android MediaPlayer in your apps to playback audio 🎵","headline":"Getting started with MediaPlayer on Android","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2017/07/29/getting-started-with-mediaplayer-on-android/"},"url":"http://developerlife.com/2017/07/29/getting-started-with-mediaplayer-on-android/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add fontawesome (only for bio.html page) -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Getting started with MediaPlayer on Android&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Getting started with MediaPlayer on Android</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Getting started with MediaPlayer on Android</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Jul 29, 2017

            <!--Author-->
            ∙ <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is fontawesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, play, hope,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            😃.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <p class="social-media-item">
    <a
      href="mailto:hello@r3bl.com"
      target="_blank"
      title="Email us at hello@r3bl.com"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#email"></use>
      </svg>
    </a>
  </p>

  <p class="social-media-item">
    <a href="https://r3bl.com/#services" target="_blank" title="Need help with code?">
      <img class="svg-icon" src="https://r3bl.com/images/logo.svg" alt="R3BL Logo">
    </a>
  </p><p class="social-media-item">
    <a
      href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg"
      target="_blank"
      title="developerlife.com YouTube channel"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
      title="Nazmul Idris LinkedIn profile"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a
      href="https://www.github.com/nazmulidris" target="_blank" title="Nazmul Idris github profile">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank" title="RSS feed">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p></div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <!-- If a page has a hero-image defined in it, then show it here -->

<img class="post-hero-image" src="/assets/android-mediaplayer-hero.png"/>


        <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#source-code-on-github">Source code on Github</a></li>
  <li><a href="#using-mediaplayer">Using MediaPlayer</a>
    <ul>
      <li><a href="#mainactivity">MainActivity</a></li>
      <li><a href="#mediaplayerholder">MediaPlayerHolder</a></li>
      <li><a href="#event-bus">Event Bus</a>
        <ul>
          <li><a href="#events-from-media-player-to-ui">Events from media player to UI</a></li>
          <li><a href="#events-from-ui-to-media-player">Events from UI to media player</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#seekbar-integration">Seekbar integration</a>
    <ul>
      <li><a href="#updating-the-seekbar-with-playback-info">Updating the seekbar with playback info</a></li>
      <li><a href="#dragging-the-seekbar">Dragging the seekbar</a></li>
    </ul>
  </li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction">#</a>
        
        
      </h2>
    

<p>This article is an introduction on how to use Android MediaPlayer in your apps to playback audio.</p>

<p>In order to playback audio you can use MediaPlayer or ExoPlayer on Android. For this article, we are
going to use MediaPlayer.</p>

<p>You can use one instance of MediaPlayer to play one piece of audio at any given time. However, you
can re-use an instance of MediaPlayer to play different audio files.</p>

<p>In the source code used in this example, we are going to load a single MP3 file from the <code class="language-plaintext highlighter-rouge">res/raw</code>
folder in the app. You can also stream audio over a URL, but we are going to keep things really
simple for this example and article.</p>

<p>The MediaPlayer holds a lot of heavy resources in the Android platform (such as codecs). These are
shared resources and should be released when the MediaPlayer isn’t playing anything. While you can
re-use a MediaPlayer object to play more than one audio file, you should release it’s resources as
often as possible, so that you’re not consuming resources while not really playing anything back.</p>

<p>There are more sophisticated use cases involving audio focus and MediaSession which are not going to
be covered in this article.</p>
      <h2 id="source-code-on-github">
        
        
          Source code on Github <a href="#source-code-on-github">#</a>
        
        
      </h2>
    

<p>You can get the source code for the example app use in this article
<a href="https://github.com/r3bl-alliance/android-simple-mediaplayer">at github</a>.</p>
      <h2 id="using-mediaplayer">
        
        
          Using MediaPlayer <a href="#using-mediaplayer">#</a>
        
        
      </h2>
    

<p>The code example on GitHub shows you a very simple way to use a MediaPlayer object, that just plays
one MP3 file that’s loaded from the APK itself.</p>

<p>Here are the steps to using a MediaPlayer.</p>

<ol>
  <li>
    <p>Create a MediaPlayer object. You can reuse this instance to play the same MP3 file over and over
again, or load new MP3 files into the player object.</p>
  </li>
  <li>
    <p>Once created, you have to load media into it before you can play it. We are not loading audio
files from the network, but from the APK directly. You have to prepare this audio before it can
be played back. In the example, we use the blocking method <code class="language-plaintext highlighter-rouge">prepare()</code> but if you were loading a
very large file, or streaming over network, then you should use <code class="language-plaintext highlighter-rouge">prepareAsync()</code>. If you use the
async version, then you have to
<a href="https://stackoverflow.com/questions/23309857/android-correct-usage-of-prepareasync-in-media-player-activity">attach a listener</a>
that will be called once enough content has been buffered to start playback.</p>
  </li>
  <li>
    <p>You can cycle between <code class="language-plaintext highlighter-rouge">play()</code>, <code class="language-plaintext highlighter-rouge">pause()</code>, and <code class="language-plaintext highlighter-rouge">stop()</code> as many times as you like.</p>
  </li>
  <li>
    <p>If you call <code class="language-plaintext highlighter-rouge">reset()</code> then playback stops and the MediaPlayer has to be loaded with content again
before playback can start. In the MediaPlayerHolder, <code class="language-plaintext highlighter-rouge">load(int)</code> has to be called after <code class="language-plaintext highlighter-rouge">reset()</code>
for this reason.</p>
  </li>
  <li>
    <p>Once you are done with playback, make sure to call <code class="language-plaintext highlighter-rouge">release()</code> and let go of all the resources
the MediaPlayer has been holding. You can start from Step 2, and reuse the same instance of the
MediaPlayer to play audio.</p>
  </li>
</ol>
      <h3 id="mainactivity">
        
        
          MainActivity <a href="#mainactivity">#</a>
        
        
      </h3>
    

<p>The main classes to look at in the source code example are MainActivity and MediaPlayerHolder. Here
are some key elements highlighted from each of these classes.</p>

<p>The MainActivity contains the MediaPlayerHolder object. The holder object is created and released
with the activity lifecycle. You can also move the holder into a
<a href="https://developerlife.com/2017/07/10/android-o-n-and-below-component-lifecycles-and-background-tasks/">bound and started service</a>
and it would easily map to the service’s lifecycle as well.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">Activity</span><span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="nc">ButterKnife</span><span class="o">.</span><span class="na">bind</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">register</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">mMediaPlayerHolder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MediaPlayerHolder</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">setupSeekbar</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onDestroy</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onDestroy</span><span class="o">();</span>
        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">unregister</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onStop</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onStop</span><span class="o">();</span>
        <span class="n">mMediaPlayerHolder</span><span class="o">.</span><span class="na">release</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onStart</span><span class="o">();</span>
        <span class="n">mMediaPlayerHolder</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="no">MEDIA_RESOURCE_ID</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
      <h3 id="mediaplayerholder">
        
        
          MediaPlayerHolder <a href="#mediaplayerholder">#</a>
        
        
      </h3>
    

<p>The holder class wraps a MediaPlayer and manages it’s creation, release, loading, media preparation,
and playback.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MediaPlayerHolder</span><span class="o">{</span>
    <span class="kd">public</span> <span class="nf">MediaPlayerHolder</span><span class="o">(</span><span class="nc">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mContext</span> <span class="o">=</span> <span class="n">context</span><span class="o">;</span>
        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">register</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">mMediaPlayer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MediaPlayer</span><span class="o">();</span>
        <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">setOnCompletionListener</span><span class="o">(</span>
                <span class="k">new</span> <span class="nc">MediaPlayer</span><span class="o">.</span><span class="na">OnCompletionListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCompletion</span><span class="o">(</span><span class="nc">MediaPlayer</span> <span class="n">mediaPlayer</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">stopUpdatingSeekbarWithPlaybackProgress</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
                    <span class="n">logToUI</span><span class="o">(</span><span class="s">"MediaPlayer playback completed"</span><span class="o">);</span>
                    <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">post</span><span class="o">(</span>
                            <span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                                <span class="o">.</span><span class="na">PlaybackCompleted</span><span class="o">());</span>
                    <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">()</span>
                            <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                                <span class="o">.</span><span class="na">StateChanged</span><span class="o">(</span><span class="nc">PlayerState</span><span class="o">.</span><span class="na">COMPLETED</span><span class="o">));</span>
                <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">logToUI</span><span class="o">(</span><span class="s">"mMediaPlayer = new MediaPlayer()"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// MediaPlayer orchestration.</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">release</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">logToUI</span><span class="o">(</span><span class="s">"release() and mMediaPlayer = null"</span><span class="o">);</span>
        <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">release</span><span class="o">();</span>
        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">unregister</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">isPlaying</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">logToUI</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"start() %s"</span><span class="o">,</span>
                    <span class="n">mContext</span><span class="o">.</span><span class="na">getResources</span><span class="o">()</span>
                        <span class="o">.</span><span class="na">getResourceEntryName</span><span class="o">(</span><span class="n">mResourceId</span><span class="o">)));</span>
            <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
            <span class="n">startUpdatingSeekbarWithPlaybackProgress</span><span class="o">();</span>
            <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                            <span class="o">.</span><span class="na">StateChanged</span><span class="o">(</span><span class="nc">PlayerState</span><span class="o">.</span><span class="na">PLAYING</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">pause</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">isPlaying</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">pause</span><span class="o">();</span>
            <span class="n">logToUI</span><span class="o">(</span><span class="s">"pause()"</span><span class="o">);</span>
            <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                            <span class="o">.</span><span class="na">StateChanged</span><span class="o">(</span><span class="nc">PlayerState</span><span class="o">.</span><span class="na">PAUSED</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">reset</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">logToUI</span><span class="o">(</span><span class="s">"reset()"</span><span class="o">);</span>
        <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
        <span class="n">load</span><span class="o">(</span><span class="n">mResourceId</span><span class="o">);</span>
        <span class="n">stopUpdatingSeekbarWithPlaybackProgress</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">()</span>
                <span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                        <span class="o">.</span><span class="na">StateChanged</span><span class="o">(</span><span class="nc">PlayerState</span><span class="o">.</span><span class="na">RESET</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">load</span><span class="o">(</span><span class="kt">int</span> <span class="n">resourceId</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mResourceId</span> <span class="o">=</span> <span class="n">resourceId</span><span class="o">;</span>
        <span class="nc">AssetFileDescriptor</span> <span class="n">assetFileDescriptor</span> <span class="o">=</span>
                <span class="n">mContext</span><span class="o">.</span><span class="na">getResources</span><span class="o">().</span><span class="na">openRawResourceFd</span><span class="o">(</span>
                        <span class="n">mResourceId</span><span class="o">);</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">logToUI</span><span class="o">(</span><span class="s">"load() {1. setDataSource}"</span><span class="o">);</span>
            <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">setDataSource</span><span class="o">(</span><span class="n">assetFileDescriptor</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">logToUI</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">logToUI</span><span class="o">(</span><span class="s">"load() {2. prepare}"</span><span class="o">);</span>
            <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">prepare</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">logToUI</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">initSeekbar</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
      <h3 id="event-bus">
        
        
          Event Bus <a href="#event-bus">#</a>
        
        
      </h3>
    

<p>The MainActivity has a Seekbar which has to change based on MediaPlayer playback state. And of
course the control of the playback occurs in the MainActivity where the user presses the PLAY,
PAUSE, or RESET buttons. You could wire these classes up using callbacks, interfaces, or even
directly making method calls, and passing references to the activity to the holder and vice versa.
Instead, the code example uses an event bus in order to do this wiring while keeping these
components loosely coupled, but strongly coherent.</p>

<p>There are 2 classes that define the events (that are local to the process, since both the Activity
and MediaPlayer run in the same process).</p>
      <h4 id="events-from-media-player-to-ui">
        
        
          Events from media player to UI <a href="#events-from-media-player-to-ui">#</a>
        
        
      </h4>
    

<p>These events are fired from the MediaPlayerHolder class, and they have listeners in the MainActivity
that respond to them. This is how information about playback is sent to the UI (so that the seekbar
can be updated).</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LocalEventFromMediaPlayerHolder</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">UpdateLog</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">final</span> <span class="nc">StringBuffer</span> <span class="n">formattedMessage</span><span class="o">;</span>
        <span class="kd">public</span> <span class="nf">UpdateLog</span><span class="o">(</span><span class="nc">StringBuffer</span> <span class="n">formattedMessage</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">formattedMessage</span> <span class="o">=</span> <span class="n">formattedMessage</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PlaybackDuration</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">duration</span><span class="o">;</span>
        <span class="kd">public</span> <span class="nf">PlaybackDuration</span><span class="o">(</span><span class="kt">int</span> <span class="n">duration</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">duration</span> <span class="o">=</span> <span class="n">duration</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PlaybackPosition</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">position</span><span class="o">;</span>
        <span class="kd">public</span> <span class="nf">PlaybackPosition</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">position</span> <span class="o">=</span> <span class="n">position</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PlaybackCompleted</span> <span class="o">{}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">StateChanged</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">final</span> <span class="nc">MediaPlayerHolder</span><span class="o">.</span><span class="na">PlayerState</span> <span class="n">currentState</span><span class="o">;</span>
        <span class="kd">public</span> <span class="nf">StateChanged</span><span class="o">(</span><span class="nc">MediaPlayerHolder</span><span class="o">.</span><span class="na">PlayerState</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">currentState</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
      <h4 id="events-from-ui-to-media-player">
        
        
          Events from UI to media player <a href="#events-from-ui-to-media-player">#</a>
        
        
      </h4>
    

<p>These events are fired from the MainActivity to the MediaPlayerHolder. Things like the user pressing
on a button to PLAY, PAUSE, RESET, and dragging the seekbar to change progress are fired from the
activity and handled in the holder.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LocalEventFromMainActivity</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">StartPlayback</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ResetPlayback</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PausePlayback</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">StopUpdatingSeekbarWithMediaPosition</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">StartUpdatingSeekbarWithPlaybackPosition</span> <span class="o">{}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SeekTo</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">position</span><span class="o">;</span>
        <span class="kd">public</span> <span class="nf">SeekTo</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">position</span> <span class="o">=</span> <span class="n">position</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
      <h2 id="seekbar-integration">
        
        
          Seekbar integration <a href="#seekbar-integration">#</a>
        
        
      </h2>
    

<p>There are two parts to seekbar integration.</p>

<ol>
  <li>
    <p>The MainActivity has a Seekbar that moves as playback occurs.</p>
  </li>
  <li>
    <p>The user can also drag the seekbar at anytime and move the playback position of the audio to
whatever they have selected.</p>
  </li>
</ol>
      <h3 id="updating-the-seekbar-with-playback-info">
        
        
          Updating the seekbar with playback info <a href="#updating-the-seekbar-with-playback-info">#</a>
        
        
      </h3>
    

<p>The following code lives in MediaPlayerHolder.</p>

<ul>
  <li>
    <p>It starts an Executor that is started when playback starts.</p>
  </li>
  <li>
    <p>This executor simply gets the progress and reports it to the MainActivity via the event bus.</p>
  </li>
  <li>
    <p>This executor is stopped when playback completes, or reset is called.</p>
  </li>
</ul>

<p>Note: when the MP3 file is first loaded, it sends its duration to the activity as well, so that the
Seekbar’s <code class="language-plaintext highlighter-rouge">setMax(int)</code> method can be called with the duration of the loaded media.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MediaPlayerHolder</span><span class="o">{</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">stopUpdatingSeekbarWithPlaybackProgress</span><span class="o">(</span>
            <span class="kt">boolean</span> <span class="n">resetUIPlaybackPosition</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mExecutor</span><span class="o">.</span><span class="na">shutdownNow</span><span class="o">();</span>
        <span class="n">mExecutor</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">mSeekbarProgressUpdateTask</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">resetUIPlaybackPosition</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">post</span><span class="o">(</span>
                <span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                    <span class="o">.</span><span class="na">PlaybackPosition</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">startUpdatingSeekbarWithPlaybackProgress</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Setup a recurring task to sync the mMediaPlayer</span>
        <span class="c1">// position with the Seekbar.</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mExecutor</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">mExecutor</span> <span class="o">=</span> <span class="nc">Executors</span><span class="o">.</span><span class="na">newSingleThreadScheduledExecutor</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mSeekbarProgressUpdateTask</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">mSeekbarProgressUpdateTask</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Runnable</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">mMediaPlayer</span> <span class="o">!=</span> <span class="kc">null</span>
                            <span class="o">&amp;&amp;</span> <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">isPlaying</span><span class="o">())</span> <span class="o">{</span>
                        <span class="kt">int</span> <span class="n">currentPosition</span> <span class="o">=</span>
                            <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">getCurrentPosition</span><span class="o">();</span>
                        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">post</span><span class="o">(</span>
                            <span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                                <span class="o">.</span><span class="na">PlaybackPosition</span><span class="o">(</span><span class="n">currentPosition</span><span class="o">));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">};</span>
        <span class="o">}</span>
        <span class="n">mExecutor</span><span class="o">.</span><span class="na">scheduleAtFixedRate</span><span class="o">(</span>
                <span class="n">mSeekbarProgressUpdateTask</span><span class="o">,</span>
                <span class="mi">0</span><span class="o">,</span>
                <span class="no">SEEKBAR_REFRESH_INTERVAL_MS</span><span class="o">,</span>
                <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">MILLISECONDS</span>
        <span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initSeekbar</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Set the duration.</span>
        <span class="kd">final</span> <span class="kt">int</span> <span class="n">duration</span> <span class="o">=</span> <span class="n">mMediaPlayer</span><span class="o">.</span><span class="na">getDuration</span><span class="o">();</span>
        <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">post</span><span class="o">(</span>
                <span class="k">new</span> <span class="nc">LocalEventFromMediaPlayerHolder</span>
                    <span class="o">.</span><span class="na">PlaybackDuration</span><span class="o">(</span><span class="n">duration</span><span class="o">));</span>
        <span class="n">logToUI</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span>
                <span class="s">"setting seekbar max %d sec"</span><span class="o">,</span>
                <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">MILLISECONDS</span><span class="o">.</span><span class="na">toSeconds</span><span class="o">(</span><span class="n">duration</span><span class="o">)));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
      <h3 id="dragging-the-seekbar">
        
        
          Dragging the seekbar <a href="#dragging-the-seekbar">#</a>
        
        
      </h3>
    

<p>The user can drag the Seekbar in the MainActivity at anytime. This requires the Seekbar to already
be initialized with the duration of the audio from the MediaPlayerHolder (as described above).</p>

<p>While the user is dragging the Seekbar, it can no longer report media playback progress. Otherwise,
the playback progress info will fight with the user’s drag operation. So while the user is dragging
the Seekbar, it becomes numb to being updated by playback progress info.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">Activity</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setupSeekbar</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">mSeekbarAudio</span><span class="o">.</span><span class="na">setOnSeekBarChangeListener</span><span class="o">(</span>
                <span class="k">new</span> <span class="nc">SeekBar</span><span class="o">.</span><span class="na">OnSeekBarChangeListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">// This holds the progress value for onStopTrackingTouch.</span>
            <span class="kt">int</span> <span class="n">userSelectedPosition</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onProgressChanged</span><span class="o">(</span><span class="nc">SeekBar</span> <span class="n">seekBar</span><span class="o">,</span>
                                          <span class="kt">int</span> <span class="n">progress</span><span class="o">,</span>
                                          <span class="kt">boolean</span> <span class="n">fromUser</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Only fire seekTo() calls when user</span>
                <span class="c1">// stops the touch event.</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">fromUser</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">userSelectedPosition</span> <span class="o">=</span> <span class="n">progress</span><span class="o">;</span>
                    <span class="n">isUserSeeking</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStartTrackingTouch</span><span class="o">(</span><span class="nc">SeekBar</span> <span class="n">seekBar</span><span class="o">)</span> <span class="o">{</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStopTrackingTouch</span><span class="o">(</span><span class="nc">SeekBar</span> <span class="n">seekBar</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">isUserSeeking</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                <span class="nc">EventBus</span><span class="o">.</span><span class="na">getDefault</span><span class="o">().</span><span class="na">post</span><span class="o">(</span>
                        <span class="k">new</span> <span class="nc">LocalEventFromMainActivity</span><span class="o">.</span><span class="na">SeekTo</span><span class="o">(</span>
                            <span class="n">userSelectedPosition</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/Android">
                #android</a>
        </span>
    
</div>

        
<blockquote>

  👀 Watch Rust 🦀 live coding videos on our <a
  href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br/>
  <br/>

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <br/>
  <br/>

  📦 Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
  (they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
  project):
  <ul>
    <li>🐱<code>giti</code>: run interactive git commands with confidence in your terminal</li>
    <li>🦜<code>edi</code>: edit Markdown with style in your terminal</li>
  </ul>

  <p>
  <kbd>giti in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
  </video>
  </p>

  <p>
  <kbd>edi in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
  </video>
  </p>

  </blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/11/annotation-processing-kotlin-android/">
                        Annotation Processing in Kotlin and Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/05/11/kotlin-vs-java/">
                        Java vs Kotlin for Android development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-in-depth/">
                        In-depth exploration of Dagger 2
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/07/21/designing-for-multiple-screen-densities-on-android/">
                        Designing for multiple screen densities on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/07/introduction-to-android-architecture-components/">
                        Introduction to Android Architecture Components
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/02/android-downloadable-fonts/">
                        Android Downloadable Fonts
                    </a>
                </li>
            
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/09/android-o-n-and-below-component-lifecycles-and-background-tasks/">
                        Deep dive into Android Services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/26/flexbox-layouts-and-lists-with-react-native/">
                        Flexbox layouts and lists with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/14/navigation-and-styling-with-react-native/">
                        Navigation and Styling with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/03/31/getting-started-with-react-native/">
                        Getting started with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/01/27/native-android-redux-and-firebase/">
                        Android, Redux, Firebase Auth &amp; Database, and Material Design
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/20/gps/">
                        Android Location Providers (gps, network, passive)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/12/android-event-dispatch-thread-or-main-thread/">
                        Android Event Dispatch Thread or Main Thread
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2009/03/06/using-json-for-mobile-object-exchange/">
                        Using JSON for mobile object exchange
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/05/android-animation-framework/">
                        Android Animation Framework Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-listview/">
                        Android ListView and custom adapter Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-linearlayout/">
                        Android LinearLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/31/android-ui-themes/">
                        Android UI Themes Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/29/android-tablelayout/">
                        Android TableLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/option-and-context-menu/">
                        Android Option and Context menu Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/android-xml-view-inflation/">
                        Android XML View inflation Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/">
                        Android Activity and sub-Activity Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-33-multithreading/">
                        Android - How to build a service-enabled Android app - Part 3/3 Multithreading
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-13-ui/">
                        Android - How to build a service-enabled Android app - Part 1/3 UI
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-23-networking/">
                        Android - How to build a service-enabled Android App - Part 2/3 Networking
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2017/07/29/getting-started-with-mediaplayer-on-android/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- effective async rust & playlist -->
    <h2 class="star-us-github-heading">
      Subscribe to our
      <a href="https://www.youtube.com/@developerlifecom">YT Channel</a
      ><span class="heading-emoji"> 🦀</span>
    </h2>

    <iframe
    src="https://www.youtube.com/embed/qvIt8MF-pCM?si=S40pbhnvVDAohj-6"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen>
    </iframe>

    <hr />

    <h2 class="star-us-github-heading">
      <a href="https://r3bl.com#services">Need help with code?</a>
      <span class="heading-emoji"> 💼</span>
    </h2>

    <hr />

    <h2 class="star-us-github-heading">
      Use our crates & apps<span class="heading-emoji"> 📦</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://chromewebstore.google.com/detail/r3bl-shortlink/ffhfkgcfbjoadmhdmdcmigopbfkddial?hl=en-US&gl=US" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <!-- <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li> -->
    </ul>

  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. © Nazmul Idris 1996-2025. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a
    href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics
    related to Java, XML, and web and desktop technologies. Today it covers Rust, TUI,
    CLI, Kotlin, TypeScript, Node.js, React, Android, JDK, Web, Cloud technologies, User
    Experience Engineering (UXE) and design topics. © Nazmul Idris 1996-2025. All rights
    reserved.
  </p>

  <!--
  <div class="footer-container">

    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com#services" target="_blank">Need help with code?</a>
    </kbd>

    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Newsletter</a
      >
    </kbd>

  </div>
  -->
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
