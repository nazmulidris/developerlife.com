<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Algorithms in Kotlin, Schedule ordered tasks | developerlife.com</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Algorithms in Kotlin, Schedule ordered tasks" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This tutorial shows how one might schedule ordered tasks that need to be executed when a particular state is reached. However, these states might be reached in any order." />
<meta property="og:description" content="This tutorial shows how one might schedule ordered tasks that need to be executed when a particular state is reached. However, these states might be reached in any order." />
<link rel="canonical" href="http://developerlife.com/2019/03/30/algorithms-in-kotlin-8/" />
<meta property="og:url" content="http://developerlife.com/2019/03/30/algorithms-in-kotlin-8/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-30T06:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Algorithms in Kotlin, Schedule ordered tasks" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2019-03-30T06:00:00-05:00","datePublished":"2019-03-30T06:00:00-05:00","description":"This tutorial shows how one might schedule ordered tasks that need to be executed when a particular state is reached. However, these states might be reached in any order.","headline":"Algorithms in Kotlin, Schedule ordered tasks","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2019/03/30/algorithms-in-kotlin-8/"},"url":"http://developerlife.com/2019/03/30/algorithms-in-kotlin-8/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add fontawesome (only for bio.html page) -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Algorithms in Kotlin, Schedule ordered tasks&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Algorithms in Kotlin, Schedule ordered tasks</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Algorithms in Kotlin, Schedule ordered tasks</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Mar 30, 2019

            <!--Author-->
            ‚àô <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is fontawesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, play,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            üòÉ.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a class="social-media-item" href="https://discord.gg/PhuF4qFpcA" target="_blank"
    >Feedback & comments</a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p><a class="social-media-item" href="https://r3bl.com#services" target="_blank"
    >Need help with code?</a
  >

</div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <!-- If a page has a hero-image defined in it, then show it here -->


        <p><img class="post-hero-image" src="/assets/algo-hero.svg" /></p>

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#problem-definition">Problem Definition</a></li>
  <li><a href="#solution-in-kotlin-using-a-state-machine">Solution in Kotlin using a state machine</a></li>
  <li><a href="#source-code">Source code</a>
    <ul>
      <li><a href="#how-to-run-this-project">How to run this project</a>
        <ul>
          <li><a href="#importing-this-project-into-jetbrains-intellij-idea">Importing this project into JetBrains IntelliJ IDEA</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h2 id="problem-definition">
        
        
          Problem Definition <a href="#problem-definition">#</a>
        
        
      </h2>
    

<p>This tutorial showcases the use of a state management algorithm in Kotlin that can be used to
schedule ordered tasks.</p>

<p>The idea is that there are a set of tasks that must be executed when a specific state is reached.
Eg: in a camera app, certain tasks might be executed when certain hardware components become ready,
but these might become ready in an arbitrary sequence. And tasks can only be executed in the
expected ordered sequence.</p>

<p>Using a concrete example, let‚Äôs say there is an ordered sequence of 3 states: <code class="language-plaintext highlighter-rouge">[A, B, C]</code>. There are
some tasks that execute when state <code class="language-plaintext highlighter-rouge">A</code> transition occurs. Others execute when <code class="language-plaintext highlighter-rouge">B</code> transition occurs,
etc. However, these transitions don‚Äôt occur in order. They might happen like this: <code class="language-plaintext highlighter-rouge">B -&gt; A -&gt; C</code> or
<code class="language-plaintext highlighter-rouge">C -&gt; B -&gt; A</code>, etc. Regardless of the order in which these transitions occur, tasks (associated w/ a
state) can only execute when that that state transition has occurred.</p>

<p>If some out of order state transitions have already occurred, eg: <code class="language-plaintext highlighter-rouge">B</code> has happened, and <code class="language-plaintext highlighter-rouge">C</code> has
happened, but not <code class="language-plaintext highlighter-rouge">A</code>, then when <code class="language-plaintext highlighter-rouge">A</code> happens, all the tasks for <code class="language-plaintext highlighter-rouge">A</code>, <code class="language-plaintext highlighter-rouge">B</code>, and <code class="language-plaintext highlighter-rouge">C</code> need to be
executed.</p>
      <h2 id="solution-in-kotlin-using-a-state-machine">
        
        
          Solution in Kotlin using a state machine <a href="#solution-in-kotlin-using-a-state-machine">#</a>
        
        
      </h2>
    

<p>The solution involves creating a state machine that can be used to keep track of which transitions
have already occurred. And also keep track of the expected sequence of state transitions. Tasks that
are schedule can also be attached to this state machine, which only run when the appropriate state
transitions have occurred that allow these to be run.</p>

<p>The key is remembering the out of sequence state transitions that have occurred, <em>w/out acting on
them</em>. And when a state transition occurs, checking if all the subsequent states have already been
reached. In the code below this is achieved using a high order function called <code class="language-plaintext highlighter-rouge">condition</code> which is
run in a while loop (in the <code class="language-plaintext highlighter-rouge">StateMachine.checkOverflow()</code> function).</p>

<p>Here‚Äôs a listing of the code.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"Order enforcer to schedule ordered tasks"</span><span class="p">.</span><span class="nf">heading</span><span class="p">())</span>
    <span class="kd">val</span> <span class="py">enforcer</span> <span class="p">=</span> <span class="nc">StateMachine</span><span class="p">&lt;</span><span class="nc">Stage</span><span class="p">&gt;(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">A</span><span class="p">,</span> <span class="nc">Stage</span><span class="p">.</span><span class="nc">B</span><span class="p">,</span> <span class="nc">Stage</span><span class="p">.</span><span class="nc">C</span><span class="p">)</span>

    <span class="n">enforcer</span><span class="p">.</span><span class="nf">runWhen</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">A</span><span class="p">,</span> <span class="nc">Runnable</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="s">"A1"</span><span class="p">)</span> <span class="p">})</span>
    <span class="n">enforcer</span><span class="p">.</span><span class="nf">runWhen</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">B</span><span class="p">,</span> <span class="nc">Runnable</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="s">"B1"</span><span class="p">)</span> <span class="p">})</span>
    <span class="n">enforcer</span><span class="p">.</span><span class="nf">runWhen</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">C</span><span class="p">,</span> <span class="nc">Runnable</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="s">"C1"</span><span class="p">)</span> <span class="p">})</span>
    <span class="n">enforcer</span><span class="p">.</span><span class="nf">runWhen</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">C</span><span class="p">,</span> <span class="nc">Runnable</span> <span class="p">{</span> <span class="nf">println</span><span class="p">(</span><span class="s">"C2"</span><span class="p">)</span> <span class="p">})</span>

    <span class="n">enforcer</span><span class="p">.</span><span class="nf">transition</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">A</span><span class="p">)</span>
    <span class="n">enforcer</span><span class="p">.</span><span class="nf">transition</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">C</span><span class="p">)</span>
    <span class="n">enforcer</span><span class="p">.</span><span class="nf">transition</span><span class="p">(</span><span class="nc">Stage</span><span class="p">.</span><span class="nc">B</span><span class="p">)</span>

    <span class="n">enforcer</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">enum</span> <span class="kd">class</span> <span class="nc">Stage</span> <span class="p">{</span>
    <span class="nc">A</span><span class="p">,</span> <span class="nc">B</span><span class="p">,</span> <span class="nc">C</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">StateMachine</span><span class="p">&lt;</span><span class="nc">State</span><span class="p">&gt;(</span><span class="k">vararg</span> <span class="n">states</span><span class="p">:</span> <span class="nc">State</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">pattern</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="k">out</span> <span class="nc">State</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">states</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">runnableMap</span> <span class="p">=</span> <span class="nc">HashMap</span><span class="p">&lt;</span><span class="nc">State</span><span class="p">,</span> <span class="nc">ArrayList</span><span class="p">&lt;</span><span class="nc">Runnable</span><span class="p">&gt;&gt;()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">executorService</span> <span class="p">=</span> <span class="nc">Executors</span><span class="p">.</span><span class="nf">newSingleThreadExecutor</span><span class="p">()</span>
    <span class="k">fun</span> <span class="nf">runWhen</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nc">State</span><span class="p">,</span> <span class="n">runnable</span><span class="p">:</span> <span class="nc">Runnable</span><span class="p">)</span> <span class="p">=</span>
            <span class="n">runnableMap</span><span class="p">.</span><span class="nf">computeIfAbsent</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="p">{</span> <span class="nc">ArrayList</span><span class="p">()</span> <span class="p">}.</span><span class="nf">add</span><span class="p">(</span><span class="n">runnable</span><span class="p">)</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">runAllFor</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nc">State</span><span class="p">)</span> <span class="p">=</span>
            <span class="n">runnableMap</span><span class="p">[</span><span class="n">state</span><span class="p">]</span><span class="o">?.</span><span class="nf">forEach</span> <span class="p">{</span> <span class="n">executorService</span><span class="p">.</span><span class="nf">submit</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">shutdown</span><span class="p">()</span> <span class="p">=</span> <span class="n">executorService</span><span class="p">.</span><span class="nf">shutdown</span><span class="p">()</span>

    <span class="c1">// Record state transition.</span>
    <span class="k">private</span> <span class="kd">var</span> <span class="py">cursor</span> <span class="p">=</span> <span class="p">-</span><span class="mi">1</span>
    <span class="k">private</span> <span class="kd">var</span> <span class="py">overflowTransitions</span> <span class="p">=</span> <span class="nc">HashSet</span><span class="p">&lt;</span><span class="nc">State</span><span class="p">&gt;()</span>
    <span class="k">fun</span> <span class="nf">transition</span><span class="p">(</span><span class="n">newState</span><span class="p">:</span> <span class="nc">State</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pattern</span><span class="p">[</span><span class="n">cursor</span> <span class="p">+</span> <span class="mi">1</span><span class="p">]</span> <span class="p">==</span> <span class="n">newState</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Successfully transitioned to the next sequential state.</span>
            <span class="n">cursor</span><span class="p">++</span>
            <span class="nf">runAllFor</span><span class="p">(</span><span class="n">newState</span><span class="p">)</span>
            <span class="c1">// See if sequential states exist in overflowTransitions,</span>
            <span class="c1">// and if so run tasks UNTIL that state.</span>
            <span class="nf">checkOverflow</span><span class="p">()</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// Skip a state (non sequential).</span>
            <span class="n">overflowTransitions</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">newState</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">checkOverflow</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">condition</span><span class="p">:</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="nc">Boolean</span> <span class="p">=</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">cursor</span> <span class="p">+</span> <span class="mi">1</span> <span class="p">&gt;=</span> <span class="n">pattern</span><span class="p">.</span><span class="n">size</span><span class="p">)</span> <span class="k">false</span>
            <span class="k">else</span> <span class="n">overflowTransitions</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="n">pattern</span><span class="p">[</span><span class="n">cursor</span> <span class="p">+</span> <span class="mi">1</span><span class="p">])</span>
        <span class="p">}</span>
        <span class="k">while</span> <span class="p">(</span><span class="nf">condition</span><span class="p">())</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">nextState</span> <span class="p">=</span> <span class="n">pattern</span><span class="p">[</span><span class="n">cursor</span> <span class="p">+</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">overflowTransitions</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="n">nextState</span><span class="p">)</span>
            <span class="nf">runAllFor</span><span class="p">(</span><span class="n">nextState</span><span class="p">)</span>
            <span class="n">cursor</span><span class="p">++</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>
      <h2 id="source-code">
        
        
          Source code <a href="#source-code">#</a>
        
        
      </h2>
    

<p>The source code for this project is available here on
<a href="https://github.com/nazmulidris/algorithms-in-kotlin/blob/main/src/main/kotlin/orderenforcer.kt">github</a>.</p>
      <h3 id="how-to-run-this-project">
        
        
          How to run this project <a href="#how-to-run-this-project">#</a>
        
        
      </h3>
    

<p>You can get the code for this and all the other tutorials in this collection from
<a href="https://github.com/nazmulidris/algorithms-in-kotlin">this github repo</a>. Here‚Äôs a screen capture of
project in this repo in action.</p>

<p><img src="/assets/algo-app-anim.gif" alt="" /></p>

<p>Once you‚Äôve cloned the repo, type <code class="language-plaintext highlighter-rouge">./gradlew run</code> in order to build and run this project from the
command line.</p>
      <h4 id="importing-this-project-into-jetbrains-intellij-idea">
        
        
          Importing this project into JetBrains IntelliJ IDEA <a href="#importing-this-project-into-jetbrains-intellij-idea">#</a>
        
        
      </h4>
    

<ul>
  <li>This project was created using JetBrains Idea as a Gradle and Kotlin project
(<a href="https://www.jetbrains.com/help/idea/getting-started-with-gradle.html">more info</a>). - When you
import this project into Idea as a Gradle project, make sure not to check ‚ÄúOffline work‚Äù (which if
checked, won‚Äôt allow the gradle dependencies to be downloaded). - As of Jun 24 2018,
<a href="https://github.com/gradle/gradle/issues/4503">Java 10 doesn‚Äôt work w/ this gradle distribution</a>
(v4.4.x), so you can use Java 9 or 8, or upgrade to a newer version of gradle (4.8+).</li>
</ul>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/CS">
                #cs</a>
        </span>
    
    <span class="category">
            <a href="/category/KT">
                #kt</a>
        </span>
    
    <span class="category">
            <a href="/category/State">
                #state</a>
        </span>
    
</div>

        
<blockquote>

  üëÄ Watch Rust ü¶Ä live coding videos on our <a
  href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br/>
  <br/>

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <br/>
  <br/>

  üì¶ Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
  (they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
  project):
  <ul>
    <li>üê±<code>giti</code>: run interactive git commands with confidence in your terminal</li>
    <li>ü¶ú<code>edi</code>: edit Markdown with style in your terminal</li>
  </ul>

  <p>
  <kbd>giti in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
  </video>
  </p>

  <p>
  <kbd>edi in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
  </video>
  </p>

  </blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
                
                <li>
                    <a class="post-list" href="/2022/12/11/algo-ts-2/">
                        Algorithms and data structures in TypeScript: non binary tree traversal
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/11/21/algo-ts-1/">
                        Algorithms and data structures in TypeScript: string tokenizer, rate limiter
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/02/24/rust-non-binary-tree/">
                        Build a non-binary tree that is thread safe using Rust
                    </a>
                </li>
            
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-7/">
                        Algorithms in Kotlin, Caches, Part 7/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-6/">
                        Algorithms in Kotlin, Binary Trees, Part 6/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-5/">
                        Algorithms in Kotlin, Graphs, Part 5/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-4/">
                        Algorithms in Kotlin, Recursion, Part 4/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-3/">
                        Algorithms in Kotlin, Stacks and Queues, Part 3/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-2/">
                        Algorithms in Kotlin, Strings, Part 2/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-1/">
                        Algorithms in Kotlin, Big-O-Notation, Part 1/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/03/13/ij-idea-plugin-advanced/">
                        Advanced guide to creating IntelliJ IDEA plugins
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/02/06/publish-kotlin-library-as-gradle-dep/">
                        Publishing a Kotlin library as a Gradle dependency to JitPack or GitHub Package Repository
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/11/20/idea-plugin-example-intro/">
                        Introduction to creating IntelliJ IDEA plugins
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/15/non-capturing-lambda-problems/">
                        Potential problems of using non-capturing lambdas
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/11/annotation-processing-kotlin-android/">
                        Annotation Processing in Kotlin and Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/04/05/kotlin-dsl-intro/">
                        Kotlin DSL Introduction
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/12/02/project-loom-experiment/">
                        Experimenting w/ Fibers in Project Loom preview
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/05/11/kotlin-vs-java/">
                        Java vs Kotlin for Android development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/kotlin-testing-setup/">
                        Kotlin and Test Driven Development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/kotlin-sealed-classes/">
                        Kotlin Sealed Classes and State
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/kotlin-extension-function-expressions/">
                        Kotlin Extension Function Expressions
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-and-kotlin/">
                        Advanced Dagger 2 w/ Android and Kotlin
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/12/rust-redux/">
                        Write a Redux library in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/05/25/redux-react-navigation-and-react-native/">
                        Redux, React Navigation, and React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/03/31/getting-started-with-react-native/">
                        Getting started with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/01/27/native-android-redux-and-firebase/">
                        Android, Redux, Firebase Auth &amp; Database, and Material Design
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2016/10/06/getting-started-with-react-redux-and-firebase/">
                        Building a real world app using React, Redux, Firebase, and Typescript
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2019/03/30/algorithms-in-kotlin-8/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- effective async rust & playlist -->
    <h2 class="star-us-github-heading">
      Subscribe to our
      <a href="https://www.youtube.com/@developerlifecom">YT Channel</a
      ><span class="heading-emoji"> ü¶Ä</span>
    </h2>

    <iframe
    src="https://www.youtube.com/embed/qvIt8MF-pCM?si=S40pbhnvVDAohj-6"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen>
    </iframe>

    <hr />

    <h2 class="star-us-github-heading">
      <a href="https://r3bl.com#services">Need help with code?</a>
      <span class="heading-emoji"> üíº</span>
    </h2>

    <hr />

    <h2 class="star-us-github-heading">
      Use our crates & apps<span class="heading-emoji"> üì¶</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://chromewebstore.google.com/detail/r3bl-shortlink/ffhfkgcfbjoadmhdmdcmigopbfkddial?hl=en-US&gl=US" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <!-- <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li> -->
    </ul>

    <hr />

    <h2 class="star-us-github-heading">
      To provide feedback & comments, join our <a href="https://discord.gg/PhuF4qFpcA">Discord</a>
      <span class="heading-emoji"> üí¨</span>
    </h2>

  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. ¬© Nazmul Idris 1996-2025. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a
    href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics
    related to Java, XML, and web and desktop technologies. Today it covers Rust, TUI,
    CLI, Kotlin, TypeScript, Node.js, React, Android, JDK, Web, Cloud technologies, User
    Experience Engineering (UXE) and design topics. ¬© Nazmul Idris 1996-2025. All rights
    reserved.
  </p>

  <!--
  <div class="footer-container">

    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com#services" target="_blank">Need help with code?</a>
    </kbd>

    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Newsletter</a
      >
    </kbd>

  </div>
  -->
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
