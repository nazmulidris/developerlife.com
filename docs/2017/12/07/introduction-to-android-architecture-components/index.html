<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Introduction to Android Architecture Components | developerlife.com</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Introduction to Android Architecture Components" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The difficulties of dealing with things like configuration changes when rotating a screen, and sharing app state data between fragments and activities are a thing of the past. Architecture Components puts the magic back into Android development! üé©‚ú®" />
<meta property="og:description" content="The difficulties of dealing with things like configuration changes when rotating a screen, and sharing app state data between fragments and activities are a thing of the past. Architecture Components puts the magic back into Android development! üé©‚ú®" />
<link rel="canonical" href="http://developerlife.com/2017/12/07/introduction-to-android-architecture-components/" />
<meta property="og:url" content="http://developerlife.com/2017/12/07/introduction-to-android-architecture-components/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-07T12:41:26-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Introduction to Android Architecture Components" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2017-12-07T12:41:26-06:00","datePublished":"2017-12-07T12:41:26-06:00","description":"The difficulties of dealing with things like configuration changes when rotating a screen, and sharing app state data between fragments and activities are a thing of the past. Architecture Components puts the magic back into Android development! üé©‚ú®","headline":"Introduction to Android Architecture Components","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2017/12/07/introduction-to-android-architecture-components/"},"url":"http://developerlife.com/2017/12/07/introduction-to-android-architecture-components/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add fontawesome (only for bio.html page) -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
<!-- https://us14.admin.mailchimp.com/account/connected-sites/site-detail/ -->

<script id="mcjs">
  !(function (c, h, i, m, p) {
    ;(m = c.createElement(h)),
      (p = c.getElementsByTagName(h)[0]),
      (m.async = 1),
      (m.src = i),
      p.parentNode.insertBefore(m, p)
  })(
    document,
    "script",
    "https://chimpstatic.com/mcjs-connected/js/users/c2470ddfa863eb8ace707651b/2bb3bcad193ef862398700457.js"
  )
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Introduction to Android Architecture Components&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Introduction to Android Architecture Components</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Introduction to Android Architecture Components</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Dec 7, 2017

            <!--Author-->
            ‚àô <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is fontawesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, play,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            üòÉ.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a href="https://r3bl.com#services" target="_blank"
    ><kbd>Need help with code?</kbd></a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p><a href="/subscribe.html" target="_blank"
    ><kbd>Newsletter</kbd></a
  >

</div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <!-- If a page has a hero-image defined in it, then show it here -->

<img class="post-hero-image" src="/assets/arch-comp-hero.png"/>


        <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#put-the-magic-back-into-android-development">Put the magic back into Android development</a></li>
  <li><a href="#what-is-it">What is it?</a>
    <ul>
      <li><a href="#view">View</a></li>
      <li><a href="#viewmodel">ViewModel</a></li>
      <li><a href="#model">Model</a></li>
    </ul>
  </li>
  <li><a href="#example">Example</a>
    <ul>
      <li><a href="#data--1">Data # 1</a></li>
      <li><a href="#data--2">Data # 2</a></li>
      <li><a href="#adding-architecture-components-to-your-project">Adding Architecture Components to your project</a></li>
    </ul>
  </li>
  <li><a href="#the-kotlin-version">The Kotlin version</a>
    <ul>
      <li><a href="#ui---constraintlayout">UI - ConstraintLayout</a></li>
      <li><a href="#ui---downloadable-fonts">UI - Downloadable Fonts</a></li>
      <li><a href="#ui---no-more-findviewbyid">UI - No more findViewById</a></li>
      <li><a href="#ui---toasts">UI - Toasts</a></li>
      <li><a href="#ui---snackbar">UI - Snackbar</a></li>
      <li><a href="#ui---alert">UI - Alert</a></li>
      <li><a href="#viewmodel---stateviewmodel">ViewModel - StateViewModel</a></li>
      <li><a href="#livedata---counter">LiveData - Counter</a></li>
      <li><a href="#livedata---data">LiveData - Data</a></li>
    </ul>
  </li>
  <li><a href="#further-exploration">Further exploration</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h2 id="put-the-magic-back-into-android-development">
        
        
          Put the magic back into Android development <a href="#put-the-magic-back-into-android-development">#</a>
        
        
      </h2>
    

<p>In Nov 2017 Architecture Components v1 was
<a href="https://developer.android.com/topic/libraries/architecture/release-notes.html#release_candidate_-_october_18_2017">launched</a>.
This is a big deal because for the longest time it was very difficult to deal with certain use cases
which would crop up all the time in mobile app development.</p>

<p>Things like dealing with configuration changes when rotating a screen, and sharing app state data
between fragments and activities were difficult.</p>

<p>While these difficulties are not insurmountable, the fact that they crop up in so many common
scenarios have had a negative impact on the developer experience on Android and didn‚Äôt make it feel
magical. üò†</p>

<p>Architecture Components puts the magic back into Android development! üé©‚ú® This article has both
<a href="https://github.com/nazmulidris/android_arch_comp">Java</a> and
<a href="https://github.com/nazmulidris/android_arch_comp_kt">Kotlin</a> versions of a sample project that I
build to illustrate the use of Architecture Components.</p>
      <h2 id="what-is-it">
        
        
          What is it? <a href="#what-is-it">#</a>
        
        
      </h2>
    

<p>There are quite a few patterns out there for app architectures, such as MVP, MVVM, and
unidirectional. I‚Äôm a huge fan of
<a href="https://developerlife.com/2017/01/27/native-android-redux-and-firebase/">unidirectional</a>, and I
like MVVM too. There are 3 parts of M-V-VM, the <code class="language-plaintext highlighter-rouge">Model</code>, <code class="language-plaintext highlighter-rouge">View</code>, and <code class="language-plaintext highlighter-rouge">ViewModel</code>. Let‚Äôs take a look
at what each of these are.</p>
      <h3 id="view">
        
        
          View <a href="#view">#</a>
        
        
      </h3>
    

<p>This is the UI component that is in a layout and rendered on the display.</p>
      <h3 id="viewmodel">
        
        
          ViewModel <a href="#viewmodel">#</a>
        
        
      </h3>
    

<p><code class="language-plaintext highlighter-rouge">Views</code> subscribe to the data they are interested in from the <code class="language-plaintext highlighter-rouge">ViewModel</code>. So when this data changes
it can be broadcast to any interested observers.</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ViewModel</code> is responsible for prearing data for consumption by the View.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ViewModel‚Äôs</code> state is stable across the lifecycle of <code class="language-plaintext highlighter-rouge">Activities</code> and <code class="language-plaintext highlighter-rouge">Fragments</code>. So as an
Activity is torn down and rebuilt (on an orientation change) it can use the same <code class="language-plaintext highlighter-rouge">ViewModel</code>. And
you can scope the lifetime of these <code class="language-plaintext highlighter-rouge">ViewModels</code> to the <code class="language-plaintext highlighter-rouge">Activity</code> lifetime as well, so that when
the <code class="language-plaintext highlighter-rouge">Activity</code> is finished (not destroyed), then the <code class="language-plaintext highlighter-rouge">ViewModel</code> can be cleaned up.</li>
  <li><code class="language-plaintext highlighter-rouge">LiveData</code> is an interesting piece of a <code class="language-plaintext highlighter-rouge">ViewModel</code> that you can wrap any data that changes quite
rapidly and these changes have to be reflected in UI components.</li>
  <li><code class="language-plaintext highlighter-rouge">ViewModels</code> should not hold references to any <code class="language-plaintext highlighter-rouge">Views</code>. And if they need an <code class="language-plaintext highlighter-rouge">ApplicationContext</code>,
then you can use <code class="language-plaintext highlighter-rouge">AndroidViewModel</code> which supplies this.</li>
  <li>You don‚Äôt directly create a <code class="language-plaintext highlighter-rouge">ViewModel</code>, instead you ask the system to find you one. And the
system ends up creating the <code class="language-plaintext highlighter-rouge">ViewModel</code> and managing what it‚Äôs scope is based on this. Basically
you have to use a factory method to get a reference to a <code class="language-plaintext highlighter-rouge">ViewModel</code> instead of just creating one
yourself using a constructor.</li>
</ul>
      <h3 id="model">
        
        
          Model <a href="#model">#</a>
        
        
      </h3>
    

<p>This is where your underlying data is actually stored. The model can be backed by local persistence
stores, and synchronized with remote data sources. You can use <code class="language-plaintext highlighter-rouge">Room</code> to make it easier to work with
<code class="language-plaintext highlighter-rouge">SQLLite</code> (on device) and have <code class="language-plaintext highlighter-rouge">Room</code> generate the ORM layer for you. Or you can use Firebase for
persistence, which automagically syncs its state across multiple platforms. You have a lot of
flexibility in what you choose. You can even use something like <code class="language-plaintext highlighter-rouge">Redux</code> in addition to Firebase to
be your <code class="language-plaintext highlighter-rouge">Model</code>.</p>

<p><img src="/assets/arch-comp-1.png" alt="" /></p>

<p>This article is focused on the
<a href="https://developer.android.com/topic/libraries/architecture/viewmodel.html#implement"><code class="language-plaintext highlighter-rouge">ViewModel</code></a>
and <a href="https://developer.android.com/topic/libraries/architecture/livedata.html"><code class="language-plaintext highlighter-rouge">LiveData</code></a> parts of
the Architecture Components. I will be covering
<a href="https://developer.android.com/topic/libraries/architecture/lifecycle.html">Lifecycle awareness</a> and
<code class="language-plaintext highlighter-rouge">Models</code> in other articles.</p>
      <h2 id="example">
        
        
          Example <a href="#example">#</a>
        
        
      </h2>
    

<p>I‚Äôve created a simple app that showcases how you might use a <code class="language-plaintext highlighter-rouge">ViewModel</code> and <code class="language-plaintext highlighter-rouge">LiveData</code> in your
apps. You can get this sample on <a href="https://github.com/nazmulidris/android_arch_comp">GitHub</a>.</p>

<p>The sample just has 1 <code class="language-plaintext highlighter-rouge">Java</code> file ‚Äî
<a href="https://github.com/nazmulidris/android_arch_comp/blob/main/app/src/main/java/arch_comp/android/example/com/architecturecomponents/MainActivity.java"><code class="language-plaintext highlighter-rouge">MainActivity.java</code></a>.
This <code class="language-plaintext highlighter-rouge">Activity</code> loads its state from a <code class="language-plaintext highlighter-rouge">StateViewModel</code>, which contains two pieces of data. Here‚Äôs
the entire <code class="language-plaintext highlighter-rouge">Activity</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">TextView</span> <span class="n">dataTextView</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">TextView</span> <span class="n">counterTextView</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">StateViewModel</span> <span class="n">stateViewModel</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="n">dataTextView</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">data_textview</span><span class="o">);</span>
        <span class="n">counterTextView</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">counter_textview</span><span class="o">);</span>
        <span class="n">setupModelView</span><span class="o">();</span>
        <span class="n">attachObservers</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// Deal with loading state from ViewModel</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">setupModelView</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">stateViewModel</span> <span class="o">=</span>
            <span class="nc">ViewModelProviders</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">this</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="nc">StateViewModel</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="n">dataTextView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span>
                <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Data: %s"</span><span class="o">,</span> <span class="n">stateViewModel</span><span class="o">.</span><span class="na">getData</span><span class="o">()));</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">attachObservers</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">stateViewModel</span>
                <span class="o">.</span><span class="na">getCounter</span><span class="o">()</span>
                <span class="o">.</span><span class="na">observe</span><span class="o">(</span>
                        <span class="k">this</span><span class="o">,</span>
                        <span class="n">count</span> <span class="o">-&gt;</span> <span class="o">{</span>
                            <span class="n">counterTextView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span>
                                    <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Count: %s"</span><span class="o">,</span>
                                    <span class="nc">Long</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">count</span><span class="o">)));</span>
                        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
      <h3 id="data--1">
        
        
          Data # 1 <a href="#data--1">#</a>
        
        
      </h3>
    

<p>There‚Äôs a <code class="language-plaintext highlighter-rouge">UUID</code> <code class="language-plaintext highlighter-rouge">String</code> that is generate the first time this <code class="language-plaintext highlighter-rouge">StateViewModel</code> is created and this
is displayed in the UI. This <code class="language-plaintext highlighter-rouge">String</code> does not change for the lifetime of the <code class="language-plaintext highlighter-rouge">Activity</code>. It is
stable across configuration changes. So as you rotate the screen, and the Activity is destroyed and
then recreated (but not finished), the same <code class="language-plaintext highlighter-rouge">UUID</code> <code class="language-plaintext highlighter-rouge">String</code> will be displayed in the UI. When you
finish the Activity by pressing the back button, or by going to the task switcher and swiping the
<code class="language-plaintext highlighter-rouge">Activity</code> away, then the <code class="language-plaintext highlighter-rouge">ViewModel</code> will be destroyed and <code class="language-plaintext highlighter-rouge">onCleared()</code> will be called.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">StateViewModel</span> <span class="kd">extends</span> <span class="nc">AndroidViewModel</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ScheduledExecutorService</span> <span class="n">myExecutor</span><span class="o">;</span>
    <span class="c1">// This value doesn't change after it is initialized</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">mData</span><span class="o">;</span>
    <span class="c1">// This value changes over time</span>
    <span class="kd">private</span> <span class="nc">CounterLiveData</span> <span class="n">mCounter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CounterLiveData</span><span class="o">();</span>

    <span class="kd">public</span> <span class="nf">StateViewModel</span><span class="o">(</span><span class="nc">Application</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
        <span class="n">myExecutor</span> <span class="o">=</span> <span class="nc">Executors</span><span class="o">.</span><span class="na">newSingleThreadScheduledExecutor</span><span class="o">();</span>
        <span class="n">myExecutor</span><span class="o">.</span><span class="na">scheduleWithFixedDelay</span><span class="o">(</span>
                <span class="k">this</span><span class="o">::</span><span class="n">recurringTask</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="nc">TimeUnit</span><span class="o">.</span><span class="na">SECONDS</span><span class="o">);</span>
        <span class="nc">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="nc">Tags</span><span class="o">.</span><span class="na">viewmodel</span><span class="o">.</span><span class="na">name</span><span class="o">(),</span>
            <span class="s">"ViewModel constructor: created executor"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">// Counter</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">recurringTask</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">long</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">mCounter</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
        <span class="nc">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="nc">Tags</span><span class="o">.</span><span class="na">viewmodel</span><span class="o">.</span><span class="na">name</span><span class="o">(),</span>
            <span class="n">counter</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="s">"task: tick"</span> <span class="o">:</span> <span class="s">"task: tock"</span><span class="o">);</span>
        <span class="n">mCounter</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">CounterLiveData</span> <span class="nf">getCounter</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">mCounter</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// Data</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setData</span><span class="o">(</span><span class="nc">String</span> <span class="n">mData</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">mData</span> <span class="o">=</span> <span class="n">mData</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getData</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">isDataSet</span><span class="o">())</span> <span class="o">{</span>
            <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplication</span><span class="o">(),</span>
                <span class="s">"Re-using ViewModel"</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">setData</span><span class="o">(</span><span class="no">UUID</span><span class="o">.</span><span class="na">randomUUID</span><span class="o">().</span><span class="na">toString</span><span class="o">());</span>
            <span class="nc">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplication</span><span class="o">(),</span>
                <span class="s">"This is a new ViewModel"</span><span class="o">,</span> <span class="nc">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">mData</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isDataSet</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">mData</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCleared</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCleared</span><span class="o">();</span>
        <span class="n">myExecutor</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
        <span class="nc">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="nc">Tags</span><span class="o">.</span><span class="na">viewmodel</span><span class="o">.</span><span class="na">name</span><span class="o">(),</span> <span class="n">mCounter</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="nc">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="nc">Tags</span><span class="o">.</span><span class="na">viewmodel</span><span class="o">.</span><span class="na">name</span><span class="o">(),</span>
            <span class="s">"onCleared: lifecycle of activity finished"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
      <h3 id="data--2">
        
        
          Data # 2 <a href="#data--2">#</a>
        
        
      </h3>
    

<p>The <code class="language-plaintext highlighter-rouge">ViewModel</code> also creates a <code class="language-plaintext highlighter-rouge">ScheduledExecutor</code> that runs a simple task every second. This task
simply updates a counter, and it generates a log message (‚Äú<code class="language-plaintext highlighter-rouge">tick</code>‚Äù, or ‚Äú<code class="language-plaintext highlighter-rouge">tock</code>‚Äù). This Executor also
sets the value of this counter in a <code class="language-plaintext highlighter-rouge">CounterLiveData</code> object. The UI actually subscribes to this
<code class="language-plaintext highlighter-rouge">LiveData</code> object and when it changes the UI gets updated with the current count. This too is stable
across configuration changes. When the <code class="language-plaintext highlighter-rouge">Activity</code> is finally finished, the <code class="language-plaintext highlighter-rouge">onCleared()</code> method
actually shuts the executor down. Also, you have to be mindful of which thread the
<code class="language-plaintext highlighter-rouge">CounterLiveData‚Äôs</code> value is set.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">CounterLiveData</span> <span class="kd">extends</span> <span class="nc">MutableLiveData</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"count=%d"</span><span class="o">,</span> <span class="n">getValue</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Long</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="mi">0L</span> <span class="o">:</span> <span class="n">getValue</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="nc">Long</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="nc">Looper</span><span class="o">.</span><span class="na">getMainLooper</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="nc">Looper</span><span class="o">.</span><span class="na">myLooper</span><span class="o">()))</span> <span class="o">{</span>
            <span class="c1">// UI thread</span>
            <span class="n">setValue</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// Non UI thread</span>
            <span class="n">postValue</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
      <h3 id="adding-architecture-components-to-your-project">
        
        
          Adding Architecture Components to your project <a href="#adding-architecture-components-to-your-project">#</a>
        
        
      </h3>
    

<p>Read more about how to modify your <code class="language-plaintext highlighter-rouge">build.gradle</code> file on
<a href="https://developer.android.com/topic/libraries/architecture/adding-components.html">developer.android.com</a>.
Here‚Äôs a simple <code class="language-plaintext highlighter-rouge">build.gradle</code> file snippet just for <code class="language-plaintext highlighter-rouge">Lifecycles</code>, <code class="language-plaintext highlighter-rouge">ViewModel</code>, and <code class="language-plaintext highlighter-rouge">LiveData</code>.</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">implementation</span> <span class="nf">fileTree</span><span class="o">(</span><span class="nl">include:</span> <span class="o">[</span><span class="s1">'*.jar'</span><span class="o">],</span> <span class="nl">dir:</span> <span class="s1">'libs'</span><span class="o">)</span>
    <span class="c1">// Support lib</span>
    <span class="n">implementation</span> <span class="s1">'com.android.support:appcompat-v7:27.0.2'</span>

    <span class="c1">// Lifecycles</span>
    <span class="n">implementation</span> <span class="s2">"android.arch.lifecycle:runtime:1.0.3"</span>
    <span class="n">annotationProcessor</span> <span class="s2">"android.arch.lifecycle:compiler:1.0.0"</span>
    <span class="n">implementation</span> <span class="s2">"android.arch.lifecycle:common-java8:1.0.0"</span>

    <span class="c1">// ViewModel, LiveData</span>
    <span class="n">implementation</span> <span class="s2">"android.arch.lifecycle:extensions:1.0.0"</span>
<span class="o">}</span>
</code></pre></div></div>
      <h2 id="the-kotlin-version">
        
        
          The Kotlin version <a href="#the-kotlin-version">#</a>
        
        
      </h2>
    

<p>You can find the Kotlin version of this project on
<a href="https://github.com/nazmulidris/android_arch_comp_kt">GitHub</a>. The Kotlin version is similar in
spirit, but the code is very very different. I recently learned Kotlin (in Dec 2017) and have used
it so far in <a href="https://github.com/nazmulidris/android_arch_comp_kt">Android</a>,
<a href="https://github.com/nazmulidris/kotlinserver_jvm">Web</a>, and
<a href="https://github.com/nazmulidris/kotlinserver_js">JavaScript</a> projects.</p>

<p><img src="/assets/android-arch-comp-kt.gif" alt="android-arch-comp-kt" /></p>

<p>Kotlin is a very different project from Java or JavaScript, and it took me a while to become fluent
‚Äúthinking in Kotlin‚Äù. In this project, I used both Kotlin for Android and
<a href="https://github.com/Kotlin/anko">Anko</a>. Anko is a delightful library that made so much mundane
boilerplate disappear from the codebase. I am going to highlight some of the major changes between
the Java version and Kotlin version of the projects below.</p>
      <h3 id="ui---constraintlayout">
        
        
          UI - ConstraintLayout <a href="#ui---constraintlayout">#</a>
        
        
      </h3>
    

<p>This really has nothing to do with Kotlin. I decided to go with
<a href="https://developer.android.com/training/constraint-layout/index.html#adjust-the-constraint-bias">ConstraintLayout</a>
for the Kotlin version. The biggest learning about ConstraintLayout came from using
<a href="https://stackoverflow.com/questions/37318228/how-to-make-constraintlayout-work-with-percentage-values">guidelines</a>
to position my components and setting width/height to <code class="language-plaintext highlighter-rouge">0dp</code> for <code class="language-plaintext highlighter-rouge">match_constraint</code>.</p>

<p><img src="/assets/android-arch-comp-ui.png" alt="" /></p>
      <h3 id="ui---downloadable-fonts">
        
        
          UI - Downloadable Fonts <a href="#ui---downloadable-fonts">#</a>
        
        
      </h3>
    

<p>I‚Äôm a big fan of
<a href="https://proandroiddev.com/android-downloadable-fonts-8e60d3e146b7">downloadable fonts</a>. The Kotlin
version of the code is quite different from the Java version in many ways. I also use Anko to take
care of some nasty view traversal (to set the <code class="language-plaintext highlighter-rouge">Typeface</code> on the <code class="language-plaintext highlighter-rouge">Toolbar</code>). AnkoLogger is also a
great thing to avoid having to create a <code class="language-plaintext highlighter-rouge">TAG</code> for log message generation.</p>

<p>To use Anko logger, you have to make your class implement the <code class="language-plaintext highlighter-rouge">AnkoLogger</code>interface. Then you can
just call <code class="language-plaintext highlighter-rouge">info()</code> or <code class="language-plaintext highlighter-rouge">wft()</code>, etc to generate logs without using a <code class="language-plaintext highlighter-rouge">TAG</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">FontObserver</span><span class="p">(</span><span class="kd">val</span> <span class="py">mContext</span><span class="p">:</span> <span class="nc">Context</span><span class="p">,</span> <span class="kd">val</span> <span class="py">mToolbar</span><span class="p">:</span> <span class="nc">Toolbar</span><span class="p">)</span> <span class="p">:</span>
    <span class="nc">LifecycleObserver</span><span class="p">,</span> <span class="nc">AnkoLogger</span> <span class="p">{</span>
  <span class="nd">@OnLifecycleEvent</span><span class="p">(</span><span class="nc">Lifecycle</span><span class="p">.</span><span class="nc">Event</span><span class="p">.</span><span class="nc">ON_CREATE</span><span class="p">)</span>
  <span class="k">fun</span> <span class="nf">downloadFont</span><span class="p">()</span> <span class="p">{</span>
      <span class="nf">info</span><span class="p">(</span><span class="s">"${::downloadFont.name}(): Running"</span><span class="p">)</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>
<span class="o">..</span><span class="p">.</span> <span class="p">}</span>
</code></pre></div></div>

<p>You can use Anko to take care of some gnarly view traversal.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">styleToolbar</span><span class="p">(</span><span class="n">typeface</span><span class="p">:</span> <span class="nc">Typeface</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">mToolbar</span><span class="p">.</span><span class="nf">applyRecursively</span> <span class="p">{</span>
        <span class="k">when</span> <span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">is</span> <span class="nc">TextView</span> <span class="p">-&gt;</span> <span class="n">it</span><span class="p">.</span><span class="n">typeface</span> <span class="p">=</span> <span class="n">typeface</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>And with the <code class="language-plaintext highlighter-rouge">lazy</code> delegate, you can create heavy objects with ease (without having to deal with
<code class="language-plaintext highlighter-rouge">null</code> checking). The <code class="language-plaintext highlighter-rouge">with</code> extension function makes things neat so that I don‚Äôt have to create
clumsy local variables.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">mFontHandler</span><span class="p">:</span> <span class="nc">Handler</span> <span class="k">by</span> <span class="nf">lazy</span> <span class="p">{</span>
    <span class="nf">with</span><span class="p">(</span><span class="nc">HandlerThread</span><span class="p">(</span><span class="s">"fonts"</span><span class="p">))</span> <span class="p">{</span>
        <span class="nf">start</span><span class="p">()</span>
        <span class="nc">Handler</span><span class="p">(</span><span class="n">looper</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
      <h3 id="ui---no-more-findviewbyid">
        
        
          UI - No more findViewById <a href="#ui---no-more-findviewbyid">#</a>
        
        
      </h3>
    

<p>This is one of my favorite
<a href="http://kotlinlang.org/docs/tutorials/android-plugin.html">Kotlin for Android</a> extensions! You can
reference the <code class="language-plaintext highlighter-rouge">id</code> of your <code class="language-plaintext highlighter-rouge">Views</code> directly in your code without doing clunky and possibly leaky
<code class="language-plaintext highlighter-rouge">findViewById()</code> calls (Kotlin maintains a
<a href="http://kotlinlang.org/docs/tutorials/android-plugin.html#view-caching">view cache</a> for you to make
this syntactic sugar performant and reliable as well).</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// No need to use findViewById() anymore!</span>
<span class="k">fun</span> <span class="nf">viewBinding</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Use synthetic properties on views!</span>
    <span class="n">data_textview</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">"Data!!!"</span>
    <span class="n">counter_textview</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">"Counter!!!"</span>
<span class="p">}</span>
</code></pre></div></div>
      <h3 id="ui---toasts">
        
        
          UI - Toasts <a href="#ui---toasts">#</a>
        
        
      </h3>
    

<p>Anko makes it a breeze to work with <code class="language-plaintext highlighter-rouge">Toasts</code>, with the extension function <code class="language-plaintext highlighter-rouge">toast(String)</code>. You will
be glad to know that you don‚Äôt have to call <code class="language-plaintext highlighter-rouge">show()</code>for this Toast to actually be visible! Only
caveat is that this function is defined on a <code class="language-plaintext highlighter-rouge">Context</code> object, so if you‚Äôre not in a <code class="language-plaintext highlighter-rouge">Context</code>, or
<code class="language-plaintext highlighter-rouge">Fragment</code>, etc then you have to call this function on a <code class="language-plaintext highlighter-rouge">Context</code> reference. Here‚Äôs an example of
calling a <code class="language-plaintext highlighter-rouge">toast()</code> from the <code class="language-plaintext highlighter-rouge">StateViewModel</code> class.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">mData</span><span class="p">:</span> <span class="nc">Data</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="o">::</span><span class="n">_data</span><span class="p">.</span><span class="n">isInitialized</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">getApplication</span><span class="p">&lt;</span><span class="nc">Application</span><span class="p">&gt;()</span>
                <span class="p">.</span><span class="nf">toast</span><span class="p">(</span><span class="s">"Creating new ViewModel"</span><span class="p">)</span>
            <span class="n">_data</span> <span class="p">=</span> <span class="nc">Data</span><span class="p">(</span><span class="nc">Random</span><span class="p">().</span><span class="nf">nextInt</span><span class="p">(</span><span class="mi">1000</span><span class="p">).</span><span class="nf">toString</span><span class="p">(),</span> <span class="nc">Date</span><span class="p">())</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">_data</span>
    <span class="p">}</span>
    <span class="k">set</span><span class="p">(</span><span class="n">mData</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_data</span> <span class="p">=</span> <span class="n">mData</span>
    <span class="p">}</span>
</code></pre></div></div>
      <h3 id="ui---snackbar">
        
        
          UI - Snackbar <a href="#ui---snackbar">#</a>
        
        
      </h3>
    

<p>Anko makes it easy to work with <code class="language-plaintext highlighter-rouge">Snackbars</code> with the extension function <code class="language-plaintext highlighter-rouge">snackbar(View, String)</code>.
It‚Äôs very similar to <code class="language-plaintext highlighter-rouge">toast()</code> except that you need to provide one <code class="language-plaintext highlighter-rouge">View</code> in the layout in which you
want the Snackbar to appear. IN order to get a View that you can use, call
<code class="language-plaintext highlighter-rouge">findViewById(**android.R.id.content**)</code>. This will get you the top level view in whatever <code class="language-plaintext highlighter-rouge">View</code>
hierarchy you‚Äôve inflated. You can then use this <code class="language-plaintext highlighter-rouge">View</code> to create a <code class="language-plaintext highlighter-rouge">Snackbar</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">rootView</span><span class="p">:</span> <span class="nc">View</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="n">android</span><span class="p">.</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
<span class="nf">snackbar</span><span class="p">(</span><span class="n">rootView</span><span class="p">,</span> <span class="s">"MainActivity created"</span><span class="p">)</span>
</code></pre></div></div>
      <h3 id="ui---alert">
        
        
          UI - Alert <a href="#ui---alert">#</a>
        
        
      </h3>
    

<p>Anko makes it easy to work with <code class="language-plaintext highlighter-rouge">Dialogs</code> as well with the <code class="language-plaintext highlighter-rouge">alert()</code> extension function. Here‚Äôs an
example of this.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">showDialog</span><span class="p">(</span><span class="n">rootView</span><span class="p">:</span> <span class="nc">View</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">::</span><span class="n">mStateViewModel</span><span class="p">.</span><span class="n">isInitialized</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mData</span><span class="p">.</span><span class="n">clicked</span><span class="p">)</span>
            <span class="nf">alert</span><span class="p">(</span>
                    <span class="nc">Appcompat</span><span class="p">,</span>
                    <span class="n">title</span> <span class="p">=</span> <span class="s">"Welcome ü§ó"</span><span class="p">,</span>
                    <span class="n">message</span> <span class="p">=</span> <span class="s">"Make sure to rotate screen ..."</span><span class="p">,</span>
                    <span class="n">init</span> <span class="p">=</span> <span class="p">{</span>
                        <span class="nf">okButton</span> <span class="p">{</span>
                            <span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mData</span><span class="p">.</span><span class="n">clicked</span> <span class="p">=</span> <span class="k">true</span>
                            <span class="nf">snackbar</span><span class="p">(</span><span class="n">rootView</span><span class="p">,</span> <span class="s">"üëç"</span><span class="p">)</span>
                            <span class="nf">info</span><span class="p">(</span><span class="s">"üëç was selected"</span><span class="p">)</span>
                        <span class="p">}</span>
                        <span class="nf">noButton</span> <span class="p">{</span>
                            <span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mData</span><span class="p">.</span><span class="n">clicked</span> <span class="p">=</span> <span class="k">true</span>
                            <span class="nf">snackbar</span><span class="p">(</span><span class="n">rootView</span><span class="p">,</span> <span class="s">"üëé"</span><span class="p">)</span>
                            <span class="nf">info</span><span class="p">(</span><span class="s">"üëé was selected"</span><span class="p">)</span>
                        <span class="p">}</span>
                        <span class="nf">onCancelled</span> <span class="p">{</span>
                            <span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mData</span><span class="p">.</span><span class="n">clicked</span> <span class="p">=</span> <span class="k">true</span>
                            <span class="nf">snackbar</span><span class="p">(</span><span class="n">rootView</span><span class="p">,</span> <span class="s">"üëä"</span><span class="p">)</span>
                            <span class="nf">info</span><span class="p">(</span><span class="s">"üëä dialog was dismissed"</span><span class="p">)</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
            <span class="p">).</span><span class="nf">show</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>
      <h3 id="viewmodel---stateviewmodel">
        
        
          ViewModel - StateViewModel <a href="#viewmodel---stateviewmodel">#</a>
        
        
      </h3>
    

<p>When your <code class="language-plaintext highlighter-rouge">Activity</code> is created, you can call the following to get a reference to the <code class="language-plaintext highlighter-rouge">ViewModel</code>.
Note that we are using a <code class="language-plaintext highlighter-rouge">AndroidViewModel</code> in this case (which comes with a reference to the
<code class="language-plaintext highlighter-rouge">Application</code> <code class="language-plaintext highlighter-rouge">Context</code>). Also remember that you can‚Äôt directly instantiate the <code class="language-plaintext highlighter-rouge">ViewModel</code>, Android
will do this for you.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mStateViewModel</span> <span class="p">=</span> <span class="nc">ViewModelProviders</span>
     <span class="p">.</span><span class="nf">of</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
     <span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="nc">StateViewModel</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">)</span>
</code></pre></div></div>

<p>Once you‚Äôve got the ViewModel, you can use the properties it exposes ‚Äî <code class="language-plaintext highlighter-rouge">mData: Data</code> and
<code class="language-plaintext highlighter-rouge">mCounter: Counter</code>.</p>

<p>Here‚Äôs an example of setting the text of <code class="language-plaintext highlighter-rouge">mData‚Äôs</code> <code class="language-plaintext highlighter-rouge">toString()</code> to a <code class="language-plaintext highlighter-rouge">TextView</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data_textview</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mData</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span>
</code></pre></div></div>

<p>Here‚Äôs are examples of attaching <code class="language-plaintext highlighter-rouge">Observers</code> to <code class="language-plaintext highlighter-rouge">mData</code> and <code class="language-plaintext highlighter-rouge">mCounter</code>. Both <code class="language-plaintext highlighter-rouge">Data</code> and <code class="language-plaintext highlighter-rouge">Counter</code>
classes are subclasses of <code class="language-plaintext highlighter-rouge">LiveData</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mCounter</span><span class="p">.</span><span class="nf">observe</span><span class="p">(</span>
            <span class="k">this</span><span class="p">,</span>
            <span class="nc">Observer</span> <span class="p">{</span>
                <span class="n">counter_textview</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">"Count: ${it.toString()}"</span>
            <span class="p">})</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mStateViewModel</span><span class="p">.</span><span class="n">mData</span><span class="p">.</span><span class="nf">observe</span><span class="p">(</span>
            <span class="k">this</span><span class="p">,</span>
            <span class="nc">Observer</span> <span class="p">{</span>
                <span class="n">data_textview</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">it</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span>
            <span class="p">}</span>
    <span class="p">)</span>
</code></pre></div></div>
      <h3 id="livedata---counter">
        
        
          LiveData - Counter <a href="#livedata---counter">#</a>
        
        
      </h3>
    

<p>The <code class="language-plaintext highlighter-rouge">Counter</code> subclass of <code class="language-plaintext highlighter-rouge">LiveData</code> exposes one public property <code class="language-plaintext highlighter-rouge">count</code> and one function
<code class="language-plaintext highlighter-rouge">increment()</code>. These are used in order to increment the <code class="language-plaintext highlighter-rouge">count</code> by 1 every second, by the <code class="language-plaintext highlighter-rouge">Executor</code>
thread that‚Äôs started in the <code class="language-plaintext highlighter-rouge">StateViewModel</code>. You can pass an initial value of the counter via the
constructor. There‚Äôs also an <code class="language-plaintext highlighter-rouge">init</code> block that takes this value and sets it on the <code class="language-plaintext highlighter-rouge">LiveData</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">init</span> <span class="p">{</span>
    <span class="nf">setValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">count</code> property is backed by <code class="language-plaintext highlighter-rouge">private value: Int</code>. This means that the count itself doesn‚Äôt
really store the <code class="language-plaintext highlighter-rouge">Int</code> value. However it‚Äôs setter and getter are used in order to expose the value
of count to other classes. Additionally, when the setter is used, this causes the <code class="language-plaintext highlighter-rouge">LiveData</code>
<code class="language-plaintext highlighter-rouge">setValue()</code>/<code class="language-plaintext highlighter-rouge">postValue()</code>to be called as well.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="py">count</span><span class="p">:</span> <span class="nc">Long</span>
    <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="p">}</span>
    <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nc">Looper</span><span class="p">.</span><span class="nf">getMainLooper</span><span class="p">()</span> <span class="p">==</span> <span class="nc">Looper</span><span class="p">.</span><span class="nf">myLooper</span><span class="p">())</span> <span class="p">{</span>
            <span class="c1">// UI thread</span>
            <span class="nf">setValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// Non UI thread</span>
            <span class="nf">postValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">increment()</code> method actually increments the <code class="language-plaintext highlighter-rouge">value</code> and then sets it on the <code class="language-plaintext highlighter-rouge">count</code> property
itself. This results in a call to <code class="language-plaintext highlighter-rouge">setValue()</code> / <code class="language-plaintext highlighter-rouge">postValue()</code>as shown above, which is what makes
this an <code class="language-plaintext highlighter-rouge">Observable</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">count</span> <span class="p">=</span> <span class="n">value</span><span class="p">++</span>
<span class="p">}</span>
</code></pre></div></div>
      <h3 id="livedata---data">
        
        
          LiveData - Data <a href="#livedata---data">#</a>
        
        
      </h3>
    

<p>The <code class="language-plaintext highlighter-rouge">Data</code> subclass of <code class="language-plaintext highlighter-rouge">LiveData</code> exposes one property ‚Äî <code class="language-plaintext highlighter-rouge">clicked</code>. This property is set when the
user interacts with the alert / dialog shown above.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">data class</span> <span class="nc">Data</span><span class="p">(</span><span class="kd">val</span> <span class="py">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">time</span><span class="p">:</span> <span class="nc">Date</span><span class="p">)</span> <span class="p">:</span>
        <span class="nc">MutableLiveData</span><span class="p">&lt;</span><span class="nc">Data</span><span class="p">&gt;()</span> <span class="p">{</span>

    <span class="k">private</span> <span class="kd">var</span> <span class="py">_clicked</span><span class="p">:</span> <span class="nc">Boolean</span> <span class="p">=</span> <span class="k">false</span>
    <span class="kd">var</span> <span class="py">clicked</span><span class="p">:</span> <span class="nc">Boolean</span>
        <span class="k">get</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">_clicked</span>
        <span class="p">}</span>
        <span class="k">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">_clicked</span> <span class="p">=</span> <span class="n">value</span>
            <span class="nf">setValue</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
        <span class="p">}</span>
<span class="o">..</span><span class="p">.</span> <span class="p">}</span>
</code></pre></div></div>
      <h2 id="further-exploration">
        
        
          Further exploration <a href="#further-exploration">#</a>
        
        
      </h2>
    

<ul>
  <li><a href="https://codelabs.developers.google.com/codelabs/android-lifecycles/#0">Codelab</a> to get started
with Android lifecycle-aware components</li>
  <li>‚ÄúModel View ViewModel on Android‚Äù article on
<a href="https://medium.com/@margaretmz/exploring-the-android-architecture-components-117515acfa8">medium</a></li>
  <li>‚ÄúDeep dive into Data Loading with Architecture Components‚Äù on
<a href="https://medium.com/google-developers/lifecycle-aware-data-loading-with-android-architecture-components-f95484159de4">medium</a></li>
  <li>Tutorial on Architecture Components ‚Äî
<a href="https://riggaroo.co.za/android-architecture-components-looking-room-livedata-part-1/">part 1</a>,
<a href="https://riggaroo.co.za/android-architecture-components-looking-viewmodels-part-2/">part 2</a></li>
</ul>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/Android">
                #android</a>
        </span>
    
</div>

        
<blockquote>

  üëÄ Watch Rust ü¶Ä live coding videos on our <a
  href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br/>
  <br/>

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <br/>
  <br/>

  üì¶ Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
  (they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
  project):
  <ul>
    <li>üê±<code>giti</code>: run interactive git commands with confidence in your terminal</li>
    <li>ü¶ú<code>edi</code>: edit Markdown with style in your terminal</li>
  </ul>

  <p>
  <kbd>giti in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
  </video>
  </p>

  <p>
  <kbd>edi in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
  </video>
  </p>

  </blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/11/annotation-processing-kotlin-android/">
                        Annotation Processing in Kotlin and Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/05/11/kotlin-vs-java/">
                        Java vs Kotlin for Android development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-in-depth/">
                        In-depth exploration of Dagger 2
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/07/21/designing-for-multiple-screen-densities-on-android/">
                        Designing for multiple screen densities on Android
                    </a>
                </li>
            
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/02/android-downloadable-fonts/">
                        Android Downloadable Fonts
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/29/getting-started-with-mediaplayer-on-android/">
                        Getting started with MediaPlayer on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/09/android-o-n-and-below-component-lifecycles-and-background-tasks/">
                        Deep dive into Android Services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/26/flexbox-layouts-and-lists-with-react-native/">
                        Flexbox layouts and lists with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/14/navigation-and-styling-with-react-native/">
                        Navigation and Styling with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/03/31/getting-started-with-react-native/">
                        Getting started with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/01/27/native-android-redux-and-firebase/">
                        Android, Redux, Firebase Auth &amp; Database, and Material Design
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/20/gps/">
                        Android Location Providers (gps, network, passive)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/12/android-event-dispatch-thread-or-main-thread/">
                        Android Event Dispatch Thread or Main Thread
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2009/03/06/using-json-for-mobile-object-exchange/">
                        Using JSON for mobile object exchange
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/05/android-animation-framework/">
                        Android Animation Framework Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-listview/">
                        Android ListView and custom adapter Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-linearlayout/">
                        Android LinearLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/31/android-ui-themes/">
                        Android UI Themes Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/29/android-tablelayout/">
                        Android TableLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/option-and-context-menu/">
                        Android Option and Context menu Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/android-xml-view-inflation/">
                        Android XML View inflation Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/">
                        Android Activity and sub-Activity Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-33-multithreading/">
                        Android - How to build a service-enabled Android app - Part 3/3 Multithreading
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-13-ui/">
                        Android - How to build a service-enabled Android app - Part 1/3 UI
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-23-networking/">
                        Android - How to build a service-enabled Android App - Part 2/3 Networking
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2017/12/07/introduction-to-android-architecture-components/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- effective async rust & playlist -->
    <iframe
    src="https://www.youtube.com/embed/qvIt8MF-pCM?si=S40pbhnvVDAohj-6"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen>
    </iframe>
    <h2 class="star-us-github-heading">
      Subscribe to our
      <a href="https://www.youtube.com/@developerlifecom">YT Channel</a
      ><span class="heading-emoji"> ü¶Ä</span>
    </h2>

    <hr />

    <h2 class="star-us-github-heading">
      Use our crates & apps<span class="heading-emoji"> üì¶</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://chromewebstore.google.com/detail/r3bl-shortlink/ffhfkgcfbjoadmhdmdcmigopbfkddial?hl=en-US&gl=US" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <!-- <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li> -->
    </ul>

    <hr />

    <h2 class="star-us-github-heading">
      To provide feedback & comments, join our <a href="https://discord.gg/PhuF4qFpcA">Discord</a>
      <span class="heading-emoji"> üí¨</span>
    </h2>

  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. ¬© Nazmul Idris 2022. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics related to Java, XML,
    and web and desktop technologies. Today it covers Rust, TUI, CLI, Kotlin, TypeScript, Node.js, React, Android,
    JDK, Web, Cloud technologies, User Experience Engineering (UXE) and design topics. ¬© Nazmul
    Idris 2022. All rights reserved.
  </p>
  <div class="footer-container">

    <!-- element 1 -->
    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com#services" target="_blank">Need help with code?</a>
    </kbd>

    <!-- element 2 -->
    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Newsletter</a
      >
    </kbd>

  </div>
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
