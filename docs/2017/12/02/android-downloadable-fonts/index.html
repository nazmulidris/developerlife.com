<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Android Downloadable Fonts | developerlife.com</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Android Downloadable Fonts" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="As of Android API level 27, there are too many ways to load custom fonts in Android apps. This article will show you how to use downloadable fonts (from Google Fonts) using the latest support library. 🖋" />
<meta property="og:description" content="As of Android API level 27, there are too many ways to load custom fonts in Android apps. This article will show you how to use downloadable fonts (from Google Fonts) using the latest support library. 🖋" />
<link rel="canonical" href="http://developerlife.com/2017/12/02/android-downloadable-fonts/" />
<meta property="og:url" content="http://developerlife.com/2017/12/02/android-downloadable-fonts/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-02T17:51:14-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Android Downloadable Fonts" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2017-12-02T17:51:14-06:00","datePublished":"2017-12-02T17:51:14-06:00","description":"As of Android API level 27, there are too many ways to load custom fonts in Android apps. This article will show you how to use downloadable fonts (from Google Fonts) using the latest support library. 🖋","headline":"Android Downloadable Fonts","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2017/12/02/android-downloadable-fonts/"},"url":"http://developerlife.com/2017/12/02/android-downloadable-fonts/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add font awesome -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  />

  <!-- Add Google fonts-->
  <link
    href="https://fonts.googleapis.com/css?family=Spline+Sans|Work+Sans|Fira+Mono|Fira+Sans|Google+Sans|Lexend+Deca&display=swap"
    rel="stylesheet"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
<!-- https://us14.admin.mailchimp.com/account/connected-sites/site-detail/ -->

<script id="mcjs">
  !(function (c, h, i, m, p) {
    ;(m = c.createElement(h)),
      (p = c.getElementsByTagName(h)[0]),
      (m.async = 1),
      (m.src = i),
      p.parentNode.insertBefore(m, p)
  })(
    document,
    "script",
    "https://chimpstatic.com/mcjs-connected/js/users/c2470ddfa863eb8ace707651b/2bb3bcad193ef862398700457.js"
  )
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Android Downloadable Fonts&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Android Downloadable Fonts</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Android Downloadable Fonts</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Dec 2, 2017

            <!--Author-->
            ∙ <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is font awesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, empowerment, lifelong learning,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            😃.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a href="/subscribe.html" target="_blank"
    ><kbd>Subscribe for updates</kbd></a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p></div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <blockquote>
  👀 Watch Rust 🦀 live coding videos on our
  <a href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br />

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <!-- video on intro to testing (with playlist) -->
  <!-- <iframe
    src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen
  >
  </iframe> -->

</blockquote>

        <!-- If a page has a hero-image defined in it, then show it here -->

<img class="post-hero-image" src="/assets/downloadable-fonts-hero.png"/>


        <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#using-google-fonts-programmatically-in-xml">Using Google Fonts (programmatically, in XML)</a></li>
  <li><a href="#getting-started">Getting started</a></li>
  <li><a href="#doing-it-in-xml">Doing it in XML</a>
    <ul>
      <li><a href="#step-1---create-xml-files-for-fonts">Step 1 - Create XML files for fonts</a></li>
      <li><a href="#step-2---create-an-array-of-the-font-xml-files">Step 2 - Create an array of the font XML files</a></li>
      <li><a href="#step-3---update-your-manifest">Step 3 - Update your manifest</a></li>
      <li><a href="#step-4---update-gradle">Step 4 - Update gradle</a></li>
    </ul>
  </li>
  <li><a href="#doing-it-in-code">Doing it in code</a></li>
  <li><a href="#sample-code">Sample code</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h2 id="using-google-fonts-programmatically-in-xml">
        
        
          Using Google Fonts (programmatically, in XML) <a href="#using-google-fonts-programmatically-in-xml">#</a>
        
        
      </h2>
    

<p>As of Android API level 27, there are too many ways to load custom fonts in Android apps. This
article will show you how to use downloadable fonts (from Google Fonts) using the latest support
library, which is very similar to the way one would use fonts in HTML and CSS.</p>

<p>Android Oreo introduced the use of
<a href="https://developer.android.com/guide/topics/ui/look-and-feel/fonts-in-xml.html">defining custom fonts in XML</a>
that can be seamlessly used in your XML layout files. While this is a great feature, in order to use
it you have to set your <code class="language-plaintext highlighter-rouge">minSdkVersion</code> to Oreo. 😠</p>

<p>Android Support Library 26 takes this Oreo feature to the next level by adding the ability to
download fonts from <a href="https://fonts.google.com/">Google Fonts</a> using Google Play Service. And it
backports this feature to API versions 14 and higher! 👍</p>
      <h2 id="getting-started">
        
        
          Getting started <a href="#getting-started">#</a>
        
        
      </h2>
    

<p>Here’s are some interesting links that you might want to reference before diving into the next
sections.</p>

<ul>
  <li>Learn how Android Downloadable Fonts work on
<a href="https://developer.android.com/guide/topics/ui/look-and-feel/downloadable-fonts.html#via-android-studio">developer.android.com</a>.
Read this to get an idea of how Android actually makes downloadable fonts work. Basically, these
fonts are downloaded and cached for you by the system. You can use them declaratively in your XML
layouts.</li>
  <li>Sample app that allows you to find a font and use it in and Android app on
<a href="https://github.com/googlesamples/android-DownloadableFonts">GitHub</a>. Find out what fonts you can
actually use in your app by running this sample. Note — just because a font is on Google Fonts
doesn’t mean that it’s available via Google Play Services.</li>
  <li>Get an idea of the fonts you can download from <a href="https://fonts.google.com/">Google Fonts</a>.</li>
  <li>Read this great article about Android Typography on
<a href="https://medium.com/google-design/the-android-developers-guide-to-better-typography-97e11bb0e261?__s=rin3mktnhaqkjej32qyg">medium</a>.</li>
</ul>
      <h2 id="doing-it-in-xml">
        
        
          Doing it in XML <a href="#doing-it-in-xml">#</a>
        
        
      </h2>
    

<p>Let’s walk thru how to use downloadable fonts using XML. The following are the rough steps you have
to follow.</p>
      <h3 id="step-1---create-xml-files-for-fonts">
        
        
          Step 1 - Create XML files for fonts <a href="#step-1---create-xml-files-for-fonts">#</a>
        
        
      </h3>
    

<p>For each downloadable font, you have to create an XML file in <code class="language-plaintext highlighter-rouge">res/fonts</code> that contains the query to
get your downloadable font. Here’s an
<a href="https://github.com/nazmulidris/animationexample/blob/da933ae283eead8d2fb536a1a1ecf2fbb46368af/app/src/main/res/font/poppins.xml">example</a>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;font-family</span> <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
       <span class="na">app:fontProviderAuthority=</span><span class="s">"com.google.android.gms.fonts"</span>
       <span class="na">app:fontProviderPackage=</span><span class="s">"com.google.android.gms"</span>
       <span class="na">app:fontProviderQuery=</span><span class="s">"name=Poppins&amp;weight=300"</span>
       <span class="na">app:fontProviderCerts=</span><span class="s">"@array/com_google_..."</span><span class="nt">&gt;</span>
<span class="nt">&lt;/font-family&gt;</span>
</code></pre></div></div>
      <h3 id="step-2---create-an-array-of-the-font-xml-files">
        
        
          Step 2 - Create an array of the font XML files <a href="#step-2---create-an-array-of-the-font-xml-files">#</a>
        
        
      </h3>
    

<p>Make an array that holds all the font XML files that you’ve created. Here’s an
<a href="https://github.com/nazmulidris/animationexample/blob/da933ae283eead8d2fb536a1a1ecf2fbb46368af/app/src/main/res/values/preloaded_fonts.xml">example</a>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;resources&gt;</span>
   <span class="nt">&lt;array</span> <span class="na">name=</span><span class="s">"preloaded_fonts"</span> <span class="na">translatable=</span><span class="s">"false"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;item&gt;</span>@font/poppins<span class="nt">&lt;/item&gt;</span>
   <span class="nt">&lt;/array&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</code></pre></div></div>
      <h3 id="step-3---update-your-manifest">
        
        
          Step 3 - Update your manifest <a href="#step-3---update-your-manifest">#</a>
        
        
      </h3>
    

<p>In your <code class="language-plaintext highlighter-rouge">AndroidManifest.xml</code> file you have create a <code class="language-plaintext highlighter-rouge">meta-data</code> element that tells Android to
preload all the fonts that you have declared in your custom fonts in your <code class="language-plaintext highlighter-rouge">res/fonts</code> folder. Here’s
an
<a href="https://github.com/nazmulidris/animationexample/blob/de3a556224091e25cbf118ba332bb2dffa8621e0/app/src/main/AndroidManifest.xml">example</a>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;meta-data</span>
   <span class="na">android:name=</span><span class="s">"preloaded_fonts"</span>
   <span class="na">android:resource=</span><span class="s">"@array/preloaded_fonts"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>
      <h3 id="step-4---update-gradle">
        
        
          Step 4 - Update gradle <a href="#step-4---update-gradle">#</a>
        
        
      </h3>
    

<p>Add the support library dependency to your <a href="https://github
.com/nazmulidris/animationexample/blob/7346d7108177ed0e58df254e48ad6bd5b25533da/app/build.gradle"><code class="language-plaintext highlighter-rouge">build.gradle</code></a>
file.</p>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="s2">"com.android.support:support-compat:27.0.2"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The simplest way to get all this setup is to use Android Studio to import Google Fonts, as this will
setup all of this you (and even more, such as the font provider certificates that you will need).
Here’s a
<a href="https://developer.android.com/guide/topics/ui/look-and-feel/downloadable-fonts.html#via-android-studio">link to get started with this in Android Studio</a>.</p>

<p><img src="/assets/downloadable-fonts-1.png" alt="" /></p>

<p>Once this is setup you can use font assets in your XML layouts. Here’s an
<a href="https://github.com/nazmulidris/animationexample/blob/da933ae283eead8d2fb536a1a1ecf2fbb46368af/app/src/main/res/layout/listitem.xml">example</a>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;TextView</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
   <span class="na">android:id=</span><span class="s">"@android:id/text1"</span>
   <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
   <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
   <span class="na">android:gravity=</span><span class="s">"center_vertical"</span>
   <span class="na">android:textSize=</span><span class="s">"15sp"</span>
   <span class="na">android:fontFamily=</span><span class="s">"@font/poppins"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>
      <h2 id="doing-it-in-code">
        
        
          Doing it in code <a href="#doing-it-in-code">#</a>
        
        
      </h2>
    

<p>Declaring fonts in XML and using them in XML layouts is great. However, there are certain situations
where you might have to apply fonts programmatically in order to use them in certain UI elements. An
example of this is using styled text in a <code class="language-plaintext highlighter-rouge">Toolbar</code>.</p>

<p>To load downloadable fonts programmatically, the process is quite different from the approach
outlined above. First you must have a query string that points to the exact font you want to
download, and the weight, and style. More info on this is on
<a href="https://developers.google.com/fonts/docs/android">developers.android.com</a>. Here’s an example.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">"name=Open Sans&amp;weight=800&amp;italic=0"</span><span class="o">;</span>
</code></pre></div></div>

<p>Next, you will have to create a <code class="language-plaintext highlighter-rouge">FontRequest</code>, where you pass the query to Google Play Services.
When it resolves this request, you will get a callback with a <code class="language-plaintext highlighter-rouge">Typeface</code> object that you can apply
to your UI views. Here’s an
<a href="https://github.com/nazmulidris/animationexample/blob/da933ae283eead8d2fb536a1a1ecf2fbb46368af/app/src/main/java/com/animationexample/rocketlaunch/downloadablefonts/FontDownloader.java">example</a>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">FontRequest</span> <span class="n">request</span> <span class="o">=</span>
       <span class="k">new</span> <span class="nf">FontRequest</span><span class="o">(</span>
               <span class="s">"com.google.android.gms.fonts"</span><span class="o">,</span>
               <span class="s">"com.google.android.gms"</span><span class="o">,</span>
               <span class="n">query</span><span class="o">,</span>
               <span class="no">R</span><span class="o">.</span><span class="na">array</span><span class="o">.</span><span class="na">com_google_android_gms_fonts_certs</span><span class="o">);</span>

<span class="nc">FontsContractCompat</span><span class="o">.</span><span class="na">FontRequestCallback</span> <span class="n">callback</span> <span class="o">=</span>
       <span class="k">new</span> <span class="nc">FontsContractCompat</span><span class="o">.</span><span class="na">FontRequestCallback</span><span class="o">()</span> <span class="o">{</span>
           <span class="nd">@Override</span>
           <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onTypefaceRetrieved</span><span class="o">(</span><span class="nc">Typeface</span> <span class="n">typeface</span><span class="o">)</span> <span class="o">{</span>
               <span class="n">mTarget</span><span class="o">.</span><span class="na">applyFont</span><span class="o">(</span><span class="n">typeface</span><span class="o">);</span>
           <span class="o">}</span>
       <span class="o">};</span>

<span class="nc">FontsContractCompat</span><span class="o">.</span><span class="na">requestFont</span><span class="o">(</span>
        <span class="n">mContext</span><span class="o">,</span>
        <span class="n">request</span><span class="o">,</span>
        <span class="n">callback</span><span class="o">,</span>
        <span class="n">getHandlerThreadHandler</span><span class="o">());</span>
</code></pre></div></div>

<p>Here’s an
<a href="https://github.com/nazmulidris/animationexample/blob/de3a556224091e25cbf118ba332bb2dffa8621e0/app/src/main/java/com/animationexample/rocketlaunch/ListActivity.java">example</a>
that puts this together with setting a custom title on a <code class="language-plaintext highlighter-rouge">Toolbar</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kt">void</span> <span class="nf">setupAppBar</span><span class="o">()</span> <span class="o">{</span>
   <span class="nc">Toolbar</span> <span class="n">appBar</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">appbar</span><span class="o">);</span>
   <span class="n">setSupportActionBar</span><span class="o">(</span><span class="n">appBar</span><span class="o">);</span>

   <span class="kd">final</span> <span class="nc">String</span> <span class="n">titleString</span> <span class="o">=</span> <span class="n">getString</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">app_name</span><span class="o">);</span>

   <span class="c1">// WITHOUT FONT</span>
   <span class="n">getSupportActionBar</span><span class="o">().</span><span class="na">setTitle</span><span class="o">(</span><span class="n">titleString</span><span class="o">);</span>

   <span class="c1">// WITH FONT</span>
   <span class="k">new</span> <span class="nf">FontDownloader</span><span class="o">(</span>
           <span class="k">this</span><span class="o">,</span>
           <span class="n">typeface</span> <span class="o">-&gt;</span> <span class="o">{</span>
               <span class="n">setFormattedTitle</span><span class="o">(</span><span class="n">titleString</span><span class="o">,</span> <span class="n">typeface</span><span class="o">);</span>
           <span class="o">});</span>

<span class="o">}</span>
</code></pre></div></div>

<p>Here’s how a <code class="language-plaintext highlighter-rouge">SpannableString</code> is used to style the text with this downloaded typeface (using
<a href="https://github.com/nazmulidris/animationexample/blob/da933ae283eead8d2fb536a1a1ecf2fbb46368af/app/src/main/java/com/animationexample/rocketlaunch/downloadablefonts/MyTypefaceSpan.java"><code class="language-plaintext highlighter-rouge">MyTypefaceSpan</code></a>
class).</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kt">void</span> <span class="nf">setFormattedTitle</span><span class="o">(</span><span class="nc">String</span> <span class="n">titleString</span><span class="o">,</span>
                               <span class="nc">Typeface</span> <span class="n">typeface</span><span class="o">)</span> <span class="o">{</span>
   <span class="nc">SpannableString</span> <span class="n">spannableString</span> <span class="o">=</span>
           <span class="k">new</span> <span class="nf">SpannableString</span><span class="o">(</span><span class="n">titleString</span><span class="o">);</span>
   <span class="n">spannableString</span><span class="o">.</span><span class="na">setSpan</span><span class="o">(</span>
           <span class="k">new</span> <span class="nf">MyTypefaceSpan</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">typeface</span><span class="o">),</span>
           <span class="mi">0</span><span class="o">,</span>
           <span class="n">spannableString</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span>
           <span class="nc">Spannable</span><span class="o">.</span><span class="na">SPAN_EXCLUSIVE_EXCLUSIVE</span><span class="o">);</span>
   <span class="n">getSupportActionBar</span><span class="o">().</span><span class="na">setTitle</span><span class="o">(</span><span class="n">spannableString</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>
      <h2 id="sample-code">
        
        
          Sample code <a href="#sample-code">#</a>
        
        
      </h2>
    

<p>You can get the sample code on <a href="https://github.com/nazmulidris/animationexample">GitHub</a>.</p>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/Android">
                #android</a>
        </span>
    
    <span class="category">
            <a href="/category/FE">
                #fe</a>
        </span>
    
</div>

        
<blockquote>

📦 Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
(they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
project):
<ul>
  <li>🐱<code>giti</code>: run interactive git commands with confidence in your terminal</li>
  <li>🦜<code>edi</code>: edit Markdown with style in your terminal</li>
</ul>

<p>
<kbd>giti in action</kbd>
<video width="100%" controls>
  <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
</video>
</p>

<p>
<kbd>edi in action</kbd>
<video width="100%" controls>
  <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
</video>
</p>

</blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/11/annotation-processing-kotlin-android/">
                        Annotation Processing in Kotlin and Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/05/11/kotlin-vs-java/">
                        Java vs Kotlin for Android development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-in-depth/">
                        In-depth exploration of Dagger 2
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/07/21/designing-for-multiple-screen-densities-on-android/">
                        Designing for multiple screen densities on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/07/introduction-to-android-architecture-components/">
                        Introduction to Android Architecture Components
                    </a>
                </li>
            
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/29/getting-started-with-mediaplayer-on-android/">
                        Getting started with MediaPlayer on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/09/android-o-n-and-below-component-lifecycles-and-background-tasks/">
                        Deep dive into Android Services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/26/flexbox-layouts-and-lists-with-react-native/">
                        Flexbox layouts and lists with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/14/navigation-and-styling-with-react-native/">
                        Navigation and Styling with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/03/31/getting-started-with-react-native/">
                        Getting started with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/01/27/native-android-redux-and-firebase/">
                        Android, Redux, Firebase Auth &amp; Database, and Material Design
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/20/gps/">
                        Android Location Providers (gps, network, passive)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/12/android-event-dispatch-thread-or-main-thread/">
                        Android Event Dispatch Thread or Main Thread
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2009/03/06/using-json-for-mobile-object-exchange/">
                        Using JSON for mobile object exchange
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/05/android-animation-framework/">
                        Android Animation Framework Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-listview/">
                        Android ListView and custom adapter Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-linearlayout/">
                        Android LinearLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/31/android-ui-themes/">
                        Android UI Themes Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/29/android-tablelayout/">
                        Android TableLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/option-and-context-menu/">
                        Android Option and Context menu Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/android-xml-view-inflation/">
                        Android XML View inflation Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/">
                        Android Activity and sub-Activity Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-33-multithreading/">
                        Android - How to build a service-enabled Android app - Part 3/3 Multithreading
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-13-ui/">
                        Android - How to build a service-enabled Android app - Part 1/3 UI
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-23-networking/">
                        Android - How to build a service-enabled Android App - Part 2/3 Networking
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/08/25/guide-to-building-responsive-web-apps/">
                        A pragmatic guide to designing and building responsive web applications
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/11/15/flexbox-getting-started-part-1-2/">
                        Flexbox: Getting started (Part 1/2)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/11/14/flexbox-building-a-navigation-bar-part-2-2/">
                        Flexbox: Building a navigation bar (Part 2/2)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/05/25/redux-react-navigation-and-react-native/">
                        Redux, React Navigation, and React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/28/painting-with-code-review-of-airbnbs-react-sketch-app/">
                        Painting with code - review of Airbnb&#39;s React Sketch.app plugin
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2016/10/06/getting-started-with-react-redux-and-firebase/">
                        Building a real world app using React, Redux, Firebase, and Typescript
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2016/10/02/getting-started-with-react-and-firebase/">
                        Building a real world app using React, Firebase, and Typescript
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/02/02/swingx-tutorial-busy-label-jxbusylabel/">
                        SwingX Tutorial - Busy Label (JXBusyLabel)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/01/28/swingx-tutorial-task-pane/">
                        SwingX Tutorial - Task Pane (JXTaskPane, Container)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/12/24/swingx-tutorial-painters/">
                        SwingX Tutorial - Painters
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/11/09/swingworker-details-canceling-background-tasks-in-flight/">
                        SwingWorker details - canceling background tasks in flight
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/09/24/how-to-use-the-animatedtransition-api-swingx-and-timingframework/">
                        How to use the AnimatedTransition API (SwingX and Timingframework)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/06/10/how-to-use-glass-pane-for-animation-swingx-and-timingframework/">
                        How to use glass pane for animation (SwingX and Timingframework)
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2017/12/02/android-downloadable-fonts/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <h2 class="star-us-github-heading">
      Subscribe to our Rust live coding
      <a href="https://www.youtube.com/@developerlifecom">YouTube Channel</a
      ><span class="heading-emoji"> 🦀</span>
    </h2>

    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe>

    <br />
    <br />

    <h2 class="star-us-github-heading">
      Use our extensions, apps, binary and library crates<span class="heading-emoji"> 📦</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/shortlink" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li>
    </ul>

    <br />

    <h2 class="star-us-github-heading">
      Join our <a href="https://discord.gg/PhuF4qFpcA">Discord</a>
      <span class="heading-emoji"> 💬</span>
    </h2>
  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. © Nazmul Idris 2022. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics related to Java, XML,
    and web and desktop technologies. Today it covers Rust, TUI, CLI, Kotlin, TypeScript, Node.js, React, Android,
    JDK, Web, Cloud technologies, User Experience Engineering (UXE) and design topics. © Nazmul
    Idris 2022. All rights reserved.
  </p>
  <div class="footer-container">
    <!-- element 1 -->
    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Subscribe for updates</a
      >
    </kbd>

    <!-- element 2 -->
    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com" target="_blank">Sponsored by R3BL</a>
    </kbd>
  </div>
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
