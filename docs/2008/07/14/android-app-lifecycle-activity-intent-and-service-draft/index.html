<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Android Activity and sub-Activity Tutorial | developerlife.com</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Android Activity and sub-Activity Tutorial" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This tutorial will show you how to create a sub-Activity from a calling-Activity, and process the results produced by the sub-Activity, if you want to do so. Also, the various ways of launching a sub-Activity are covered, along with the Android Activity history stack. A subclass of Activity is also provided that makes it trivial to launch sub-Activities and respond to results from them." />
<meta property="og:description" content="This tutorial will show you how to create a sub-Activity from a calling-Activity, and process the results produced by the sub-Activity, if you want to do so. Also, the various ways of launching a sub-Activity are covered, along with the Android Activity history stack. A subclass of Activity is also provided that makes it trivial to launch sub-Activities and respond to results from them." />
<link rel="canonical" href="http://developerlife.com/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/" />
<meta property="og:url" content="http://developerlife.com/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2008-07-14T20:07:57-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Android Activity and sub-Activity Tutorial" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2008-07-14T20:07:57-05:00","datePublished":"2008-07-14T20:07:57-05:00","description":"This tutorial will show you how to create a sub-Activity from a calling-Activity, and process the results produced by the sub-Activity, if you want to do so. Also, the various ways of launching a sub-Activity are covered, along with the Android Activity history stack. A subclass of Activity is also provided that makes it trivial to launch sub-Activities and respond to results from them.","headline":"Android Activity and sub-Activity Tutorial","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/"},"url":"http://developerlife.com/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add font awesome -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  />

  <!-- Add Google fonts-->
  <link
    href="https://fonts.googleapis.com/css?family=Spline+Sans|Work+Sans|Fira+Mono|Fira+Sans|Google+Sans|Lexend+Deca&display=swap"
    rel="stylesheet"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
<!-- https://us14.admin.mailchimp.com/account/connected-sites/site-detail/ -->

<script id="mcjs">
  !(function (c, h, i, m, p) {
    ;(m = c.createElement(h)),
      (p = c.getElementsByTagName(h)[0]),
      (m.async = 1),
      (m.src = i),
      p.parentNode.insertBefore(m, p)
  })(
    document,
    "script",
    "https://chimpstatic.com/mcjs-connected/js/users/c2470ddfa863eb8ace707651b/2bb3bcad193ef862398700457.js"
  )
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Android Activity and sub-Activity Tutorial&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Android Activity and sub-Activity Tutorial</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Android Activity and sub-Activity Tutorial</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Jul 14, 2008

            <!--Author-->
            ‚àô <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is font awesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, empowerment, lifelong learning,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            üòÉ.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a href="/subscribe.html" target="_blank"
    ><kbd>Subscribe for updates</kbd></a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p></div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <blockquote>
  üëÄ Watch Rust ü¶Ä live coding videos on our
  <a href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br />

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <!-- video on intro to testing (with playlist) -->
  <!-- <iframe
    src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
    title="YouTube video player"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen
  >
  </iframe> -->

</blockquote>

        <!-- If a page has a hero-image defined in it, then show it here -->


        <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#whats-an-activity">What‚Äôs an activity?</a>
    <ul>
      <li><a href="#service">Service</a></li>
    </ul>
  </li>
  <li><a href="#sub-activity">sub-Activity</a>
    <ul>
      <li><a href="#activity-history-stack">Activity history stack</a></li>
      <li><a href="#1-fire-and-forget">1. Fire and forget</a></li>
      <li><a href="#2-async-callback-and-correlationid">2. Async callback, and correlationId</a></li>
    </ul>
  </li>
  <li><a href="#intent-and-sub-activity-details">Intent and sub-Activity details</a>
    <ul>
      <li><a href="#processing-the-result-from-the-sub-activity-in-the-calling-activity-cancel-or-ok">Processing the result from the sub-Activity in the calling-Activity (cancel or ok)</a></li>
    </ul>
  </li>
  <li><a href="#summary---return-to-sender-err-caller">Summary - Return to sender‚Ä¶ err‚Ä¶ caller?</a></li>
  <li><a href="#is-there-a-better-way-yes-there-is">Is there a better way? Yes, there is!</a></li>
  <li><a href="#source-code-download">Source code download</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction">#</a>
        
        
      </h2>
    

<p>This tutorial will show you how to create a sub-Activity from a calling-Activity, and process the
results produced by the sub-Activity, if you want to do so. Also, the various ways of launching a
sub-Activity are covered, along with the Android Activity history stack. A subclass of Activity is
also provided that makes it trivial to launch sub-Activities and respond to results from them.</p>
      <h2 id="whats-an-activity">
        
        
          What‚Äôs an activity? <a href="#whats-an-activity">#</a>
        
        
      </h2>
    

<p>An activity is the equivalent of a Frame/Window in GUI toolkits. It takes up the entire drawable
area of the screen (minus the status and title bars on top). An activity is what gets bound to the
AndroidManifest.xml as the main entry point into an application. For long running tasks, it‚Äôs best
to use a service that talks to this activity.</p>
      <h3 id="service">
        
        
          Service <a href="#service">#</a>
        
        
      </h3>
    

<p>Activities are meant to display the UI and get input from the user. However, long running tasks are
not meant to be spawned in a activity, since they can be frozen when the focus is switched away from
them (by the user or incoming phone call or system event). Services on the other hand keep running
for the duration of the user‚Äôs ‚Äòsession‚Äô on the device.</p>
      <h2 id="sub-activity">
        
        
          sub-Activity <a href="#sub-activity">#</a>
        
        
      </h2>
    

<p>An Activity (calling-Activity) can spawn another Activity (sub-Activity) in 2 ways:</p>

<ol>
  <li>
    <p>Fire and forget ‚Äì create an event (Intent) and fire it</p>
  </li>
  <li>
    <p>Async callback ‚Äì create an event (Intent), fire it, and wait for it‚Äôs response in a callback
method (of the calling-Activity).</p>
  </li>
</ol>

<p><a href="http://code.google.com/android/kb/commontasks.html#opennewscreen">Here</a> are more details on
spawning new ‚Äúscreens‚Äù or Activities from the Android SDK documentation.</p>

<p>Here‚Äôs some sample code of an Intent being created and a sub-Activity (called WidgetActivity) being
launched in response to a button being pressed (a detailed analysis of this is provided in the
sections below) in the MainActivity class:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">b4</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Intent</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="n">ctx</span><span class="o">,</span> <span class="nc">WidgetActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

        <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span> <span class="s">"b4 pressed - about to launch sub-activity"</span><span class="o">);</span>

        <span class="c1">// the results are called on widgetActivityCallback</span>
        <span class="n">ctx</span><span class="o">.</span><span class="na">startSubActivity</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="nc">Global</span><span class="o">.</span><span class="na">WIDGET_REQ_CODE</span><span class="o">);</span>

        <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span> <span class="s">"b4 pressed - sucessfully launched sub-activity (startSubActivity called)"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">});</span>
</code></pre></div></div>
      <h3 id="activity-history-stack">
        
        
          Activity history stack <a href="#activity-history-stack">#</a>
        
        
      </h3>
    

<p>Please note that Android maintains a history stack of all the Activities that have been spawned in
an application‚Äôs Linux process. In the sample code above, the calling-Activity simply provides the
class name of the sub-Activity. When the sub-Activity finishes, it puts it‚Äôs result code and any
data back on the stack and finishes itself. Since Android maintains the stack, it knows which
calling Activity to pass the result back to. The calling-Activity has an onActivityResult method
that handles all the callbacks from the sub-Activities. This is pretty confusing at first, since to
keep it all straight we have to use CorrelationIds (more on that below).</p>
      <h3 id="1-fire-and-forget">
        
        
          1. Fire and forget <a href="#1-fire-and-forget">#</a>
        
        
      </h3>
    

<p>An Intent is just an event. It can have a target of an Activity class along with some data that‚Äôs
passed in via a Bundle (which is like a Hashtable). Fire/forget is easy. Just create an Intent (with
a reference to the sub-Activity class), and call startActivity(intent, correlationId) and this will
launch the sub-Activity. This correlationId (requestCode) is used to identify which sub-Activity
called the callback method (which happens when doing the async callback). So it‚Äôs not really needed
in the fire-forget scenario.</p>
      <h3 id="2-async-callback-and-correlationid">
        
        
          2. Async callback, and correlationId <a href="#2-async-callback-and-correlationid">#</a>
        
        
      </h3>
    

<p>The calling-Activity has to provide a correlationId/request code to the Intent/event, before
firing/raising it. This is then used by the sub-Activity to report it‚Äôs results back to the
calling-Activity when it‚Äôs ready. The calling-Activity does not stop when it spawns the sub-Activity
(it does not wait for the callback to happen to become unblocked). Please note that this
sub-Activity is not ‚Äúmodal‚Äù, that is, the calling Activity does not block, when startSubActivity()
is called. So if you‚Äôre thinking that this is like a modal dialog box, where the calling-Activity
will wait for the sub-Activity to produce a result, then you have to think of it differently.</p>

<p>The sub-Activity is an Activity. It has to have an onCreate() method to build the UI. The only
difference is that once it‚Äôs complete, it has to report it‚Äôs results to the caller by doing the
following:</p>

<ol>
  <li>
    <p>setResult(resultCode, strdata, bundledata) ‚Äì this is how results are sent to the caller. The
resultCode is either RESULT_CANCELED or RESULT_OK. Note that you don‚Äôt have to identify which
calling-Activity this result goes to, and you don‚Äôt have to identify what correlation
ID/requestCode to use; these are inferred by Android since it keeps a history stack of Activity
objects around. Also note that you have to provide the correlationID when you created the
Activity that launches the sub-Activity‚Ä¶ so this is how Android knows how to pass the results
to the calling-Activity with the correct correlationID. Whew! :)</p>
  </li>
  <li>
    <p>finish() ‚Äì equivalent of calling return‚Ä¶ it sends control back to the caller. Note that the
calling-Activity never blocked, this is not ‚Äúmodal‚Äù behavior. finish() just reclaims the
resources allocated for the sub-Activity, and removes it from the Activity history stack (for
this application process).</p>
  </li>
</ol>

<p>On the calling-Activity side, the method that gets called when the sub-Activity completes (with
result or error, with or without data) is onActivityResult(‚Ä¶). This method contains the result
code, and any data that‚Äôs set by the sub-Activity. If there are any errors, these get reported there
as well. There‚Äôs a special result code that is passed if there are any problems ‚Äì RESULT_CANCELED.
If the sub-Activity is launched, and then you press the ‚ÄúBack button‚Äù on the emulator then
RESULT_CANCELED is passed on your behalf, and finish() is automatically called. Note that you can
pass parameters back to the calling-Activity (via a Bundle) when you cancel the sub-Activity. Here‚Äôs
some sample code that does this when a button is pressed:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">b2</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Bundle</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Bundle</span><span class="o">();</span>

    <span class="n">map</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">"de"</span><span class="o">,</span> <span class="s">"nied"</span><span class="o">);</span>
    <span class="n">activity</span><span class="o">.</span><span class="na">returnErrorToCaller</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>

    <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span>
          <span class="s">"cancel button pressed, calling returnToCaller with bundle"</span> <span class="o">+</span> <span class="n">map</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">});</span>

<span class="cm">/** call this to return control to the calling activity - {@link MainActivity#onActivityResult} */</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">returnErrorToCaller</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">bundle</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// sets the result for the calling activity</span>
  <span class="n">setResult</span><span class="o">(</span><span class="no">RESULT_CANCELED</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">bundle</span><span class="o">);</span>

  <span class="c1">// equivalent of 'return'</span>
  <span class="n">finish</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Note that when you press the ‚ÄúBack button‚Äù on the emulator, the RESULT_CANCELED is sent back to the
calling-Activity, but no parameters are passed, they are null.</p>
      <h2 id="intent-and-sub-activity-details">
        
        
          Intent and sub-Activity details <a href="#intent-and-sub-activity-details">#</a>
        
        
      </h2>
    

<p>When creating an Intent (event) that will be used to create a new sub-Activity, you can pass the
class of this Activity as a parameter to the Intent. Here‚Äôs the code to create an Intent:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Intent</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="n">ctx</span><span class="o">,</span> <span class="nc">WidgetActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

<span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span> <span class="s">"b4 pressed - about to launch sub-activity"</span><span class="o">);</span>

<span class="c1">// the results are called on widgetActivityCallback</span>
<span class="n">ctx</span><span class="o">.</span><span class="na">startSubActivity</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="nc">Global</span><span class="o">.</span><span class="na">WIDGET_REQ_CODE</span><span class="o">);</span>
</code></pre></div></div>

<p>When you create this new sub-Activity, you have to register it in the AndroidManifest.xml file.
Here‚Äôs an example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">package=</span><span class="s">"com.devlife"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;application</span> <span class="na">android:icon=</span><span class="s">"@drawable/stlogo"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;activity</span> <span class="na">android:name=</span><span class="s">".mainactivity.MainActivity"</span>
                  <span class="na">android:label=</span><span class="s">"@string/app_name"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;intent-filter&gt;</span>
                <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">"android.intent.action.MAIN"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">"android.intent.category.LAUNCHER"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/intent-filter&gt;</span>
        <span class="nt">&lt;/activity&gt;</span>
      <span class="nt">&lt;activity</span> <span class="na">android:name=</span><span class="s">".subactivity.WidgetActivity"</span>
                <span class="na">android:label=</span><span class="s">"@string/widgetactivity_name"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/application&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>
</code></pre></div></div>

<p>Here are a few notes on this AndroidManifest.xml file:</p>

<ol>
  <li>
    <p>The name of the sub-Activity defined by the ‚Äúandroid:name‚Äù attribute, has to be the name of the
class (in this case ‚Äúcom.devlife.subactivity.WidgetActivity‚Äù).</p>
  </li>
  <li>
    <p>If you‚Äôve specified a root package attribute for the manifest tag, then you have to precede this
class name with a ‚Äú.‚Äù; if you don‚Äôt have a root package attribute defined, then just insert the
fully qualified name of the class.</p>
  </li>
  <li>
    <p>In the example above, I have a package attribute defined as: package=‚Äùcom.devlife‚Äù. Android uses
this name field to do a class lookup when you create an Intent and point it to a .class object.</p>
  </li>
</ol>
      <h4 id="processing-the-result-from-the-sub-activity-in-the-calling-activity-cancel-or-ok">
        
        
          Processing the result from the sub-Activity in the calling-Activity (cancel or ok) <a href="#processing-the-result-from-the-sub-activity-in-the-calling-activity-cancel-or-ok">#</a>
        
        
      </h4>
    

<p>When creating the Intent, to launch this sub-Activity, you have to pass it a correlation ID, which
will be used by the calling-Activity to determine what code is run in the onActivityResult() method.
This correlation ID is called a request code, and it‚Äôs necessary due to the fact that one Activity
might spawn more than one sub-Activity, and if these sub-Activities send a result code (and some
data) back to the calling-Activity, then there has to be a way to sort out who sent what. This
callback mechanism is pretty clunky, and a bit confusing. The implementation of the
onActivityResult() method has to have a switch statement with case statements for each correlation
ID. It makes sense to create a global static class that holds these correlation IDs, that are
implicitly mapped to each of your sub-Activity classes. Here‚Äôs an example of the callback
implementation in the calling-Activity MainActivity:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span> <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">requestCode</span><span class="o">,</span>
                                          <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span>
                                          <span class="nc">String</span> <span class="n">strdata</span><span class="o">,</span>
                                          <span class="nc">Bundle</span> <span class="n">bundle</span><span class="o">)</span>
<span class="o">{</span>

  <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span> <span class="s">"MainDriver main-activity got result from sub-activity"</span><span class="o">);</span>

  <span class="k">if</span> <span class="o">(</span><span class="n">resultCode</span> <span class="o">==</span> <span class="nc">Activity</span><span class="o">.</span><span class="na">RESULT_CANCELED</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG2</span><span class="o">,</span>
          <span class="s">"WidgetActivity was cancelled or encountered an "</span>
          <span class="o">+</span> <span class="s">"error. resultcode == result_cancelled"</span><span class="o">);</span>
    <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG2</span><span class="o">,</span>
          <span class="s">"WidgetActivity was cancelled - data ="</span> <span class="o">+</span> <span class="n">bundle</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="k">else</span>
    <span class="nf">switch</span> <span class="o">(</span><span class="n">requestCode</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Global</span><span class="o">.</span><span class="na">WIDGET_REQ_CODE</span><span class="o">:</span>
        <span class="n">widgetActivityCallback</span><span class="o">(</span><span class="n">resultCode</span><span class="o">,</span> <span class="n">bundle</span><span class="o">);</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>

  <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span> <span class="s">"MainDriver main-activity got result "</span>
                    <span class="o">+</span> <span class="s">"from sub-activity"</span><span class="o">);</span>

<span class="o">}</span>
</code></pre></div></div>

<p>In addition the correlation ID, a result code is passed from the sub-Activity to calling-Activity.
It‚Äôs strange that the sub-Activity has to ‚Äúkill itself‚Äù in order for this result to pass back to the
caller. This exchange is very clunky as well. Here‚Äôs an example of a sub-Activity passing data,
result code, and correlation ID back to the calling-Activity when a button is pressed; please note
that the calling Activity is implicitly determined (not explicitly, since Android maintains a
history stack of Activities in the application‚Äôs process:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">b</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Bundle</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Bundle</span><span class="o">();</span>

    <span class="n">map</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">"monkey"</span><span class="o">,</span> <span class="s">"donkey"</span><span class="o">);</span>
    <span class="n">activity</span><span class="o">.</span><span class="na">returnToCaller</span><span class="o">(</span><span class="n">map</span><span class="o">);</span>

    <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG</span><span class="o">,</span>
          <span class="s">"button pressed, calling returnToCaller with bundle"</span> <span class="o">+</span>
          <span class="n">map</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">});</span>

<span class="cm">/** call this to return control to the calling activity - {@link MainActivity#onActivityResult} */</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">returnToCaller</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">bundle</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// sets the result for the calling activity</span>
  <span class="n">setResult</span><span class="o">(</span><span class="no">RESULT_OK</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">bundle</span><span class="o">);</span>

  <span class="c1">// equivalent of 'return'</span>
  <span class="n">finish</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Keep in mind that if the ‚ÄúBack button‚Äù is pressed, while the sub-Activity is visible, then a
RESULT_CANCELED resultCode is passed to the onActivityResult() method of the calling-Activity. Also,
the bundle parameter is null in this case. So there are 3 ways to return control back to the
calling-Activity:</p>

<ol>
  <li>
    <p>Pass RESULT_OK, with or without some return value (passed as a Bundle or String) - in this
example a Bundle is used ({‚Äúmonkey‚Äù=‚Äùdonkey‚Äù}).</p>
  </li>
  <li>
    <p>Pass RESULT_CANCELED, with or without some return value; in this example a Bundle is passed back
to the calling-Activity ({‚Äúde‚Äù=‚Äùnied]‚Äù).</p>
  </li>
  <li>
    <p>Press the ‚ÄúBack button‚Äù which will pass RESULT_CANCELED, with null bundle and string parameter to
the calling-Activity.</p>
  </li>
</ol>
      <h2 id="summary---return-to-sender-err-caller">
        
        
          Summary - Return to sender‚Ä¶ err‚Ä¶ caller? <a href="#summary---return-to-sender-err-caller">#</a>
        
        
      </h2>
    

<p>As you have probably inferred by now, the sub-Activity doesn‚Äôt need to know anything about it‚Äôs
caller. The calling-Activity has to provide a correlationId and a class name to the Intent that
launches the sub-Activity. This correlationId is then used by the calling-Activity to figure out
what to do with the result (and which sub-Activity produced these results).</p>

<p>In the code example above, you don‚Äôt really need to know what the calling Activity‚Äôs class is‚Ä¶
since it just fires an Intent to launch the sub-Activity. When the sub-Activity finishes, the
results are sent back to the calling-Activity implicitly by Android itself. This is why I only
showed the calling-Activity (in my example MainActivity) fire the Intent and process the callback
with results.</p>
      <h2 id="is-there-a-better-way-yes-there-is">
        
        
          Is there a better way? Yes, there is! <a href="#is-there-a-better-way-yes-there-is">#</a>
        
        
      </h2>
    

<p>Instead of dealing with the clunky requestCode/correlationId, I decided to create a subclass of
Activity that would make launching sub-Activities, and dealing with their result (OK or CANCELED)
trivial. Here‚Äôs the class that makes it all very simple, it‚Äôs called SimpleActivity:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * SimpleActivity is a subclass of Activity that makes it
 * trivial to create a sub-Activity, and handle it's
 * results (ok or cancel). No need to deal with requestCodes,
 * since this class handles creating correlationIds
 * automatically.
 *
 * @author Nazmul Idris
 * @version 1.0
 * @since Jul 3, 2008, 12:08:46 PM
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleActivity</span> <span class="kd">extends</span> <span class="nc">Activity</span> <span class="o">{</span>

<span class="cm">/** holds the map of callbacks */</span>
<span class="kd">protected</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">ResultCallbackIF</span><span class="o">&gt;</span>
    <span class="n">_callbackMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">,</span> <span class="nc">ResultCallbackIF</span><span class="o">&gt;();</span>

<span class="cm">/** use this method to launch the sub-Activity, and provide a
* functor to handle the result - ok or cancel */</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">launchSubActivity</span><span class="o">(</span><span class="nc">Class</span> <span class="n">subActivityClass</span><span class="o">,</span>
                              <span class="nc">ResultCallbackIF</span> <span class="n">callback</span><span class="o">)</span> <span class="o">{</span>

  <span class="nc">Intent</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">subActivityClass</span><span class="o">);</span>

  <span class="nc">Random</span> <span class="n">rand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span>
  <span class="kt">int</span> <span class="n">correlationId</span> <span class="o">=</span> <span class="n">rand</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>

  <span class="n">_callbackMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">correlationId</span><span class="o">,</span> <span class="n">callback</span><span class="o">);</span>

  <span class="n">startSubActivity</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">correlationId</span><span class="o">);</span>

<span class="o">}</span>

<span class="cm">/**
 * this is the underlying implementation of the onActivityResult
 * method that handles auto generation of correlationIds and
 * adding/removing callback functors to handle the result
 */</span>
<span class="nd">@Override</span> <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onActivityResult</span><span class="o">(</span><span class="kt">int</span> <span class="n">correlationId</span><span class="o">,</span>
                                          <span class="kt">int</span> <span class="n">resultCode</span><span class="o">,</span>
                                          <span class="nc">String</span> <span class="n">paramStr</span><span class="o">,</span>
                                          <span class="nc">Bundle</span> <span class="n">paramMap</span><span class="o">)</span> <span class="o">{</span>

  <span class="k">try</span> <span class="o">{</span>
    <span class="nc">ResultCallbackIF</span> <span class="n">callback</span> <span class="o">=</span> <span class="n">_callbackMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">correlationId</span><span class="o">);</span>

    <span class="k">switch</span> <span class="o">(</span><span class="n">resultCode</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Activity</span><span class="o">.</span><span class="na">RESULT_CANCELED</span><span class="o">:</span>
        <span class="n">callback</span><span class="o">.</span><span class="na">resultCancel</span><span class="o">(</span><span class="n">paramStr</span><span class="o">,</span> <span class="n">paramMap</span><span class="o">);</span>
        <span class="n">_callbackMap</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">correlationId</span><span class="o">);</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="nc">Activity</span><span class="o">.</span><span class="na">RESULT_OK</span><span class="o">:</span>
        <span class="n">callback</span><span class="o">.</span><span class="na">resultOk</span><span class="o">(</span><span class="n">paramStr</span><span class="o">,</span> <span class="n">paramMap</span><span class="o">);</span>
        <span class="n">_callbackMap</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">correlationId</span><span class="o">);</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="nc">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG3</span><span class="o">,</span>
            <span class="s">"Couldn't find callback handler for correlationId"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG3</span><span class="o">,</span>
            <span class="s">"Problem processing result from sub-activity"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>

<span class="cm">/**
 * ResultCallbackIF is a simple interface that you have to
 * implement to handle results - ok or cancel from a sub-Activity.
 *
 * @author Nazmul Idris
 * @version 1.0
 * @since Jul 3, 2008, 12:11:31 PM
 */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">ResultCallbackIF</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">resultOk</span><span class="o">(</span><span class="nc">String</span> <span class="n">resultString</span><span class="o">,</span> <span class="nc">Bundle</span> <span class="n">resultMap</span><span class="o">);</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">resultCancel</span><span class="o">(</span><span class="nc">String</span> <span class="n">resultString</span><span class="o">,</span> <span class="nc">Bundle</span> <span class="n">resultMap</span><span class="o">);</span>

<span class="o">}</span><span class="c1">//end interface ResultCallbackIF</span>

<span class="o">}</span><span class="c1">//end class SimpleActivity</span>
</code></pre></div></div>

<p>Here‚Äôs some sample code to show you how clean it is to use SimpleActivity, instead of the default
stuff; this code (it‚Äôs a subclass of SimpleActivity) spawns a new sub-Activity in response to a
button press, and the callback to handle the results is passed in-line, with the call to spawn the
sub-Activity:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// setup b2 to spawn a subactivity - TableActivity</span>
<span class="n">b2</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG3</span><span class="o">,</span> <span class="s">"b2 pressed - about to launch sub-activity"</span><span class="o">);</span>

    <span class="n">ctx</span><span class="o">.</span><span class="na">launchSubActivity</span><span class="o">(</span><span class="nc">TableActivity</span><span class="o">.</span><span class="na">class</span><span class="o">,</span>
                          <span class="k">new</span> <span class="nc">SimpleActivity</span><span class="o">.</span><span class="na">ResultCallbackIF</span><span class="o">()</span> <span class="o">{</span>
                            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">resultOk</span><span class="o">(</span><span class="nc">String</span> <span class="n">str</span><span class="o">,</span> <span class="nc">Bundle</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
                              <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG3</span><span class="o">,</span>
                                    <span class="s">"subactivity completed successfully, "</span>
                                    <span class="o">+</span> <span class="s">"result="</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
                            <span class="o">}</span>
                            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">resultCancel</span><span class="o">(</span><span class="nc">String</span> <span class="n">str</span><span class="o">,</span> <span class="nc">Bundle</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
                              <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG3</span><span class="o">,</span>
                                    <span class="s">"subactivity was cancelled, result="</span> <span class="o">+</span> <span class="n">result</span><span class="o">);</span>
                            <span class="o">}</span>
                          <span class="o">});</span>

    <span class="nc">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="nc">Global</span><span class="o">.</span><span class="na">TAG3</span><span class="o">,</span> <span class="s">"b2 pressed - sucessfully launched sub-activity "</span> <span class="o">+</span>
                       <span class="s">"(startSubActivity called)"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div></div>

<p>No need to mess with correlationIds, or overriding onActivityResult in the calling-Activity. Simple,
elegant, and it works :) .</p>
      <h2 id="source-code-download">
        
        
          Source code download <a href="#source-code-download">#</a>
        
        
      </h2>
    

<p>Download all of this from <a href="/assets/androidutils.zip">AndroidUtils</a>.</p>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/Android">
                #android</a>
        </span>
    
</div>

        
<blockquote>

üì¶ Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
(they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
project):
<ul>
  <li>üê±<code>giti</code>: run interactive git commands with confidence in your terminal</li>
  <li>ü¶ú<code>edi</code>: edit Markdown with style in your terminal</li>
</ul>

<p>
<kbd>giti in action</kbd>
<video width="100%" controls>
  <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
</video>
</p>

<p>
<kbd>edi in action</kbd>
<video width="100%" controls>
  <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
</video>
</p>

</blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/11/annotation-processing-kotlin-android/">
                        Annotation Processing in Kotlin and Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/05/11/kotlin-vs-java/">
                        Java vs Kotlin for Android development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-in-depth/">
                        In-depth exploration of Dagger 2
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/07/21/designing-for-multiple-screen-densities-on-android/">
                        Designing for multiple screen densities on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/07/introduction-to-android-architecture-components/">
                        Introduction to Android Architecture Components
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/02/android-downloadable-fonts/">
                        Android Downloadable Fonts
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/29/getting-started-with-mediaplayer-on-android/">
                        Getting started with MediaPlayer on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/09/android-o-n-and-below-component-lifecycles-and-background-tasks/">
                        Deep dive into Android Services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/26/flexbox-layouts-and-lists-with-react-native/">
                        Flexbox layouts and lists with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/14/navigation-and-styling-with-react-native/">
                        Navigation and Styling with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/03/31/getting-started-with-react-native/">
                        Getting started with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/01/27/native-android-redux-and-firebase/">
                        Android, Redux, Firebase Auth &amp; Database, and Material Design
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/20/gps/">
                        Android Location Providers (gps, network, passive)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/12/android-event-dispatch-thread-or-main-thread/">
                        Android Event Dispatch Thread or Main Thread
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2009/03/06/using-json-for-mobile-object-exchange/">
                        Using JSON for mobile object exchange
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/05/android-animation-framework/">
                        Android Animation Framework Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-listview/">
                        Android ListView and custom adapter Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-linearlayout/">
                        Android LinearLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/31/android-ui-themes/">
                        Android UI Themes Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/29/android-tablelayout/">
                        Android TableLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/option-and-context-menu/">
                        Android Option and Context menu Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/android-xml-view-inflation/">
                        Android XML View inflation Tutorial
                    </a>
                </li>
            
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-33-multithreading/">
                        Android - How to build a service-enabled Android app - Part 3/3 Multithreading
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-13-ui/">
                        Android - How to build a service-enabled Android app - Part 1/3 UI
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-23-networking/">
                        Android - How to build a service-enabled Android App - Part 2/3 Networking
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <h2 class="star-us-github-heading">
      Subscribe to our Rust live coding
      <a href="https://www.youtube.com/@developerlifecom">YouTube Channel</a
      ><span class="heading-emoji"> ü¶Ä</span>
    </h2>

    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe>

    <br />
    <br />

    <h2 class="star-us-github-heading">
      Use our extensions, apps, binary and library crates<span class="heading-emoji"> üì¶</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/shortlink" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li>
    </ul>

    <br />

    <h2 class="star-us-github-heading">
      Join our <a href="https://discord.gg/PhuF4qFpcA">Discord</a>
      <span class="heading-emoji"> üí¨</span>
    </h2>
  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. ¬© Nazmul Idris 2022. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics related to Java, XML,
    and web and desktop technologies. Today it covers Rust, TUI, CLI, Kotlin, TypeScript, Node.js, React, Android,
    JDK, Web, Cloud technologies, User Experience Engineering (UXE) and design topics. ¬© Nazmul
    Idris 2022. All rights reserved.
  </p>
  <div class="footer-container">
    <!-- element 1 -->
    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Subscribe for updates</a
      >
    </kbd>

    <!-- element 2 -->
    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com" target="_blank">Sponsored by R3BL</a>
    </kbd>
  </div>
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
