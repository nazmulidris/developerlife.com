<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg" xmlns:bx="https://boxy-svg.com">
  <g>
    <rect x="28.047" y="51.249" width="211.627" height="119.072" style="fill: rgb(216, 179, 210);"/>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" x="37.947" y="69.353">process.stdin.on(<tspan x="37.946998596191406" dy="1.5em">​</tspan>  "keypress",<tspan x="37.946998596191406" dy="1.5em">​</tspan>  (input,key) =&gt; {<tspan x="37.946998596191406" dy="1.5em">​</tspan>    setMsg(input+key)<tspan x="37.946998596191406" dy="1.5em">​</tspan>  }<tspan x="37.946998596191406" dy="1.5em">​</tspan>)</text>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; font-style: italic; white-space: pre;" transform="matrix(0, -1, 1, 0, 71.545639, 200.469315)" x="37.947" y="159.353">OUTSIDE CODE</text>
  </g>
  <g>
    <rect x="260.327" y="51.249" width="211.627" height="119.072" style="fill: rgb(109, 216, 186);"/>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" y="69.353" x="270.769">const [msg, setMsg] = useState()<tspan x="270.7690124511719" dy="1.5em">​</tspan>return (<tspan x="270.7690124511719" dy="1.5em">​</tspan>&lt;App&gt;<tspan x="270.7690124511719" dy="1.5em">​</tspan>  &lt;Text&gt;{msg}&lt;/Text&gt;<tspan x="270.7690124511719" dy="1.5em">​</tspan>&lt;/App&gt;<tspan x="270.7690124511719" dy="1.5em">​</tspan>)<tspan x="270.7690124511719" dy="1.5em">​</tspan></text>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; font-style: italic; white-space: pre;" transform="matrix(0, -1, 1, 0, 305.019348, 562.522339)" x="400" y="159.353">REACT CODE</text>
  </g>
  <text style="fill: rgb(218, 57, 54); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" x="62.213" y="34.944">Does not work - code called outside of React can't use hooks</text>
  <g>
    <ellipse style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" cx="40.413" cy="32.084" rx="12.366" ry="12.366"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 10.7px;" x="36.577" y="35.199">1</text>
  </g>
  <g transform="matrix(1, 0, 0, 1, 0, -133.113525)">
    <rect x="28.047" y="366.805" width="211.627" height="119.072" style="fill: rgb(216, 179, 210);"/>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" transform="matrix(1, 0, 0, 1, -0.000002, 315.556122)"><tspan x="37.947" y="69.353">process.stdin.on(</tspan><tspan x="37.947" dy="1.5em">​</tspan><tspan>  "keypress",</tspan><tspan x="37.947" dy="1.5em">​</tspan><tspan>  (input,key)=&gt;{</tspan><tspan x="37.947" dy="1.5em">​</tspan><tspan>    </tspan><tspan style="fill: rgb(40, 54, 153);">setFoo(input+key)</tspan><tspan x="37.947" dy="1.5em">​</tspan><tspan>  }</tspan><tspan x="37.947" dy="1.5em">​</tspan><tspan>)</tspan></text>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; font-style: italic; white-space: pre;" transform="matrix(0, -1, 1, 0, 71.545639, 517.750488)" x="37.947" y="159.353">OUTSIDE CODE</text>
  </g>
  <g transform="matrix(1, 0, 0, 1, 0, 127.312187)">
    <rect x="260.327" y="235.509" width="211.627" height="119.072" style="fill: rgb(109, 216, 186);"/>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" y="69.353" x="270.769" transform="matrix(1, 0, 0, 1, 0, 184.259247)">const [msg, setMsg] = useState()<tspan x="270.7690124511719" dy="1.5em">​</tspan>return (<tspan x="270.7690124511719" dy="1.5em">​</tspan>&lt;App&gt;<tspan x="270.7690124511719" dy="1.5em">​</tspan>  &lt;Text&gt;{msg}&lt;/Text&gt;<tspan x="270.7690124511719" dy="1.5em">​</tspan>&lt;/App&gt;<tspan x="270.7690124511719" dy="1.5em">​</tspan>)<tspan x="270.7690124511719" dy="1.5em">​</tspan></text>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; font-style: italic; white-space: pre;" transform="matrix(0, -1, 1, 0, 305.019348, 746.781616)" x="400" y="159.353">REACT CODE</text>
  </g>
  <text style="fill: rgb(75, 133, 62); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" x="62.213" y="208.965">Works if you add a proxy "foo"</text>
  <g transform="matrix(1, 0, 0, 1, 0, 174.020721)">
    <ellipse style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" cx="40.413" cy="32.084" rx="12.366" ry="12.366"/>
    <text style="white-space: pre; fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 10.7px;" x="36.577" y="35.199">2</text>
  </g>
  <g transform="matrix(1, 0, 0, 1, -0.000002, 127.312187)">
    <rect x="28.047" y="235.509" width="211.627" height="119.072" style="fill: rgb(163, 173, 255);"/>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; white-space: pre;" y="69.353" x="270.769" transform="matrix(1, 0, 0, 1, -232.279984, 184.259766)">const [foo, setFoo] = useState()<tspan x="270.7690124511719" dy="1.5em">​</tspan>useEffect(<tspan x="270.7690124511719" dy="1.5em">​</tspan>  () =&gt; setMsg(foo), <tspan x="270.7690124511719" dy="1.5em">​</tspan>  [ foo ]<tspan x="270.7690124511719" dy="1.5em">​</tspan>)<tspan x="270.7690124511719" dy="1.5em">​</tspan><tspan x="270.7690124511719" dy="1.5em">​</tspan></text>
    <text style="fill: rgb(51, 51, 51); font-family: &quot;Fira Code&quot;; font-size: 10px; font-style: italic; white-space: pre;" transform="matrix(0, -1, 1, 0, 72.739365, 746.782104)" x="400" y="159.353">REACT CODE</text>
  </g>
  <rect x="23.296" y="228.71" width="223.405" height="258.061" style="fill: none; stroke: rgb(58, 152, 228);"/>
  <path d="M 225.744 67.889 H 252.06 L 252.06 61.867 L 268.119 69.896 L 252.06 77.926 L 252.06 71.904 H 225.744 V 67.889 Z" style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" bx:shape="arrow 225.744 61.867 42.375 16.059 4.015 16.059 0 1@24156d5b"/>
  <path d="M 225.744 389.963 H 252.06 L 252.06 383.941 L 268.119 391.971 L 252.06 400 L 252.06 393.978 H 225.744 V 389.963 Z" style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" bx:shape="arrow 225.744 383.941 42.375 16.059 4.015 16.059 0 1@f04675be"/>
  <path d="M 109.762 355.31 H 136.078 L 136.078 349.288 L 152.137 357.318 L 136.078 365.347 L 136.078 359.325 H 109.762 V 355.31 Z" style="fill: rgb(216, 216, 216); stroke: rgb(0, 0, 0);" transform="matrix(0, 1, -1, 0, 449.287994, 217.42337)" bx:shape="arrow 109.762 349.288 42.375 16.059 4.015 16.059 0 1@db3307f2"/>
</svg>