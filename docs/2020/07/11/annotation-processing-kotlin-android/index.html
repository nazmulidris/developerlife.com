<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Annotation Processing in Kotlin and Android | developerlife.com</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Annotation Processing in Kotlin and Android" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction to Kotlin Annotation Processing on Android and how to create a static index of generated classes and interfaces (without using reflection or classgraphs)" />
<meta property="og:description" content="Introduction to Kotlin Annotation Processing on Android and how to create a static index of generated classes and interfaces (without using reflection or classgraphs)" />
<link rel="canonical" href="http://developerlife.com/2020/07/11/annotation-processing-kotlin-android/" />
<meta property="og:url" content="http://developerlife.com/2020/07/11/annotation-processing-kotlin-android/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-07-11T00:00:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Annotation Processing in Kotlin and Android" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2020-07-11T00:00:00-05:00","datePublished":"2020-07-11T00:00:00-05:00","description":"Introduction to Kotlin Annotation Processing on Android and how to create a static index of generated classes and interfaces (without using reflection or classgraphs)","headline":"Annotation Processing in Kotlin and Android","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2020/07/11/annotation-processing-kotlin-android/"},"url":"http://developerlife.com/2020/07/11/annotation-processing-kotlin-android/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add fontawesome (only for bio.html page) -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
<!-- https://us14.admin.mailchimp.com/account/connected-sites/site-detail/ -->

<script id="mcjs">
  !(function (c, h, i, m, p) {
    ;(m = c.createElement(h)),
      (p = c.getElementsByTagName(h)[0]),
      (m.async = 1),
      (m.src = i),
      p.parentNode.insertBefore(m, p)
  })(
    document,
    "script",
    "https://chimpstatic.com/mcjs-connected/js/users/c2470ddfa863eb8ace707651b/2bb3bcad193ef862398700457.js"
  )
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Annotation Processing in Kotlin and Android&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Annotation Processing in Kotlin and Android</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Annotation Processing in Kotlin and Android</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->Jul 11, 2020

            <!--Author-->
            ‚àô <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is fontawesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, play,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            üòÉ.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a href="https://r3bl.com#services" target="_blank"
    ><kbd>Need help with code?</kbd></a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p><a href="/subscribe.html" target="_blank"
    ><kbd>Newsletter</kbd></a
  >

</div>
</header>
<div class="post-content e-content" itemprop="articleBody">
        <!-- If a page has a hero-image defined in it, then show it here -->


        <p><img class="post-hero-image" src="/assets/annotation-processing-hero.svg" /></p>

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#get-the-source-code">Get the source code</a></li>
  <li><a href="#end-goals-of-this-project">End goals of this project</a>
    <ul>
      <li><a href="#using-our-annotations">Using our annotations</a></li>
      <li><a href="#using-reflection-to-access-the-generated-classes">Using reflection to access the generated classes</a></li>
      <li><a href="#generating-a-static-index-of-all-the-usages-of-our-annotations-in-our-codebase">Generating a static index of all the usages of our annotations in our codebase</a></li>
    </ul>
  </li>
  <li><a href="#annotation-processing">Annotation processing</a></li>
  <li><a href="#project-structure">Project structure</a></li>
  <li><a href="#building-an-index-of-annotated-classes">Building an index of annotated classes</a></li>
  <li><a href="#using-reflection-to-load-the-adapter-classes-given-the-model-classes">Using reflection to load the adapter classes, given the model classes</a></li>
  <li><a href="#converting-groovy-scripts-to-kotlin-dsl">Converting Groovy scripts to Kotlin DSL</a></li>
  <li><a href="#debugging">Debugging</a></li>
  <li><a href="#references">References</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h1 id="get-the-source-code">
        
        
          Get the source code <a href="#get-the-source-code">#</a>
        
        
      </h1>
    

<p>You can find the code for this project in
<a href="https://github.com/nazmulidris/annotation-processing/tree/main/kotlin-android-project">this GitHub repo</a>.
This tutorial is meant to give you some context and describe the structure of this repo
and the intended goals. Please clone the repo and play w/ it as you‚Äôre reading this
tutorial, since most of the code in the repo is simply not provided or repeated in this
tutorial. Also, the code is documented and structured in a readable way, so you can follow
along w/out this tutorial if you like to learn that way.</p>
      <h1 id="end-goals-of-this-project">
        
        
          End goals of this project <a href="#end-goals-of-this-project">#</a>
        
        
      </h1>
    

<p>This project shows how to create annotation processors using Kotlin and Android. The main
example is a RecyclerView whose adapter is generated via annotations.</p>

<p>Here‚Äôs what the annotated code looks like for a ‚Äúdata model‚Äù class, which is simply a
class w/ some properties that need to be mapped to each row of a RecyclerView (which is
declared in <code class="language-plaintext highlighter-rouge">row_renderer_simple.xml</code>).</p>
      <h2 id="using-our-annotations">
        
        
          Using our annotations <a href="#using-our-annotations">#</a>
        
        
      </h2>
    

<p>There are only 2 annotations:</p>

<ol>
  <li>Class level annotation <code class="language-plaintext highlighter-rouge">@AdapterModel</code>. This generates a source file w/ the name
<code class="language-plaintext highlighter-rouge">Adapter</code> appended at the end of the name of the class annotated w/ this. For the
example below, the <code class="language-plaintext highlighter-rouge">PersonModelAdapter</code> class is generated.</li>
  <li>Property level annotation <code class="language-plaintext highlighter-rouge">@ViewHolderBinding</code>. These can be added to properties of the
class that has been annotated w/ <code class="language-plaintext highlighter-rouge">@AdapterModel</code>.</li>
</ol>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@AdapterModel</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">row_renderer_simple</span><span class="p">)</span>
<span class="kd">data class</span> <span class="nc">PersonModel</span><span class="p">(</span>
    <span class="nd">@ViewHolderBinding</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">title</span><span class="p">)</span> <span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="nd">@ViewHolderBinding</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">subtitle</span><span class="p">)</span> <span class="kd">val</span> <span class="py">address</span><span class="p">:</span> <span class="nc">String</span>
<span class="p">)</span>
</code></pre></div></div>

<p>Here‚Äôs what the code looks like in the simple Activity that loads a bunch of data, which
is then displayed in a RecyclerView. The magic here is that the <code class="language-plaintext highlighter-rouge">PersonModelAdapter</code> is
generated by the annotation processor! When the data model classes change, the adapter is
regenerated when we rebuild the project!</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
    <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>
    <span class="n">recyclerView</span><span class="p">.</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="n">layoutManager</span> <span class="p">=</span> <span class="nc">LinearLayoutManager</span><span class="p">(</span><span class="k">this</span><span class="nd">@MainActivity</span><span class="p">)</span>
      <span class="n">adapter</span> <span class="p">=</span> <span class="nc">PersonModelAdapter</span><span class="p">(</span><span class="nf">listOf</span><span class="p">(</span>
        <span class="nc">Person</span><span class="p">(</span><span class="s">"John Doe"</span><span class="p">,</span> <span class="s">"123 Street"</span><span class="p">),</span>
        <span class="nc">Person</span><span class="p">(</span><span class="s">"Jane Doe"</span><span class="p">,</span> <span class="s">"789 Street"</span><span class="p">)</span>
      <span class="p">))</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
      <h2 id="using-reflection-to-access-the-generated-classes">
        
        
          Using reflection to access the generated classes <a href="#using-reflection-to-access-the-generated-classes">#</a>
        
        
      </h2>
    

<p>Note that we are explicitly using <code class="language-plaintext highlighter-rouge">PersonModelAdapter</code> here, which means we must know of
the existence of this class by memory, which is not optimal.</p>

<p>We can also get this via reflection! Just by knowing that we are looking for the generated
adapter class for the <code class="language-plaintext highlighter-rouge">PersonModel</code> class (which we have written and know of), we can find
it via reflection, knowing that this adapter must also take a <code class="language-plaintext highlighter-rouge">List</code> as a parameter to its
constructor. All of this logic is the <code class="language-plaintext highlighter-rouge">AdapterUtils.createBindingForModel()</code> function.
Here‚Äôs what the usage of that code looks like.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
    <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>
    <span class="n">recyclerView</span><span class="p">.</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="n">layoutManager</span> <span class="p">=</span> <span class="nc">LinearLayoutManager</span><span class="p">(</span><span class="k">this</span><span class="nd">@MainActivity</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">bindPersonModelAdapter</span><span class="p">()</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">fun</span> <span class="nf">bindPersonModelAdapter</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">items</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span>
        <span class="nc">PersonModel</span><span class="p">(</span><span class="s">"Jane Doe"</span><span class="p">,</span> <span class="s">"123 Street"</span><span class="p">),</span>
        <span class="nc">PersonModel</span><span class="p">(</span><span class="s">"John Doe"</span><span class="p">,</span> <span class="s">"789 Street"</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="kd">val</span> <span class="py">adapter</span> <span class="p">=</span> <span class="nc">AdapterUtils</span><span class="p">.</span><span class="nf">createBindingForModel</span><span class="p">(</span><span class="nc">PersonModel</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
    <span class="n">adapter</span><span class="o">?.</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="n">recyclerView</span><span class="p">.</span><span class="n">adapter</span> <span class="p">=</span> <span class="k">this</span> <span class="k">as</span> <span class="nc">RecyclerView</span><span class="p">.</span><span class="nc">Adapter</span><span class="p">&lt;</span><span class="err">*</span><span class="p">&gt;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
      <h2 id="generating-a-static-index-of-all-the-usages-of-our-annotations-in-our-codebase">
        
        
          Generating a static index of all the usages of our annotations in our codebase <a href="#generating-a-static-index-of-all-the-usages-of-our-annotations-in-our-codebase">#</a>
        
        
      </h2>
    

<p>As a bonus we also get an index of all the classes in our project that use our
annotations! In the <code class="language-plaintext highlighter-rouge">MainActivity</code> code above, instead of calling the
<code class="language-plaintext highlighter-rouge">bindPersonModelAdapter()</code> function, we can call the following.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">private</span> <span class="k">fun</span> <span class="nf">bindDebugModelAdapter</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">items</span><span class="p">:</span> <span class="nc">MutableList</span><span class="p">&lt;</span><span class="nc">DebugModel</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">mutableListOf</span><span class="p">()</span>
    <span class="nc">AdapterIndex</span><span class="p">().</span><span class="n">index</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="n">classAnnotationHolder</span> <span class="p">-&gt;</span>
      <span class="kd">val</span> <span class="py">title</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">classAnnotationHolder</span><span class="p">.</span><span class="n">name</span>
      <span class="kd">val</span> <span class="py">description</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">classAnnotationHolder</span><span class="p">.</span><span class="n">list</span><span class="p">.</span><span class="nf">joinToString</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="s">"{"</span><span class="p">,</span> <span class="s">"}"</span><span class="p">)</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">name</span> <span class="p">}</span>
      <span class="n">items</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">DebugModel</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="p">))</span>
    <span class="p">}</span>
    <span class="kd">val</span> <span class="py">adapter</span> <span class="p">=</span> <span class="nc">AdapterUtils</span><span class="p">.</span><span class="nf">createBindingForModel</span><span class="p">(</span><span class="nc">DebugModel</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
    <span class="n">adapter</span><span class="o">?.</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="n">recyclerView</span><span class="p">.</span><span class="n">adapter</span> <span class="p">=</span> <span class="k">this</span> <span class="k">as</span> <span class="nc">RecyclerView</span><span class="p">.</span><span class="nc">Adapter</span><span class="p">&lt;</span><span class="err">*</span><span class="p">&gt;</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div></div>

<p>The index is statically generated at compile time, so there‚Äôs no runtime overhead of using
some kind of expensive
<a href="https://github.com/classgraph/classgraph/wiki/Code-examples">classgraph</a> or reflection.
The <code class="language-plaintext highlighter-rouge">index.AdapterIndex</code> file contains the statically generated index of all the places in
our code where our annotation is used. And if you call <code class="language-plaintext highlighter-rouge">bindDebugModelAdapter()</code> then you
will see all the places where our annotations are used in the code to build the sample app
itself üò≤.</p>
      <h1 id="annotation-processing">
        
        
          Annotation processing <a href="#annotation-processing">#</a>
        
        
      </h1>
    

<p>Here‚Äôs a quick breakdown of the core concepts.</p>

<ul>
  <li>Annotation processing is a tool built into javac for scanning and processing annotations
at compile time.</li>
  <li>It can create new source files; however, it can‚Äôt modify existing ones.</li>
  <li>It‚Äôs done in rounds. The first round starts when the compilation reaches the pre-compile
phase. If this round generates any new files, another round starts with the generated
files as its input. This continues until the processor processes all the new files.</li>
</ul>

<p><img src="/assets/ap-diagram.svg" /></p>
      <h1 id="project-structure">
        
        
          Project structure <a href="#project-structure">#</a>
        
        
      </h1>
    

<p>This project has 3 modules:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">app</code> - contains the Activity and RecyclerView (and uses the annotations defined below).
The ‚Äúdata model‚Äù class is in this module and the annotations are actually used on
classes here. Eg: <code class="language-plaintext highlighter-rouge">PersonModel</code> and <code class="language-plaintext highlighter-rouge">DebugModel</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">annotations</code> - contains the custom annotations that we‚Äôve defined. There are two
annotations, one at a class level, and the other at a property level (of the properties
enclosed by the class).</li>
  <li><code class="language-plaintext highlighter-rouge">processor</code> - contains the actual processor that generates the source files on compile.
    <ol>
      <li>The processor looks for the class level annotation and enclosed property level
annotations, and gathers the metadata from them in the <code class="language-plaintext highlighter-rouge">metadata.kt</code> classes.</li>
      <li>The metadata is then passed to the <code class="language-plaintext highlighter-rouge">codegen.kt</code> classes in order to generate the
RecyclerView adapter corresponding to the data model.</li>
      <li>When you build the project, the generated files can be found in the following folder:
<code class="language-plaintext highlighter-rouge">${buildDir.absolutePath}/generated/source/kotlin</code>.
        <ul>
          <li>The actual adapter files that generated here are: <code class="language-plaintext highlighter-rouge">PersonModelAdapter.kt</code> and
<code class="language-plaintext highlighter-rouge">DebugModelAdapter.kt</code>.</li>
          <li>Also, a static index file is generated in the <code class="language-plaintext highlighter-rouge">index</code> package/folder, called
<code class="language-plaintext highlighter-rouge">AdapterIndex.kt</code>.</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">AdapterUtils.kt</code> is provided in this package as well, which handles providing a way
to access the index and any generated model adapters via reflection.</li>
    </ol>
  </li>
</ul>

<p>There is a bunch of glue that enables annotation processing in the <code class="language-plaintext highlighter-rouge">build.gradle.kts</code>
files of each of these modules. In summary:</p>

<ol>
  <li>The annotations have to be imported in various modules.</li>
  <li>The processor has to be run as well by the <code class="language-plaintext highlighter-rouge">app</code> module.</li>
</ol>
      <h1 id="building-an-index-of-annotated-classes">
        
        
          Building an index of annotated classes <a href="#building-an-index-of-annotated-classes">#</a>
        
        
      </h1>
    

<p>There are times when it would be useful to find all the classes that are annotated w/ a
particular annotation. For a made up example, in our activity, instead of populating the
RecyclerView adapter w/ dummy data, we could have found all the classes and methods where
our annotations appear in the code, and then display that in the list.</p>

<p>Sadly, in Android due to the way in which DEX files work, it‚Äôs not as easy as it would be
in a normal JVM. Libraries like <a href="https://github.com/classgraph/classgraph">classgraph</a>
fail to work on Android. And there are hacks to scan DEX files to find annotated classes,
but those
<a href="https://bravenewgeek.com/implementing-spring-like-classpath-scanning-in-android/">are slow and dangerous to use</a>.</p>

<p>Currently we have <code class="language-plaintext highlighter-rouge">AdapterIndexGeneratorBuidler.kt</code> which actually does just this, but at
compile time. Here‚Äôs what the output of this class looks like for this project (in the
generated <code class="language-plaintext highlighter-rouge">index.AdapterIndex.kt</code> file).</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="nn">index</span>

<span class="kd">class</span> <span class="nc">AdapterIndex</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="py">index</span><span class="p">:</span> <span class="nc">MutableList</span><span class="p">&lt;</span><span class="nc">ClassAnnotationHolder</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">mutableListOf</span><span class="p">()</span>

  <span class="nf">init</span> <span class="p">{</span>
    <span class="n">index</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">ClassAnnotationHolder</span><span class="p">(</span><span class="s">"DebugModelAdapter"</span><span class="p">,</span> <span class="nf">mutableListOf</span><span class="p">()).</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="n">list</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">PropertyAnnotationHolder</span><span class="p">(</span><span class="s">"title"</span><span class="p">))</span>
      <span class="n">list</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">PropertyAnnotationHolder</span><span class="p">(</span><span class="s">"description"</span><span class="p">))</span>
    <span class="p">})</span>
    <span class="n">index</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">ClassAnnotationHolder</span><span class="p">(</span><span class="s">"PersonModelAdapter"</span><span class="p">,</span> <span class="nf">mutableListOf</span><span class="p">()).</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="n">list</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">PropertyAnnotationHolder</span><span class="p">(</span><span class="s">"name"</span><span class="p">))</span>
      <span class="n">list</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">PropertyAnnotationHolder</span><span class="p">(</span><span class="s">"address"</span><span class="p">))</span>
    <span class="p">})</span>

  <span class="p">}</span>

  <span class="kd">data class</span> <span class="nc">PropertyAnnotationHolder</span><span class="p">(</span>
      <span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span>
  <span class="p">)</span>

  <span class="kd">data class</span> <span class="nc">ClassAnnotationHolder</span><span class="p">(</span>
      <span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
      <span class="kd">val</span> <span class="py">list</span><span class="p">:</span> <span class="nc">MutableList</span><span class="p">&lt;</span><span class="nc">PropertyAnnotationHolder</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>
      <h1 id="using-reflection-to-load-the-adapter-classes-given-the-model-classes">
        
        
          Using reflection to load the adapter classes, given the model classes <a href="#using-reflection-to-load-the-adapter-classes-given-the-model-classes">#</a>
        
        
      </h1>
    

<p>ButterKnife is the inspiration of this feature, where you have to set it in motion by
calling <code class="language-plaintext highlighter-rouge">bind(this)</code>. Even when classes are generated, they won‚Äôt ‚Äúactivate‚Äù until they
are referenced from someplace.</p>

<p>So at some point, the code using the generated code has to make a call to load the
generated class. In our activity, this happens when <code class="language-plaintext highlighter-rouge">PersonModelAdapter</code> is directly
referenced. But this is not optimal.</p>

<p>Perhaps a better way would be one by ButterKnife used in this
<a href="https://emo-pass.com/2017/11/26/builing-things-with-java-reflection-and-annotation-processing/">nice example here</a>.
It uses reflection and annotation processing in order to work. Here‚Äôs the
<a href="https://github.com/quangctkm9207/prefpin/blob/master/prefpin/src/main/java/prefpin/PrefPin.java#L42">code for the <code class="language-plaintext highlighter-rouge">bind()</code> method</a>.</p>

<p>We can achieve this type of behavior in this project, and the code for this is in
<code class="language-plaintext highlighter-rouge">codegen.AdapterUtils.kt</code>. If you look at how the following methods
<code class="language-plaintext highlighter-rouge">bindPersonModelAdapter</code> and <code class="language-plaintext highlighter-rouge">bindDebugModelAdapter</code> are used in the sections above you
can get a sense for the ergonomics of this approach vs knowing the generated class name
ahead of time.</p>

<p>There‚Äôs a reflective way to load the <code class="language-plaintext highlighter-rouge">AdapterIndex</code> shown above as well. Here‚Äôs the code.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">private</span> <span class="k">fun</span> <span class="nf">bindDebugModelAdapter</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">items</span><span class="p">:</span> <span class="nc">MutableList</span><span class="p">&lt;</span><span class="nc">DebugModel</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">mutableListOf</span><span class="p">()</span>
    <span class="nc">AdapterUtils</span><span class="p">.</span><span class="nf">getAdapterIndex</span><span class="p">()</span><span class="o">?.</span><span class="nf">apply</span> <span class="p">{</span>
      <span class="p">(</span><span class="k">this</span> <span class="k">as</span> <span class="nc">AdapterIndex</span><span class="p">).</span><span class="n">index</span><span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="n">classAnnotationHolder</span> <span class="p">-&gt;</span>
        <span class="kd">val</span> <span class="py">title</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">classAnnotationHolder</span><span class="p">.</span><span class="n">name</span>
        <span class="kd">val</span> <span class="py">description</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">classAnnotationHolder</span><span class="p">.</span><span class="n">list</span><span class="p">.</span><span class="nf">joinToString</span><span class="p">(</span><span class="s">","</span><span class="p">,</span> <span class="s">"{"</span><span class="p">,</span> <span class="s">"}"</span><span class="p">)</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">name</span> <span class="p">}</span>
        <span class="n">items</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="nc">DebugModel</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="p">))</span>
      <span class="p">}</span>
      <span class="kd">val</span> <span class="py">adapter</span> <span class="p">=</span> <span class="nc">AdapterUtils</span><span class="p">.</span><span class="nf">createBindingForModel</span><span class="p">(</span><span class="nc">DebugModel</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
      <span class="n">adapter</span><span class="o">?.</span><span class="nf">apply</span> <span class="p">{</span>
        <span class="n">recyclerView</span><span class="p">.</span><span class="n">adapter</span> <span class="p">=</span> <span class="k">this</span> <span class="k">as</span> <span class="nc">RecyclerView</span><span class="p">.</span><span class="nc">Adapter</span><span class="p">&lt;</span><span class="err">*</span><span class="p">&gt;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div></div>
      <h1 id="converting-groovy-scripts-to-kotlin-dsl">
        
        
          Converting Groovy scripts to Kotlin DSL <a href="#converting-groovy-scripts-to-kotlin-dsl">#</a>
        
        
      </h1>
    

<p>The Groovy gradle files have been converted to Kotlin DSL. Also, note that there are very
few files in <code class="language-plaintext highlighter-rouge">buildSrc</code> that contain variables about dependencies and version numbers.
These are updated by Android Studio, and putting them in variables defeats Studio‚Äôs
efforts to automatically upgrade these for you, so it‚Äôs best to keep it really simple for
simple projects like this one.</p>

<ol>
  <li>You can learn more about how to migrate from Groovy to Kotlin DSL
<a href="https://proandroiddev.com/the-new-way-of-writing-build-gradle-with-kotlin-dsl-script-8523710c9670">here</a>.</li>
  <li>Here‚Äôs a KTS script to automate the Groovy file to Kotlin DSL
<a href="https://github.com/bernaferrari/GradleKotlinConverter">here</a>.</li>
</ol>
      <h1 id="debugging">
        
        
          Debugging <a href="#debugging">#</a>
        
        
      </h1>
    

<p>To learn more about debugging your annotation process, check out this
<a href="https://medium.com/@cafonsomota/debug-annotation-processor-in-kotlin-6eb462e965f8">link</a>.</p>
      <h1 id="references">
        
        
          References <a href="#references">#</a>
        
        
      </h1>
    

<ul>
  <li><a href="https://www.raywenderlich.com/8574679-annotation-processing-supercharge-your-development">Android &amp; Kotlin annotation processing tutorial</a></li>
  <li><a href="https://medium.com/@jintin/annotation-processing-in-java-3621cb05343a">Another tutorial like above</a></li>
  <li><a href="http://hannesdorfmann.com/annotation-processing/annotationprocessing101">Java annotation processing tutorial</a></li>
  <li><a href="https://gist.github.com/championswimmer/d7b9be0c26ac88de2455a80117137ec6">Runtime annotations and reflection</a></li>
  <li><a href="https://livebook.manning.com/book/kotlin-in-action/chapter-10/55">Kotlin in Action book</a></li>
</ul>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/Android">
                #android</a>
        </span>
    
    <span class="category">
            <a href="/category/KT">
                #kt</a>
        </span>
    
    <span class="category">
            <a href="/category/MP">
                #mp</a>
        </span>
    
</div>

        
<blockquote>

  üëÄ Watch Rust ü¶Ä live coding videos on our <a
  href="https://www.youtube.com/@developerlifecom">YouTube Channel</a>.

  <br/>
  <br/>

  <!-- video on rust polymorphism (no playlist) -->
  <iframe
      src="https://www.youtube.com/embed/kYTgGtJjSro?si=XmW-_CAvCfB5e269"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
      >
  </iframe>

  <br/>
  <br/>

  üì¶ Install our useful Rust command line apps using <code>cargo install r3bl-cmdr</code>
  (they are from the <a href="https://github.com/r3bl-org/r3bl-open-core">r3bl-open-core</a>
  project):
  <ul>
    <li>üê±<code>giti</code>: run interactive git commands with confidence in your terminal</li>
    <li>ü¶ú<code>edi</code>: edit Markdown with style in your terminal</li>
  </ul>

  <p>
  <kbd>giti in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/262f59d1-a95c-4af3-accf-c3d6cac6e586" type="video/mp4"/>
  </video>
  </p>

  <p>
  <kbd>edi in action</kbd>
  <video width="100%" controls>
    <source src="https://github.com/nazmulidris/developerlife.com/assets/2966499/f2c4b07d-b5a2-4f41-af7a-06d1b6660c41" type="video/mp4"/>
  </video>
  </p>

  </blockquote>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/05/11/kotlin-vs-java/">
                        Java vs Kotlin for Android development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-in-depth/">
                        In-depth exploration of Dagger 2
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/07/21/designing-for-multiple-screen-densities-on-android/">
                        Designing for multiple screen densities on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/07/introduction-to-android-architecture-components/">
                        Introduction to Android Architecture Components
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/12/02/android-downloadable-fonts/">
                        Android Downloadable Fonts
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/29/getting-started-with-mediaplayer-on-android/">
                        Getting started with MediaPlayer on Android
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/09/android-o-n-and-below-component-lifecycles-and-background-tasks/">
                        Deep dive into Android Services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/26/flexbox-layouts-and-lists-with-react-native/">
                        Flexbox layouts and lists with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/04/14/navigation-and-styling-with-react-native/">
                        Navigation and Styling with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/03/31/getting-started-with-react-native/">
                        Getting started with React Native
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/01/27/native-android-redux-and-firebase/">
                        Android, Redux, Firebase Auth &amp; Database, and Material Design
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/20/gps/">
                        Android Location Providers (gps, network, passive)
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/12/android-event-dispatch-thread-or-main-thread/">
                        Android Event Dispatch Thread or Main Thread
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2009/03/06/using-json-for-mobile-object-exchange/">
                        Using JSON for mobile object exchange
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/05/android-animation-framework/">
                        Android Animation Framework Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-listview/">
                        Android ListView and custom adapter Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/08/04/android-linearlayout/">
                        Android LinearLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/31/android-ui-themes/">
                        Android UI Themes Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/29/android-tablelayout/">
                        Android TableLayout Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/option-and-context-menu/">
                        Android Option and Context menu Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/16/android-xml-view-inflation/">
                        Android XML View inflation Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/07/14/android-app-lifecycle-activity-intent-and-service-draft/">
                        Android Activity and sub-Activity Tutorial
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-33-multithreading/">
                        Android - How to build a service-enabled Android app - Part 3/3 Multithreading
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-13-ui/">
                        Android - How to build a service-enabled Android app - Part 1/3 UI
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-23-networking/">
                        Android - How to build a service-enabled Android App - Part 2/3 Networking
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/03/13/ij-idea-plugin-advanced/">
                        Advanced guide to creating IntelliJ IDEA plugins
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2021/02/06/publish-kotlin-library-as-gradle-dep/">
                        Publishing a Kotlin library as a Gradle dependency to JitPack or GitHub Package Repository
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/11/20/idea-plugin-example-intro/">
                        Introduction to creating IntelliJ IDEA plugins
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/07/15/non-capturing-lambda-problems/">
                        Potential problems of using non-capturing lambdas
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2020/04/05/kotlin-dsl-intro/">
                        Kotlin DSL Introduction
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/12/02/project-loom-experiment/">
                        Experimenting w/ Fibers in Project Loom preview
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/03/30/algorithms-in-kotlin-8/">
                        Algorithms in Kotlin, Schedule ordered tasks
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/kotlin-testing-setup/">
                        Kotlin and Test Driven Development
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/kotlin-sealed-classes/">
                        Kotlin Sealed Classes and State
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/kotlin-extension-function-expressions/">
                        Kotlin Extension Function Expressions
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/10/21/dagger2-and-kotlin/">
                        Advanced Dagger 2 w/ Android and Kotlin
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-7/">
                        Algorithms in Kotlin, Caches, Part 7/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-6/">
                        Algorithms in Kotlin, Binary Trees, Part 6/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-5/">
                        Algorithms in Kotlin, Graphs, Part 5/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-4/">
                        Algorithms in Kotlin, Recursion, Part 4/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-3/">
                        Algorithms in Kotlin, Stacks and Queues, Part 3/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-2/">
                        Algorithms in Kotlin, Strings, Part 2/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2018/08/16/algorithms-in-kotlin-1/">
                        Algorithms in Kotlin, Big-O-Notation, Part 1/7
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/08/04/rust-dsl-part-1/">
                        Create a simple DSL for CSS like syntax for TUIs
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/30/rust-proc-macro/">
                        Guide to Rust procedural macros
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2020/07/11/annotation-processing-kotlin-android/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <!-- video on intro to testing (with playlist) -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=7gmhXY5DVYJG7OdU&amp;list=PLofhE49PEwmwLR_4Noa0dFOSPmSpIg_l8"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- rust async readline and spinner & playlist -->
    <!-- <iframe
      src="https://www.youtube.com/embed/videoseries?si=i37Ei9nCfvslOoaI&amp;list=PLofhE49PEwmwelPkhfiqdFQ9IXnmGdnSE"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen
    >
    </iframe> -->

    <!-- effective async rust & playlist -->
    <h2 class="star-us-github-heading">
      Subscribe to our
      <a href="https://www.youtube.com/@developerlifecom">YT Channel</a
      ><span class="heading-emoji"> ü¶Ä</span>
    </h2>

    <iframe
    src="https://www.youtube.com/embed/qvIt8MF-pCM?si=S40pbhnvVDAohj-6"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen>
    </iframe>

    <hr />

    <h2 class="star-us-github-heading">
      <a href="https://r3bl.com#services">Need help with code?</a>
      <span class="heading-emoji"> üíº</span>
    </h2>

    <hr />

    <h2 class="star-us-github-heading">
      Use our crates & apps<span class="heading-emoji"> üì¶</span>
    </h2>

    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-apps.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://chromewebstore.google.com/detail/r3bl-shortlink/ffhfkgcfbjoadmhdmdcmigopbfkddial?hl=en-US&gl=US" target="_blank">
          <img class="star-icon-img" src="/assets/r3bl-shortlink.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <!-- <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a
          href="https://github.com/r3bl-org/r3bl-open-core/tree/main/terminal_async"
          target="_blank"
        >
          <img class="star-icon-img" src="/assets/crate.png" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TERMINAL ASYNC LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_terminal_async</code></h3>
          </div>
        </a>
      </li> -->
    </ul>

    <hr />

    <h2 class="star-us-github-heading">
      To provide feedback & comments, join our <a href="https://discord.gg/PhuF4qFpcA">Discord</a>
      <span class="heading-emoji"> üí¨</span>
    </h2>

    <h2 class="star-us-github-heading">
      Sign up for our <a href="subscribe.html">newsletter</a>
      <span class="heading-emoji"> üìß</span>
    </h2>

  </section>
</div>
</div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. ¬© Nazmul Idris 2022. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics related to Java, XML,
    and web and desktop technologies. Today it covers Rust, TUI, CLI, Kotlin, TypeScript, Node.js, React, Android,
    JDK, Web, Cloud technologies, User Experience Engineering (UXE) and design topics. ¬© Nazmul
    Idris 2022. All rights reserved.
  </p>
  <div class="footer-container">

    <!-- element 1 -->
    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com#services" target="_blank">Need help with code?</a>
    </kbd>

    <!-- element 2 -->
    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Newsletter</a
      >
    </kbd>

  </div>
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
