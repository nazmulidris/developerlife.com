<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Task API (3 of 3) - Monitoring HTTP POST operations | developerlife.com</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Task API (3 of 3) - Monitoring HTTP POST operations" />
<meta name="author" content="Nazmul Idris" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Using Task API to perform HTTP POST operation in the background, while monitoring the request and response I/O operation data streams" />
<meta property="og:description" content="Using Task API to perform HTTP POST operation in the background, while monitoring the request and response I/O operation data streams" />
<link rel="canonical" href="http://developerlife.com/2008/05/27/task-api-3-of-5-monitoring-http-post-operations/" />
<meta property="og:url" content="http://developerlife.com/2008/05/27/task-api-3-of-5-monitoring-http-post-operations/" />
<meta property="og:site_name" content="developerlife.com" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2008-05-27T14:18:08-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Task API (3 of 3) - Monitoring HTTP POST operations" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nazmul Idris"},"dateModified":"2008-05-27T14:18:08-05:00","datePublished":"2008-05-27T14:18:08-05:00","description":"Using Task API to perform HTTP POST operation in the background, while monitoring the request and response I/O operation data streams","headline":"Task API (3 of 3) - Monitoring HTTP POST operations","mainEntityOfPage":{"@type":"WebPage","@id":"http://developerlife.com/2008/05/27/task-api-3-of-5-monitoring-http-post-operations/"},"url":"http://developerlife.com/2008/05/27/task-api-3-of-5-monitoring-http-post-operations/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css" />

  <!-- Add favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Add font awesome -->
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.2.0/css/all.css"
    integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous"
  />

  <!-- Add Google fonts-->
  <link
    href="https://fonts.googleapis.com/css?family=Spline+Sans|Work+Sans|Fira+Mono|Fira+Sans|Google+Sans|Lexend+Deca&display=swap"
    rel="stylesheet"
  /><link type="application/atom+xml" rel="alternate" href="http://developerlife.com/feed.xml" title="developerlife.com" /><!-- https://developers.google.com/analytics/devguides/collection/gtagjs -->
<script async
        src="https://www.googletagmanager.com/gtag/js?id=G-NQY9ECC58H"></script>
<script>
  window.dataLayer = window.dataLayer || []

  function gtag() {
    window.dataLayer.push(arguments)
  }

  gtag("js", new Date())
  gtag("config", "G-NQY9ECC58H")
</script>
<!-- https://us14.admin.mailchimp.com/account/connected-sites/site-detail/ -->

<script id="mcjs">
  !(function (c, h, i, m, p) {
    ;(m = c.createElement(h)),
      (p = c.getElementsByTagName(h)[0]),
      (m.async = 1),
      (m.src = i),
      p.parentNode.insertBefore(m, p)
  })(
    document,
    "script",
    "https://chimpstatic.com/mcjs-connected/js/users/c2470ddfa863eb8ace707651b/2bb3bcad193ef862398700457.js"
  )
</script>
</head>
<body><!-- https://github.com/mermaid-js/mermaid/blob/develop/docs/n00b-gettingStarted.md -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
  // https://mermaid-js.github.io/mermaid/#/theming
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark",
    themeVariables: {
      fontFamily: "Fira Code",
      fontSize: "0.95rem",
      darkMode: true,
      primaryColor: "#2f9ece",
      mainBkg: "#303439",
    },
  })
</script>
<header class="site-header" role="banner">

    <div class="wrapper header-wrapper"><div class="logo-container">
        <div class="logo-image">
          <a class="site-title"
             rel="author"
             href="/">
              <!-- This is the logo image placeholder. -->
                <picture>
                  <source srcset="/assets/dl-logo-icon-dark.svg" media="(max-width: 600px)"/>
                  <img  src="/assets/dl-logo-icon-and-text-dark.svg" />
                </picture>
          </a>
        </div>
      </div><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger"/>
            <label for="nav-trigger">
          <span class="menu-icon">
              <svg class="svg-icon">
              <use xlink:href="/assets/minima-social-icons.svg#menu">
              </use>
            </svg>
          </span>
            </label>

            <div class="trigger"><!--
    Iterate over all the pages in the site, where page_cursor holds the current
    page for each pass of the for loop.
    Note that page is the currently loaded page itself.
--><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Android/"> Android </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CC/"> Concurrency </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CLI/"> CLI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/CS/"> CS </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DB/"> Database </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/DI/"> DI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/FE/"> Frontend </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Hardware/"> Hardware </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/IJ/"> IntelliJ </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/KT/"> Kotlin </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Linux/"> Linux </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/MP/"> MP </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Misc/"> Misc </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Node/"> Node </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Productivity/"> Productivity </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/RN/"> React-Native </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/React/"> React </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Rust/"> Rust </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Server/"> Server </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/State/"> State-Management </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Stories/"> Stories </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TDD/"> Testing </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TS/"> TypeScript </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/TUI/"> TUI </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/category/Web/"> Web </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-me/"> Nazmul Idris </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/about-site/"> About Us </a><!-- This item is not selected -->
        <!-- Don't list excluded pages --><a class="page-link" href="/authors/"> Authors </a></div>
        </nav></div>
</header>

<!-- Debug to show the value of page.title and page.category variables -->
<!--<pre>page_cursor.exclude = nil</pre>-->
<!--<pre>page.exclude = nil</pre>-->
<!--<pre>page.title = &quot;Task API (3 of 3) - Monitoring HTTP POST operations&quot;</pre>-->
<!--<pre>page.category = nil</pre>-->
<!--<pre>page.title (json) = Task API (3 of 3) - Monitoring HTTP POST operations</pre>-->
<!--<pre>page.category (json) = </pre>-->
<div class="page-and-sidebar-wrapper">
      <main class="page-content" aria-label="Content">
        <div class="wrapper"><article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting"><header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Task API (3 of 3) - Monitoring HTTP POST operations</h1>

    <!-- Create all the variables needed for this page (and all the includes) -->
    

    <div class="post-meta">
        <p>
            <!-- Date -->May 27, 2008

            <!--Author-->
            ∙ <a href="/about-me">Nazmul Idris</a>

            <!-- One line social blurb --><ul class="contact-list">
    <li class="p-name">Hi, I'm
            <a href="/about-me">Nazmul</a>,
            an ex-Googler, <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">r3bl_tui maintainer</a>, SWE, entrepreneur, designer, leader,
            TaiChi-er, racer, storyteller.
            <!-- This is font awesome icon -->
            I <i class="fas fa-heart"></i>
            leadership, authenticity, empowerment, lifelong learning,
            <i class="fas fa-code"></i>,
            <i class="fas fa-terminal"></i>, &
            <i class="fas fa-coffee"></i>,
            😃.</li>
</ul>
</p>
    </div><div class="social-media-container">
  <!-- <iframe
    src="https://github.com/sponsors/nazmulidris/button"
    title="Sponsor nazmulidris"
    height="35"
    width="116"
    style="border: 0; padding-right: 6px"
  ></iframe> -->

  <a href="/subscribe.html" target="_blank"
    ><kbd>Subscribe for updates</kbd></a
  ><p class="social-media-item">
    <a
      href="https://www.linkedin.com/in/nazmulidris"
      target="_blank"
    >
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#linkedin"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.youtube.com/channel/UCMcsxfCwzwDevc3NRqFgfEg" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#youtube"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="https://www.github.com/nazmulidris" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#github"></use>
      </svg>
    </a>
  </p><p class="social-media-item">
    <a href="/feed.xml" target="_blank">
      <svg class="svg-icon">
        <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
      </svg>
    </a>
  </p></div>
</header>
<div class="post-content e-content" itemprop="articleBody">

        <!-- If a page has a hero-image defined in it, then show it here -->


        <!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#background---threads-101">Background - threads 101</a></li>
  <li><a href="#architecture---how">Architecture - how?</a></li>
  <li><a href="#example---http-post-operation">Example - HTTP POST Operation</a>
    <ul>
      <li><a href="#what-does-the-sampleapp-do">What does the SampleApp do?</a></li>
      <li><a href="#performing-http-post-operation">Performing HTTP POST operation</a></li>
    </ul>
  </li>
  <li><a href="#download---i-want-the-code-now">Download - I want the code now!</a></li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction">#</a>
        
        
      </h2>
    

<p>For a brief introduction on what the Task API is and how to quickly get started using it, read the
first tutorial in the series -
<a href="https://developerlifecom.wordpress.com/2008/04/06/task-api-quick-start-guide/">Task API - Quick Start Guide</a>.
Also read the second tutorial in the series -
<a href="https://developerlifecom.wordpress.com/2008/04/08/task-api-2-of-5-task-api-in-depth/">Task API - In-depth Guide</a>,
to get a better understanding of the Task API details. This tutorial will highlight a sample app
that performs an HTTP POST operation; both the request and response portions of this network I/O
operation can be monitored, and canceled at any time.</p>
      <h2 id="background---threads-101">
        
        
          Background - threads 101 <a href="#background---threads-101">#</a>
        
        
      </h2>
    

<p>If you are not familiar with threading or EDT, then you can learn more about threads in the
<a href="http://www.amazon.com/gp/product/0321349601/104-6050793-5284701?ie=UTF8&amp;tag=developerlife-20&amp;linkCode=xm2&amp;camp=1789&amp;creativeASIN=0321349601">Concurrency in Practice</a>
book. You can learn more about the Event Dispatch Thread (EDT) in the
<a href="http://www.amazon.com/gp/product/0132413930/104-6050793-5284701?ie=UTF8&amp;tag=developerlife-20&amp;linkCode=xm2&amp;camp=1789&amp;creativeASIN=0132413930">Filthy Rich Clients</a>
book.</p>
      <h2 id="architecture---how">
        
        
          Architecture - how? <a href="#architecture---how">#</a>
        
        
      </h2>
    

<p>If you are familiar with
<a href="http://java.sun.com/javase/6/docs/api/javax/swing/SwingWorker.html">SwingWorker</a>, then you will
know that you work with it by creating a subclass (or anonymous inner class implementation) in which
you define a doInBackground() method. Then you execute the task, and you have the option of
canceling it. Instead of taking this approach of making inner class implementations in-line, the
Task API works via a set of handlers and <a href="http://en.wikipedia.org/wiki/Functor">functor</a>s that you
simply attach to a Task to tell it:</p>

<ol>
  <li>
    <p>what to execute in the background</p>
  </li>
  <li>
    <p>what to do when the task completes successfully, or fails, or gets interrupted.</p>
  </li>
</ol>

<p>You can also listen to bound properties (JavaBeans style properties) that will report status
changes, progress updates, etc. It makes it very easy to work with the API, and if you’re used to
writing event driven code, then this approach is very natural. There is a whole host of support
classes that are provided to make your life really easy when working with these tasks - their
functors, handlers, and listeners. I’ve worked very hard to make this API easy to use… it’s not a
‘lazy’ implementation on my part… I’ve worked very hard so that you don’t have to! :) . Another
nice feature the API has is that it auto-cleans up resources, and auto-stops things, making it
relatively easy to manage the lifecycle of these tasks and the resources &amp; hooks (listeners, etc)
that they consume. More on this in the other tutorials.</p>

<p>The following diagram illustrates the basic architecture of the API:</p>

<p><img src="/assets/taskapi-5.png" alt="" /></p>
      <h2 id="example---http-post-operation">
        
        
          Example - HTTP POST Operation <a href="#example---http-post-operation">#</a>
        
        
      </h2>
    

<p>As part of the Task API distribution, there are a set of sample applications included to demonstrate
the usage of the API. The one we are going to cover in this tutorial is titled - “Part 3 - Sample
Application using Task API. Using SimpleTask and HTTP POST”. If you’ve downloaded the code, you can
find this class here - Samples.Part3.SampleApp. This class has a main() method that you can run. Use
your favorite IDE to load this class up and follow along below. If you have IDEA 7, then the you can
just open the taskapi.ipr project file and run it from the Run menu on your toolbar.</p>
      <h4 id="what-does-the-sampleapp-do">
        
        
          What does the SampleApp do? <a href="#what-does-the-sampleapp-do">#</a>
        
        
      </h4>
    

<p>What does this app do? It simply performs an HTTP POST operation on the given URI (in the text
field) and it shows you the progress of the network IO operation and it allows you to cancel it in
flight. The URI is set to a <a href="http://www.google.com/help/blogsearch/pinging_API.html">Google service</a>
that accepts HTTP POST operations. In the codebase of the Task API, a Servlet is provided that
allows you to test your GET and POST operations, it’s called SampleService.DataPingServlet. If you
deploy the Test.war file to a Servlet container, then you can just put the URI of that servlet into
the text field and run this test app. If you do use this DataPingServlet, it’s servlet mapping is
“/Ping”, so a URI might look like - http://localhost:8080/Test/Ping. The IDEA project included with
the source code has a web facet that you can use to generate the Test.war file.</p>

<p>Also, if the URI resolves to an image, it tries to display it in a JFrame, that you can dispose
simply by clicking on it anywhere. You can provide URI’s that resolve to other files, that aren’t
images, and they won’t be displayed.</p>

<p>Here’s a screenshot of this sample app in action:</p>

<p><img src="/assets/taskapi-7.png" alt="" /></p>

<p>Once you start the application (and you’re connected to the Internet), check both Enable “Receive”
and Enable “Send” checkboxes, and then click on “Start Task”, you get the following:</p>

<p><img src="/assets/taskapi-7.png" alt="" /></p>
      <h4 id="performing-http-post-operation">
        
        
          Performing HTTP POST operation <a href="#performing-http-post-operation">#</a>
        
        
      </h4>
    

<p>Here’s the code in the TaskExecutor functor that does the HTTP POST:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TaskExecutorIF</span><span class="o">&lt;</span><span class="nc">ByteBuffer</span><span class="o">&gt;</span> <span class="n">functor</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskExecutorAdapter</span><span class="o">&lt;</span><span class="nc">ByteBuffer</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="nc">ByteBuffer</span> <span class="nf">doInBackground</span><span class="o">(</span><span class="nc">Future</span><span class="o">&lt;</span><span class="nc">ByteBuffer</span><span class="o">&gt;</span> <span class="n">swingWorker</span><span class="o">,</span>
                                   <span class="nc">SwingUIHookAdapter</span> <span class="n">hook</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>

    <span class="k">try</span> <span class="o">{</span>

      <span class="n">_initHook</span><span class="o">(</span><span class="n">hook</span><span class="o">);</span>

      <span class="nc">PostMethod</span> <span class="n">post</span> <span class="o">=</span> <span class="nc">HttpUtils</span><span class="o">.</span><span class="na">sendMonitoredPOSTRequest</span><span class="o">(</span>
          <span class="n">ttfURI</span><span class="o">.</span><span class="na">getText</span><span class="o">(),</span>
          <span class="n">hook</span><span class="o">,</span>
          <span class="k">new</span> <span class="nf">ByteBuffer</span><span class="o">(</span><span class="n">ttaInput</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">getBytes</span><span class="o">()),</span>
          <span class="s">"text/xml"</span>
      <span class="o">);</span>

      <span class="nc">ByteBuffer</span> <span class="n">data</span> <span class="o">=</span> <span class="nc">HttpUtils</span><span class="o">.</span><span class="na">getMonitoredResponse</span><span class="o">(</span><span class="n">hook</span><span class="o">,</span> <span class="n">post</span><span class="o">);</span>

      <span class="k">return</span> <span class="n">data</span><span class="o">;</span>

    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">){</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
      <span class="k">throw</span> <span class="n">e</span><span class="o">;</span>
    <span class="o">}</span>

  <span class="o">}</span>

  <span class="nd">@Override</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">_task</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">};</span>
</code></pre></div></div>

<p>Here are some notes on the code:</p>

<ol>
  <li>
    <p>The HttpUtils class makes it a breeze to hook up the POST operation for monitoring. For more
information on HTTP POST using the Apache HTTP Client API,
<a href="http://hc.apache.org/httpclient-3.x/methods/post.html">click here</a>. Both the request and
response can be monitored. To enable monitoring of the request, set “Enable Send”. To enable
monitoring of the response, set “Enable Receive”.</p>
  </li>
  <li>
    <p>The data for the request just has to be a ByteBuffer. As the data from this ByteBuffer gets sent
over the network, the UIHook gets updated with status updates.</p>
  </li>
  <li>
    <p>The data from the response is retrieved by using HttpUtils.getMonitoredResponse(…). As the data
is received from the POST operation, the UIHook gets updated.</p>
  </li>
</ol>

<p>The _initHook(hook) operation does the following:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="nc">SwingUIHookAdapter</span> <span class="nf">_initHook</span><span class="o">(</span><span class="nc">SwingUIHookAdapter</span> <span class="n">hook</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">hook</span><span class="o">.</span><span class="na">enableRecieveStatusNotification</span><span class="o">(</span><span class="n">checkboxRecvStatus</span><span class="o">.</span><span class="na">isSelected</span><span class="o">());</span>
  <span class="n">hook</span><span class="o">.</span><span class="na">enableSendStatusNotification</span><span class="o">(</span><span class="n">checkboxSendStatus</span><span class="o">.</span><span class="na">isSelected</span><span class="o">());</span>

  <span class="n">hook</span><span class="o">.</span><span class="na">setProgressMessage</span><span class="o">(</span><span class="n">ttfProgressMsg</span><span class="o">.</span><span class="na">getText</span><span class="o">());</span>

  <span class="nc">PropertyChangeListener</span> <span class="n">listener</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PropertyChangeListener</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">propertyChange</span><span class="o">(</span><span class="nc">PropertyChangeEvent</span> <span class="n">evt</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">SwingUIHookAdapter</span><span class="o">.</span><span class="na">PropertyList</span> <span class="n">type</span> <span class="o">=</span> <span class="nc">ProgressMonitorUtils</span><span class="o">.</span><span class="na">parseTypeFrom</span><span class="o">(</span><span class="n">evt</span><span class="o">);</span>
      <span class="kt">int</span> <span class="n">progress</span> <span class="o">=</span> <span class="nc">ProgressMonitorUtils</span><span class="o">.</span><span class="na">parsePercentFrom</span><span class="o">(</span><span class="n">evt</span><span class="o">);</span>
      <span class="nc">String</span> <span class="n">msg</span> <span class="o">=</span> <span class="nc">ProgressMonitorUtils</span><span class="o">.</span><span class="na">parseMessageFrom</span><span class="o">(</span><span class="n">evt</span><span class="o">);</span>

      <span class="n">progressBar</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">progress</span><span class="o">);</span>
      <span class="n">progressBar</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

      <span class="n">sout</span><span class="o">(</span><span class="n">msg</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">};</span>

  <span class="n">hook</span><span class="o">.</span><span class="na">addRecieveStatusListener</span><span class="o">(</span><span class="n">listener</span><span class="o">);</span>
  <span class="n">hook</span><span class="o">.</span><span class="na">addSendStatusListener</span><span class="o">(</span><span class="n">listener</span><span class="o">);</span>
  <span class="n">hook</span><span class="o">.</span><span class="na">addUnderlyingIOStreamInterruptedOrClosed</span><span class="o">(</span><span class="k">new</span> <span class="nc">PropertyChangeListener</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">propertyChange</span><span class="o">(</span><span class="nc">PropertyChangeEvent</span> <span class="n">evt</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">sout</span><span class="o">(</span><span class="n">evt</span><span class="o">.</span><span class="na">getPropertyName</span><span class="o">()</span> <span class="o">+</span> <span class="s">" fired!!!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">});</span>

  <span class="k">return</span> <span class="n">hook</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
      <h2 id="download---i-want-the-code-now">
        
        
          Download - I want the code now! <a href="#download---i-want-the-code-now">#</a>
        
        
      </h2>
    

<p>You can download the source code distribution <a href="/assets/taskapi.zip">here</a>.
Included are sources, libraries that are needed, and javadocs. The sample applications are included
in the source as well. Please read the javadocs - I have copious amounts of documentation about the
lifecycle stages of Tasks in there, along with all the other classes in the Task API. The best place
to see what’s going on is in the javadocs. I took the time to write them for your benefit, as well
as mine, so please use them :) .</p>

<p>After you download the zip file, you will find all the compiled JARs that you will need in the
/taskapi/dist/ folder. All the source code is in the /taskapi/src/ folder. The javadocs are in the
/taskapi/javadoc/ folder.</p>

        <!--
    Display all the categories for this page
    More info:
    - Tutorial - http://tinyurl.com/yc6fq6zx
    - Liquid language reference - http://tinyurl.com/y8s4qpwo
-->
<div class="categories-block">
    
    
    <span class="category">
            <a href="/category/CC">
                #cc</a>
        </span>
    
</div>

        <!--
    Display related posts (by category)
    More info:
    - Tutorial - http://tinyurl.com/j5tevq7
    - Liquid language reference - http://tinyurl.com/y9ru5msq
-->
<div class="related-post-block">

    <h3>Related Posts</h3>

    <!-- Get all the related posts into the string `postsString`-->
    
    
    

    <!--
        At this point `postsString` string might look like:
        Post 3|Post 1|Post 3|Post 2|Post 1|Post 3|Post 2|
    -->

    <!-- Remove all the dupes from the `postsString` string, and split it into an array -->
    

    <ul>
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/12/rust-redux/">
                        Write a Redux library in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2022/03/12/rust-tokio/">
                        Write code using async/await in Rust
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2019/12/02/project-loom-experiment/">
                        Experimenting w/ Fibers in Project Loom preview
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2017/07/09/android-o-n-and-below-component-lifecycles-and-background-tasks/">
                        Deep dive into Android Services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2010/10/12/android-event-dispatch-thread-or-main-thread/">
                        Android Event Dispatch Thread or Main Thread
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/06/04/how-to-build-a-service-enabled-android-app-part-33-multithreading/">
                        Android - How to build a service-enabled Android app - Part 3/3 Multithreading
                    </a>
                </li>
            
        
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/04/08/task-api-2-of-5-task-api-in-depth/">
                        Task API (2 of 3) - Task API in-depth
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2008/04/05/task-api-quick-start-guide/">
                        Task API (1 of 3) - Quick Start Guide
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/11/09/swingworker-details-canceling-background-tasks-in-flight/">
                        SwingWorker details - canceling background tasks in flight
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2007/01/08/creating-multi-threaded-swing-apps-that-consume-web-services/">
                        Creating multi-threaded Swing apps that consume web services
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2006/06/09/introduction-to-java-50-javautilconcurrent-api/">
                        Introduction to Java 5 java.util.concurrent API
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2000/09/20/advanced-threads/">
                        Advanced Threads
                    </a>
                </li>
            
        
            
                
                <li>
                    <a class="post-list" href="/2000/09/20/introduction-to-threads/">
                        Introduction to Threads
                    </a>
                </li>
            
        
    </ul>

</div>

        <a class="u-url" href="/2008/05/27/task-api-3-of-5-monitoring-http-post-operations/" hidden></a>
    </div></article>
</div>
      </main><div>
  <section class="sidebar">
    <h2 class="star-us-github-heading">
      Please star our Github and use our apps & libs<span class="heading-emoji">🙏</span>
    </h2>
    <ul class="sidebar-ul">
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/cmdr" target="_blank">
          <img class="star-icon-img" src="/assets/star-gradient.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">INSTALL & USE OUR APPS (giti, edi)</p>
            <h3 class="sidebar-h3"><code>r3bl-cmdr</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/shortlink" target="_blank">
          <img class="star-icon-img" src="/assets/star-gradient.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">SHORTLINK browser extension</p>
            <h3 class="sidebar-h3"><code>shortlink</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tui" target="_blank">
          <img class="star-icon-img" src="/assets/star-gradient.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUI LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tui</code></h3>
          </div>
        </a>
      </li>
      <li class="app-container">
        <a href="https://github.com/r3bl-org/r3bl-open-core/tree/main/tuify" target="_blank">
          <img class="star-icon-img" src="/assets/star-gradient.svg" />
          <div class="sidebar-list-item">
            <p class="p-tag">R3BL TUIFY LIB</p>
            <h3 class="sidebar-h3"><code>r3bl_tuify</code></h3>
          </div>
        </a>
      </li>
    </ul>
  </section>
</div></div><footer class="site-footer h-card">

    <div class="wrapper">

        <div class="footer-col-wrapper">

            <div class="footer-col"><!-- <p>
    developerlife.com site was started in Nov 1998 with coverage for
    topics related to Java, XML, and web and desktop technologies.
    Today it covers Kotlin, TypeScript, Node.js, React, Android, JDK,
    Web, Cloud technologies, User Experience Engineering (UXE)
    and design topics. © Nazmul Idris 2022. All rights reserved.
</p> -->
<div>
  <p class="footer-p">
    developerlife.com site was started in Nov 1998 by <a href="https://developerlife.com/about-me/">Nazmul Idris</a>, with coverage for topics related to Java, XML,
    and web and desktop technologies. Today it covers Rust, TUI, CLI, Kotlin, TypeScript, Node.js, React, Android,
    JDK, Web, Cloud technologies, User Experience Engineering (UXE) and design topics. © Nazmul
    Idris 2022. All rights reserved.
  </p>
  <div class="footer-container">
    <!-- element 1 -->
    <kbd>
      <a class="footer-elem-1" href="/subscribe.html" target="_blank"
        >Subscribe for updates</a
      >
    </kbd>

    <!-- element 2 -->
    <kbd>
      <a class="footer-elem-2" href="https://r3bl.com" target="_blank">Sponsored by R3BL</a>
    </kbd>
  </div>
</div>
</div>

        </div>

    </div>

</footer>
<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
    var b = c[a];
    b.getAttribute("href") && b.hostname !== location.hostname && (b.target = "_blank")
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
} 
pdf_new_window()
external_new_window();
</script></body>
</html>
